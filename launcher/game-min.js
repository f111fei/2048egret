var egret;(function(b){var e=function(){function b(){this._hashCode=b.hashCount++}Object.defineProperty(b.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0});b.hashCount=1;return b}();b.HashObject=e})(egret||(egret={}));var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c){"undefined"===typeof c&&(c=300);b.call(this);this.objectPool=[];this._length=0;1>c&&(c=1);this.autoDisposeTime=c;this.frameCount=0}__extends(a,b);a.prototype._checkFrame=function(){this.frameCount--;0>=this.frameCount&&this.dispose()};Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0});a.prototype.push=function(c){var l=this.objectPool;-1==l.indexOf(c)&&(l.push(c),this._length++,0==this.frameCount&&
(this.frameCount=this.autoDisposeTime,a._callBackList.push(this)))};a.prototype.pop=function(){if(0==this._length)return null;this._length--;return this.objectPool.pop()};a.prototype.dispose=function(){0<this._length&&(this.objectPool=[],this._length=0);this.frameCount=0;var c=a._callBackList,l=c.indexOf(this);-1!=l&&c.splice(l,1)};a._callBackList=[];return a}(b.HashObject);b.Recycler=e})(egret||(egret={}));(function(b){b.__START_TIME;b.getTimer=function(){return Date.now()-b.__START_TIME}})(egret||(egret={}));(function(b){b.__callLaterFunctionList=[];b.__callLaterThisList=[];b.__callLaterArgsList=[];b.callLater=function(e,d){for(var a=[],c=0;c<arguments.length-2;c++)a[c]=arguments[c+2];b.__callLaterFunctionList.push(e);b.__callLaterThisList.push(d);b.__callLaterArgsList.push(a)}})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a,b){"undefined"===typeof a&&(a=!1);"undefined"===typeof b&&(b=!1);d.call(this);this._eventPhase=2;this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1;this.isNew=!0;this._type=c;this._bubbles=a;this._cancelable=b}__extends(a,d);Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bubbles",{get:function(){return this._bubbles},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0});a.prototype._setCurrentTarget=function(c){this._currentTarget=c};Object.defineProperty(a.prototype,"target",
{get:function(){return this._target},enumerable:!0,configurable:!0});a.prototype.isDefaultPrevented=function(){return this._isDefaultPrevented};a.prototype.preventDefault=function(){this._cancelable&&(this._isDefaultPrevented=!0)};a.prototype.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)};a.prototype.stopImmediatePropagation=function(){this._bubbles&&(this._isPropagationImmediateStopped=!0)};a.prototype._reset=function(){this.isNew?this.isNew=!1:(this._isPropagationImmediateStopped=
this._isPropagationStopped=this._isDefaultPrevented=!1,this._currentTarget=this._target=null,this._eventPhase=2)};a._dispatchByTarget=function(c,a,m,d,e,h){"undefined"===typeof e&&(e=!1);"undefined"===typeof h&&(h=!1);var k=c.eventRecycler;k||(k=c.eventRecycler=new b.Recycler);var n=k.pop();n?n._type=m:n=new c(m);n._bubbles=e;n._cancelable=h;if(d)for(var p in d)n[p]=d[p],null!==n[p]&&(d[p]=null);c=a.dispatchEvent(n);k.push(n);return c};a._getPropertyData=function(c){var a=c._props;a||(a=c._props=
{});return a};a.dispatchEvent=function(c,l,b,d){"undefined"===typeof b&&(b=!1);var e=a._getPropertyData(a);d&&(e.data=d);a._dispatchByTarget(a,c,l,e,b)};a.ADDED_TO_STAGE="addedToStage";a.REMOVED_FROM_STAGE="removedFromStage";a.ADDED="added";a.REMOVED="removed";a.COMPLETE="complete";a.ENTER_FRAME="enterFrame";a.RENDER="render";a.FINISH_RENDER="finishRender";a.FINISH_UPDATE_TRANSFORM="finishUpdateTransform";a.LEAVE_STAGE="leaveStage";a.RESIZE="resize";a.CHANGE="change";return a}(b.HashObject);b.Event=
e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(c,a,b){"undefined"===typeof a&&(a=!1);"undefined"===typeof b&&(b=!1);d.call(this,c,a,b)}__extends(a,d);a.dispatchIOErrorEvent=function(c){b.Event._dispatchByTarget(a,c,a.IO_ERROR)};a.IO_ERROR="ioError";return a}(b.Event);b.IOErrorEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a,b,e,f,h,k,n,p,q){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=!0);"undefined"===typeof e&&(e=0);"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);"undefined"===typeof k&&(k=!1);"undefined"===typeof n&&(n=!1);"undefined"===typeof q&&(q=!1);d.call(this,c,a,b);this._localY=this._localX=this._stageY=this._stageX=0;this.touchPointID=e;this._stageX=f;this._stageY=h;this.ctrlKey=k;this.altKey=n;this.touchDown=q}__extends(a,d);Object.defineProperty(a.prototype,
"stageX",{get:function(){return this._stageX},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"stageY",{get:function(){return this._stageY},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"localX",{get:function(){return this._localX},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"localY",{get:function(){return this._localY},enumerable:!0,configurable:!0});a.prototype._setCurrentTarget=function(c){d.prototype._setCurrentTarget.call(this,c);c instanceof
b.DisplayObject&&(c=c.globalToLocal(this._stageX,this._stageY,b.Point.identity),this._localX=c.x,this._localY=c.y)};a.dispatchTouchEvent=function(c,l,m,d,e,h,k,n,p){"undefined"===typeof m&&(m=0);"undefined"===typeof d&&(d=0);"undefined"===typeof e&&(e=0);"undefined"===typeof h&&(h=!1);"undefined"===typeof k&&(k=!1);"undefined"===typeof n&&(n=!1);"undefined"===typeof p&&(p=!1);var q=b.Event._getPropertyData(a);q.touchPointID=m;q._stageX=d;q._stageY=e;q.ctrlKey=h;q.altKey=k;q.shiftKey=n;q.touchDown=
p;b.Event._dispatchByTarget(a,c,l,q,!0,!0)};a.TOUCH_TAP="touchTap";a.TOUCH_MOVE="touchMove";a.TOUCH_BEGIN="touchBegin";a.TOUCH_END="touchEnd";a.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside";a.TOUCH_ROLL_OUT="touchRollOut";a.TOUCH_ROLL_OVER="touchRollOver";a.TOUCH_OUT="touchOut";a.TOUCH_OVER="touchOver";return a}(b.Event);b.TouchEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(c,a,b){"undefined"===typeof a&&(a=!1);"undefined"===typeof b&&(b=!1);d.call(this,c,a,b)}__extends(a,d);a.dispatchTimerEvent=function(c,l){b.Event._dispatchByTarget(a,c,l)};a.TIMER="timer";a.TIMER_COMPLETE="timerComplete";return a}(b.Event);b.TimerEvent=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.CAPTURING_PHASE=1;b.AT_TARGET=2;b.BUBBLING_PHASE=3;return b}();b.EventPhase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){"undefined"===typeof c&&(c=null);d.call(this);this._isUseCapture=!1;this._eventTarget=c?c:this}__extends(a,d);a.prototype.addEventListener=function(c,a,m,d,e){"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=0);b.DEBUG&&b.DEBUG.ADD_EVENT_LISTENER&&b.DEBUG.checkAddEventListener(c,a,m,d,e);d?(this._captureEventsMap||(this._captureEventsMap={}),d=this._captureEventsMap):(this._eventsMap||(this._eventsMap={}),d=this._eventsMap);var h=d[c];h||(h=d[c]=
[]);this._insertEventBin(h,a,m,e)};a.prototype._insertEventBin=function(c,a,b,d){for(var e=-1,h=c.length,k=0;k<h;k++){var n=c[k];if(n.listener===a&&n.thisObject===b)return!1;-1==e&&n.priority<d&&(e=k)}a={listener:a,thisObject:b,priority:d};-1!=e?c.splice(e,0,a):c.push(a);return!0};a.prototype.removeEventListener=function(c,a,b,d){"undefined"===typeof d&&(d=!1);if(d=d?this._captureEventsMap:this._eventsMap){var e=d[c];e&&(this._removeEventBin(e,a,b),0==e.length&&delete d[c])}};a.prototype._removeEventBin=
function(c,a,b){for(var d=c.length,e=0;e<d;e++){var h=c[e];if(h.listener===a&&h.thisObject===b)return c.splice(e,1),!0}return!1};a.prototype.hasEventListener=function(c){return this._eventsMap&&this._eventsMap[c]||this._captureEventsMap&&this._captureEventsMap[c]};a.prototype.willTrigger=function(c){return this.hasEventListener(c)};a.prototype.dispatchEvent=function(c){c._reset();c._target=this._eventTarget;c._setCurrentTarget(this._eventTarget);return this._notifyListener(c)};a.prototype._notifyListener=
function(c){var a=1==c._eventPhase?this._captureEventsMap:this._eventsMap;if(!a)return!0;a=a[c.type];if(!a)return!0;for(var a=a.concat(),b=a.length,d=0;d<b;d++){var e=a[d];e.listener.call(e.thisObject,c);if(c._isPropagationImmediateStopped)break}return!c.isDefaultPrevented()};a.prototype.dispatchEventWith=function(c,a,m){"undefined"===typeof a&&(a=!1);b.Event.dispatchEvent(this,c,a,m)};return a}(b.HashObject);b.EventDispatcher=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.reuseEvent=new b.Event("")}__extends(a,d);a.prototype.run=function(){b.Ticker.getInstance().run();b.Ticker.getInstance().register(this.renderLoop,this,Number.NEGATIVE_INFINITY);b.Ticker.getInstance().register(this.broadcastEnterFrame,this,Number.POSITIVE_INFINITY);this.touchContext.run();b.__invalidateModuleFlag=!0};a.prototype.renderLoop=function(c){c=this.rendererContext;c.clearScreen();this.dispatchEventWith(b.Event.RENDER);b.Stage._invalidateRenderFlag&&
(this.broadcastRender(),b.Stage._invalidateRenderFlag=!1);this.doCallLaterList();this.stage._updateTransform();this.dispatchEventWith(b.Event.FINISH_UPDATE_TRANSFORM);this.stage._draw(c);this.dispatchEventWith(b.Event.FINISH_RENDER)};a.prototype.broadcastEnterFrame=function(c){c=this.reuseEvent;c._type=b.Event.ENTER_FRAME;this.dispatchEvent(c);for(var a=b.DisplayObject._enterFrameCallBackList.concat(),m=a.length,d=0;d<m;d++){var e=a[d];c._target=e.display;c._setCurrentTarget(e.display);e.listener.call(e.thisObject,
c)}a=b.Recycler._callBackList;for(d=a.length-1;0<=d;d--)a[d]._checkFrame()};a.prototype.broadcastRender=function(){var c=this.reuseEvent;c._type=b.Event.RENDER;for(var a=b.DisplayObject._renderCallBackList.concat(),m=a.length,d=0;d<m;d++){var e=a[d];c._target=e.display;c._setCurrentTarget(e.display);e.listener.call(e.thisObject,c)}};a.prototype.doCallLaterList=function(){if(0!=b.__callLaterFunctionList.length){var c=b.__callLaterFunctionList;b.__callLaterFunctionList=[];var a=b.__callLaterThisList;
b.__callLaterThisList=[];var m=b.__callLaterArgsList;b.__callLaterArgsList=[];for(var d=c.length,e=0;e<d;e++){var h=c[e];null!=h&&h.apply(a[e],m[e])}}};return a}(b.EventDispatcher);b.MainContext=e})(egret||(egret={}));egret.MainContext.instance=new egret.MainContext;(function(b){var e=function(){function d(){this._tick=this._preDrawCount=this._updateTransformPerformanceCost=this._renderPerformanceCost=this._logicPerformanceCost=this._lastTime=0;this._maxDeltaTime=500;this._totalDeltaTime=0}d.getInstance=function(){null==d.instance&&(d.instance=new d);return d.instance};d.prototype.run=function(){b.Ticker.getInstance().register(this.update,this);null==this._txt&&(this._txt=new b.TextField,this._txt.stroke=1,this._txt.size=28,b.MainContext.instance.stage.addChild(this._txt));
var a=b.MainContext.instance;a.addEventListener(b.Event.ENTER_FRAME,this.onEnterFrame,this);a.addEventListener(b.Event.RENDER,this.onStartRender,this);a.addEventListener(b.Event.FINISH_RENDER,this.onFinishRender,this);a.addEventListener(b.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)};d.prototype.onEnterFrame=function(a){this._lastTime=b.getTimer()};d.prototype.onStartRender=function(a){a=b.getTimer();this._logicPerformanceCost=a-this._lastTime;this._lastTime=a};d.prototype.onFinishUpdateTransform=
function(a){a=b.getTimer();this._updateTransformPerformanceCost=a-this._lastTime;this._lastTime=a};d.prototype.onFinishRender=function(a){a=b.getTimer();this._renderPerformanceCost=a-this._lastTime;this._lastTime=a};d.prototype.update=function(a){this._tick++;this._totalDeltaTime+=a;if(this._totalDeltaTime>=this._maxDeltaTime){a=(this._preDrawCount-1).toString();var c=Math.ceil(this._logicPerformanceCost).toString()+","+Math.ceil(this._updateTransformPerformanceCost).toString()+","+Math.ceil(this._renderPerformanceCost).toString()+
","+Math.ceil(b.MainContext.instance.rendererContext.renderCost).toString();this._txt.text=a+"\n"+c+"\n"+Math.floor(1E3*this._tick/this._totalDeltaTime).toString();this._tick=this._totalDeltaTime=0}this._preDrawCount=0};d.prototype.onDrawImage=function(){this._preDrawCount++};return d}();b.Profiler=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.apply(this,arguments);this._timeScale=1;this._paused=!1;this.callBackList=[]}__extends(a,d);a.prototype.run=function(){b.__START_TIME=(new Date).getTime();b.MainContext.instance.deviceContext.executeMainLoop(this.update,this)};a.prototype.update=function(c){var a=this.callBackList.concat(),b=a.length;c*=this._timeScale;c*=this._timeScale;for(var d=0;d<b;d++){var e=a[d];e.listener.call(e.thisObject,c)}};a.prototype.register=function(c,a,b){"undefined"===
typeof b&&(b=0);this._insertEventBin(this.callBackList,c,a,b)};a.prototype.unregister=function(c,a){this._removeEventBin(this.callBackList,c,a)};a.prototype.setTimeout=function(c,a,b){for(var d=[],e=0;e<arguments.length-3;e++)d[e]=arguments[e+3];var h=this,k=0;this.register(function(e){0==b?(h.unregister(arguments.callee,a),c.apply(a,d)):(k+=e,k>=b&&(h.unregister(arguments.callee,a),c.apply(a,d)))},a)};a.prototype.setTimeScale=function(c){this._timeScale=c};a.prototype.getTimeScale=function(){return this._timeScale};
a.prototype.pause=function(){this._paused=!0};a.prototype.resume=function(){this._paused=!1};a.getInstance=function(){null==a.instance&&(a.instance=new a);return a.instance};return a}(b.EventDispatcher);b.Ticker=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.LEFT="left";b.RIGHT="right";b.CENTER="center";b.JUSTIFY="justify";b.CONTENT_JUSTIFY="contentJustify";return b}();b.HorizontalAlign=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.TOP="top";b.BOTTOM="bottom";b.MIDDLE="middle";b.JUSTIFY="justify";b.CONTENT_JUSTIFY="contentJustify";return b}();b.VerticalAlign=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a){"undefined"===typeof a&&(a=0);d.call(this);this._currentCount=0;this.delay=c;this.repeatCount=a}__extends(a,d);a.prototype.currentCount=function(){return this._currentCount};Object.defineProperty(a.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.stop();this._currentCount=0};a.prototype.start=function(){this._running||(this.lastTime=b.getTimer(),0!=this._currentCount&&(this._currentCount=
0),b.Ticker.getInstance().register(this.onEnterFrame,this),this._running=!0)};a.prototype.stop=function(){this._running&&(b.Ticker.getInstance().unregister(this.onEnterFrame,this),this._running=!1)};a.prototype.onEnterFrame=function(c){c=b.getTimer();c-this.lastTime>this.delay&&(this.lastTime=c,this._currentCount++,b.TimerEvent.dispatchTimerEvent(this,b.TimerEvent.TIMER),0<this.repeatCount&&this._currentCount>=this.repeatCount&&(this.stop(),b.TimerEvent.dispatchTimerEvent(this,b.TimerEvent.TIMER_COMPLETE)))};
return a}(b.EventDispatcher);b.Timer=e})(egret||(egret={}));(function(b){function e(c){c=c.toString();var a=c.indexOf("(");return c.substring(9,a)}function d(c,l){for(var b in c){var g=c[b],f=typeof g;"function"==f?g.prototype&&(f=g.toString(),a[f]||(a[f]=l+"."+e(g))):"object"!=f||g instanceof Array||d(g,l+"."+b)}}b.__moduleNameList=["egret","RES","dragonBones"];b.__invalidateModuleFlag=!0;var a={};b.getQualifiedClassName=function(c){c=c.prototype?c.prototype.constructor:c.__proto__.constructor;var l=c.toString(),m=a[l];if(m)return m;if(b.__invalidateModuleFlag){for(var m=
b.__moduleNameList,g=m.length,f=0;f<g;f++){var h=m[f],k=__global[h];k&&"object"==typeof k&&k.__proto__&&"Object"==e(k.__proto__.constructor)&&d(k,h)}b.__invalidateModuleFlag=!1;if(m=a[l])return m}return a[l]=m=e(c)}})(egret||(egret={}));var __global=__global||this;(function(b){var e={};b.getDefinitionByName=function(b){if(!b)return null;var a=e[b];if(a)return a;for(var c=b.split("."),l=c.length,a=__global,m=0;m<l;m++)if(a=a[c[m]],!a)return null;return e[b]=a}})(egret||(egret={}));__global=__global||this;(function(b){b.hasDefinition=function(e){return b.getDefinitionByName(e)?!0:!1}})(egret||(egret={}));(function(b){b.toColorString=function(b){if(isNaN(b)||0>b)b=0;16777215<b&&(b=16777215);for(b=b.toString(16).toUpperCase();6>b.length;)b="0"+b;return"#"+b}})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a,b,e,f,h){"undefined"===typeof c&&(c=1);"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);"undefined"===typeof e&&(e=1);"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);d.call(this);this.a=c;this.b=a;this.c=b;this.d=e;this.tx=f;this.ty=h}__extends(a,d);a.prototype.prepend=function(c,a,b,d,e,h){var k=this.tx;if(1!=c||0!=a||0!=b||1!=d){var n=this.a,p=this.c;this.a=n*c+this.b*b;this.b=n*a+this.b*d;this.c=p*c+this.d*b;this.d=p*a+this.d*
d}this.tx=k*c+this.ty*b+e;this.ty=k*a+this.ty*d+h;return this};a.prototype.append=function(c,a,b,d,e,h){var k=this.a,n=this.b,p=this.c,q=this.d;this.a=c*k+a*p;this.b=c*n+a*q;this.c=b*k+d*p;this.d=b*n+d*q;this.tx=e*k+h*p+this.tx;this.ty=e*n+h*q+this.ty;return this};a.prototype.prependMatrix=function(c){this.prepend(c.a,c.b,c.c,c.d,c.tx,c.ty);return this};a.prototype.appendMatrix=function(c){this.append(c.a,c.b,c.c,c.d,c.tx,c.ty);return this};a.prototype.prependTransform=function(c,l,b,d,e,h,k,n,p){if(e%
360){var q=e*a.DEG_TO_RAD;e=Math.cos(q);q=Math.sin(q)}else e=1,q=0;if(n||p)this.tx-=n,this.ty-=p;h||k?(h*=a.DEG_TO_RAD,k*=a.DEG_TO_RAD,this.prepend(e*b,q*b,-q*d,e*d,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(h),Math.cos(h),c,l)):this.prepend(e*b,q*b,-q*d,e*d,c,l);return this};a.prototype.appendTransform=function(c,l,b,d,e,h,k,n,p){if(e%360){var q=e*a.DEG_TO_RAD;e=Math.cos(q);q=Math.sin(q)}else e=1,q=0;h||k?(h*=a.DEG_TO_RAD,k*=a.DEG_TO_RAD,this.append(Math.cos(k),Math.sin(k),-Math.sin(h),
Math.cos(h),c,l),this.append(e*b,q*b,-q*d,e*d,0,0)):this.append(e*b,q*b,-q*d,e*d,c,l);if(n||p)this.tx-=n*this.a+p*this.c,this.ty-=n*this.b+p*this.d;return this};a.prototype.rotate=function(c){var a=Math.cos(c);c=Math.sin(c);var b=this.a,d=this.c,e=this.tx;this.a=b*a-this.b*c;this.b=b*c+this.b*a;this.c=d*a-this.d*c;this.d=d*c+this.d*a;this.tx=e*a-this.ty*c;this.ty=e*c+this.ty*a;return this};a.prototype.skew=function(c,l){c*=a.DEG_TO_RAD;l*=a.DEG_TO_RAD;this.append(Math.cos(l),Math.sin(l),-Math.sin(c),
Math.cos(c),0,0);return this};a.prototype.scale=function(c,a){this.a*=c;this.d*=a;this.c*=c;this.b*=a;this.tx*=c;this.ty*=a;return this};a.prototype.translate=function(c,a){this.tx+=c;this.ty+=a;return this};a.prototype.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};a.prototype.invert=function(){var c=this.a,a=this.b,b=this.c,d=this.d,e=this.tx,h=c*d-a*b;this.a=d/h;this.b=-a/h;this.c=-b/h;this.d=c/h;this.tx=(b*this.ty-d*e)/h;this.ty=-(c*this.ty-a*e)/h;return this};
a.transformCoords=function(c,a,m){var d=b.Point.identity;d.x=c.a*a+c.c*m+c.tx;d.y=c.d*m+c.b*a+c.ty;return d};a.identity=new a;a.DEG_TO_RAD=Math.PI/180;return a}(b.HashObject);b.Matrix=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c,a){"undefined"===typeof c&&(c=0);"undefined"===typeof a&&(a=0);b.call(this);this.x=c;this.y=a}__extends(a,b);a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(c){return this.x==c.x&&this.y==c.y};a.distance=function(c,a){return Math.sqrt((c.x-a.x)*(c.x-a.x)+(c.y-a.y)*(c.y-a.y))};a.identity=new a(0,0);return a}(b.HashObject);b.Point=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c,a,m,e){"undefined"===typeof c&&(c=0);"undefined"===typeof a&&(a=0);"undefined"===typeof m&&(m=0);"undefined"===typeof e&&(e=0);b.call(this);this.x=c;this.y=a;this.width=m;this.height=e}__extends(a,b);Object.defineProperty(a.prototype,"right",{get:function(){return this.x+this.width},set:function(c){this.width=c-this.x},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bottom",{get:function(){return this.y+this.height},set:function(c){this.height=
c-this.y},enumerable:!0,configurable:!0});a.prototype.initialize=function(c,a,b,d){this.x=c;this.y=a;this.width=b;this.height=d;return this};a.prototype.contains=function(c,a){return this.x<=c&&this.x+this.width>=c&&this.y<=a&&this.y+this.height>=a};a.prototype.intersects=function(c){return this.contains(c.x,c.y)||this.contains(c.x,c.bottom)||this.contains(c.right,c.y)||this.contains(c.right,c.bottom)?!0:!1};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.identity=
new a(0,0,0,0);return a}(b.HashObject);b.Rectangle=e})(egret||(egret={}));(function(b){var e=function(){function d(){}d.fatal=function(a,c){"undefined"===typeof c&&(c=null);b.Logger.traceToConsole("Fatal",a,c);throw Error(b.Logger.getTraceCode("Fatal",a,c));};d.info=function(a,c){"undefined"===typeof c&&(c=null);b.Logger.traceToConsole("Info",a,c)};d.warning=function(a,c){"undefined"===typeof c&&(c=null);b.Logger.traceToConsole("Warning",a,c)};d.traceToConsole=function(a,c,l){console.log(b.Logger.getTraceCode(a,c,l))};d.getTraceCode=function(a,c,l){return"["+a+"]"+c+":"+
(null==l?"":l)};return d}();b.Logger=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(c){function l(){c.call(this);this._originalDesignHeight=this._originalDesignWidth=this._designHeight=this._designWidth=0;this._scaleY=this._scaleX=1;var a=document.getElementById(l.canvas_name),b=a.width,a=a.height;this._designWidth=b;this._designHeight=a;this._originalDesignWidth=b;this._originalDesignHeight=a}__extends(l,c);l.getInstance=function(){null==l.instance&&(a.initialize(),l.instance=new l);return l.instance};l.prototype.setDesignSize=function(c,a,l){isNaN(c)||
0==c||isNaN(a)||0==a?b.Logger.info("Resolution Error"):(this.setResolutionPolicy(l),this._designWidth=c,this._designHeight=a,this._originalDesignWidth=c,this._originalDesignHeight=a,this._resolutionPolicy._apply(this,this._designWidth,this._designHeight))};l.prototype.setResolutionPolicy=function(c){this._resolutionPolicy=c;c.init(this)};l.prototype.getScaleX=function(){return this._scaleX};l.prototype.getScaleY=function(){return this._scaleY};l.canvas_name="gameCanvas";l.canvas_div_name="gameDiv";
return l}(b.HashObject);b.StageDelegate=e;var d=function(){function c(a,l){this.setContainerStrategy(a);this.setContentStrategy(l)}c.prototype.init=function(c){this._containerStrategy.init(c);this._contentStrategy.init(c)};c.prototype._apply=function(c,a,l){this._containerStrategy._apply(c,a,l);this._contentStrategy._apply(c,a,l)};c.prototype.setContainerStrategy=function(c){c instanceof a&&(this._containerStrategy=c)};c.prototype.setContentStrategy=function(c){c instanceof l&&(this._contentStrategy=
c)};return c}();b.ResolutionPolicy=d;var a=function(){function a(){}a.initialize=function(){a.EQUAL_TO_FRAME=new c};a.prototype.init=function(c){};a.prototype._apply=function(c,a,l){};a.prototype._setupContainer=function(){var c=document.body,a;c&&(a=c.style)&&(a.paddingTop=a.paddingTop||"0px",a.paddingRight=a.paddingRight||"0px",a.paddingBottom=a.paddingBottom||"0px",a.paddingLeft=a.paddingLeft||"0px",a.borderTop=a.borderTop||"0px",a.borderRight=a.borderRight||"0px",a.borderBottom=a.borderBottom||
"0px",a.borderLeft=a.borderLeft||"0px",a.marginTop=a.marginTop||"0px",a.marginRight=a.marginRight||"0px",a.marginBottom=a.marginBottom||"0px",a.marginLeft=a.marginLeft||"0px")};return a}();b.ContainerStrategy=a;var c=function(c){function a(){c.apply(this,arguments)}__extends(a,c);a.prototype._apply=function(c){this._setupContainer()};return a}(a);b.EqualToFrame=c;var l=function(){function c(){}c.prototype.init=function(c){};c.prototype._apply=function(c,a,l){};return c}();b.ContentStrategy=l;d=function(c){function a(){c.apply(this,
arguments)}__extends(a,c);a.prototype._apply=function(c,a,l){var b=document.getElementById(e.canvas_name),m=document.getElementById(e.canvas_div_name),d=b.height/l,g=window.innerHeight,d=g/l,s=a*d;b.width=a;b.height=l;b.style.width=s+"px";b.style.height=g+"px";m.style.width=s+"px";m.style.height=g+"px";c._scaleX=d;c._scaleY=d};return a}(l);b.FixedHeight=d;d=function(c){function a(){c.apply(this,arguments)}__extends(a,c);a.prototype._apply=function(c,a,l){l=document.getElementById(e.canvas_name);var b=
document.getElementById(e.canvas_div_name),m=document.documentElement.clientWidth,d=document.documentElement.clientHeight,g=m/a;l.width=a;l.height=d/g;l.style.width=m+"px";l.style.height=d+"px";b.style.width=m+"px";b.style.height=d+"px";c._scaleX=g;c._scaleY=g};return a}(l);b.FixedWidth=d;d=function(c){function a(l,b){c.call(this);this.width=l;this.height=b}__extends(a,c);a.prototype._apply=function(c,a,l){l=document.getElementById(e.canvas_name);var b=document.getElementById(e.canvas_div_name),d=
this.width,m=this.height,g=d/a;l.width=a;l.height=m/g;l.style.width=d+"px";l.style.height=m+"px";b.style.width=d+"px";b.style.height=m+"px";c._scaleX=g;c._scaleY=g};return a}(l);b.FixedSize=d})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._originalData={};this._drawAreaList=[]}__extends(a,d);a.getInstance=function(){null==a.instance&&(a.instance=new a);return a.instance};a.prototype.addDrawArea=function(c){this._drawAreaList.push(c)};a.prototype.clearDrawArea=function(){this._drawAreaList=[]};a.prototype.drawRepeatImage=function(c,a,b,d){var e=a._texture_to_render;if(e)for(var h=e._startX,k=e._startY,n=e._textureWidth,p=e._textureHeight,q=e._offsetY,e=e._offsetX;e<b;e+=
n)for(var r=q;r<d;r+=p){var s=Math.min(n,b-e),A=Math.min(p,d-r);this.drawImage(c,a,h,k,n,p,e,r,s,A)}};a.prototype.drawScale9GridImage=function(c,a,d,e,f){var h=a._texture_to_render;if(h&&d){var k=h._startX,n=h._startY,p=h._textureWidth,q=h._textureHeight,r=h._offsetX,s=h._offsetY,h=Math.round(r*e/p),s=Math.round(s*f/q);d=b.Rectangle.identity.initialize(d.x-Math.round(r),d.y-Math.round(r),d.width,d.height);if(p-d.width>e||q-d.height>f)this.drawImage(c,a,k,n,p,q,h,s,e,f);else{d.y==d.bottom&&(d.bottom<
q?d.bottom++:d.y--);d.x==d.right&&(d.right<p?d.right++:d.x--);var r=k+d.x,s=k+d.right,A=p-d.right,D=n+d.y,v=n+d.bottom,z=q-d.bottom,B=h+d.x,q=f-(q-d.bottom),p=e-(p-d.right);this.drawImage(c,a,k,n,d.x,d.y,h,0,d.x,d.y);this.drawImage(c,a,r,n,d.width,d.y,B,0,p-d.x,d.y);this.drawImage(c,a,s,n,A,d.y,h+p,0,e-p,d.y);this.drawImage(c,a,k,D,d.x,d.height,h,d.y,d.x,q-d.y);this.drawImage(c,a,r,D,d.width,d.height,B,d.y,p-d.x,q-d.y);this.drawImage(c,a,s,D,A,d.height,h+p,d.y,e-p,q-d.y);this.drawImage(c,a,k,v,d.x,
z,h,q,d.x,f-q);this.drawImage(c,a,r,v,d.width,z,B,q,p-d.x,f-q);this.drawImage(c,a,s,v,A,z,h+p,q,e-p,f-q)}}};a.prototype.drawImage=function(c,a,d,e,f,h,k,n,p,q){k=k||0;n=n||0;var r=a._texture_to_render;if(null!=r&&0!=h&&0!=f&&0!=p&&0!=q){var s=this._originalData;s.sourceX=d;s.sourceY=e;s.sourceWidth=f;s.sourceHeight=h;s.destX=k;s.destY=n;s.destWidth=p;s.destHeight=q;for(var A=this.getDrawAreaList(),D=0;D<A.length;D++){var v=A[D];if(!this.ignoreRender(a,v,s.destX,s.destY)){if(0!=this._drawAreaList.length)if(0!=
a.worldTransform.b||0!=a.worldTransform.c){if(a.worldBounds.x+s.destX<v.x||a.worldBounds.y+s.destY<v.y||a.worldBounds.x+a.worldBounds.width+s.destX>v.x+v.width||a.worldBounds.y+a.worldBounds.height+s.destY>v.y+v.height){b.Logger.fatal("\u8bf7\u4e0d\u8981\u8ba9\u5e26\u6709\u65cb\u8f6c\u548c\u659c\u5207\u7684\u663e\u793a\u5bf9\u8c61\u8de8\u8fc7\u91cd\u7ed8\u533a\u57df");break}}else{var z=a.worldTransform.a,B=a.worldTransform.d,t;a.worldBounds.x+s.destX<v.x&&(t=(v.x-a.worldBounds.x)/z-s.destX,d+=t/(p/
f),f-=t/(p/f),p-=t,k+=t);a.worldBounds.y+s.destY<v.y&&(t=(v.y-a.worldBounds.y)/B-s.destY,e+=t/(q/h),h-=t/(q/h),q-=t,n+=t);a.worldBounds.x+a.worldBounds.width+s.destX>v.x+v.width&&(t=(a.worldBounds.x+a.worldBounds.width-v.x-v.width)/z+s.destX,f-=t/(p/f),p-=t);a.worldBounds.y+a.worldBounds.height+s.destY>v.y+v.height&&(t=(a.worldBounds.y+a.worldBounds.height-v.y-v.height)/B+s.destY,h-=t/(q/h),q-=t)}c.drawImage(r,d,e,f,h,k,n,p,q)}}}};a.prototype.ignoreRender=function(c,a,b,d){var e=c.worldBounds;b*=
c.worldTransform.a;d*=c.worldTransform.d;return e.x+e.width+b<=a.x||e.x+b>=a.x+a.width||e.y+e.height+d<=a.y||e.y+d>=a.y+a.height?!0:!1};a.prototype.getDrawAreaList=function(){var c;0==this._drawAreaList.length?(this._defaultDrawAreaList||(this._defaultDrawAreaList=[new b.Rectangle(0,0,b.MainContext.instance.stage.stageWidth,b.MainContext.instance.stage.stageHeight)]),c=this._defaultDrawAreaList):c=this._drawAreaList;return c};return a}(b.HashObject);b.RenderFilter=e})(egret||(egret={}));(function(b){var e=function(){function d(){}d.mapClass=function(a,c,b){"undefined"===typeof b&&(b="");a=this.getKey(a)+"#"+b;this.mapClassDic[a]=c};d.getKey=function(a){return"string"==typeof a?a:b.getQualifiedClassName(a)};d.mapValue=function(a,c,b){"undefined"===typeof b&&(b="");a=this.getKey(a)+"#"+b;this.mapValueDic[a]=c};d.hasMapRule=function(a,c){"undefined"===typeof c&&(c="");var b=this.getKey(a)+"#"+c;return this.mapValueDic[b]||this.mapClassDic[b]?!0:!1};d.getInstance=function(a,c){"undefined"===
typeof c&&(c="");var b=this.getKey(a)+"#"+c;if(this.mapValueDic[b])return this.mapValueDic[b];var d=this.mapClassDic[b];if(d)return d=new d,this.mapValueDic[b]=d,delete this.mapClassDic[b],d;throw Error("\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:"+b+"\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002");};d.mapClassDic={};d.mapValueDic={};return d}();b.Injector=
e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._parent=null;this._cacheAsBitmap=!1;this._y=this._x=0;this._scaleY=this._scaleX=1;this._anchorY=this._anchorX=this._anchorOffsetY=this._anchorOffsetX=0;this.visible=!0;this._rotation=0;this._alpha=1;this._skewY=this._skewX=0;this._hasHeightSet=this._hasWidthSet=!1;this.worldAlpha=1;this.worldTransform=new b.Matrix;this.worldBounds=new b.Rectangle(0,0,0,0);this._cacheBounds=new b.Rectangle(0,0,0,0)}__extends(a,d);Object.defineProperty(a.prototype,
"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0});a.prototype._parentChanged=function(c){this._parent=c};Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(c){b.NumberUtils.isNumber(c)&&(this._x=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(c){b.NumberUtils.isNumber(c)&&(this._y=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scaleX",{get:function(){return this._scaleX},
set:function(c){b.NumberUtils.isNumber(c)&&(this._scaleX=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scaleY",{get:function(){return this._scaleY},set:function(c){b.NumberUtils.isNumber(c)&&(this._scaleY=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"anchorOffsetX",{get:function(){return this._anchorOffsetX},set:function(c){b.NumberUtils.isNumber(c)&&(this._anchorOffsetX=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"anchorOffsetY",
{get:function(){return this._anchorOffsetY},set:function(c){b.NumberUtils.isNumber(c)&&(this._anchorOffsetY=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"anchorX",{get:function(){return this._anchorX},set:function(c){b.NumberUtils.isNumber(c)&&(this._anchorX=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"anchorY",{get:function(){return this._anchorY},set:function(c){b.NumberUtils.isNumber(c)&&(this._anchorY=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"rotation",{get:function(){return this._rotation},set:function(c){b.NumberUtils.isNumber(c)&&(this._rotation=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"alpha",{get:function(){return this._alpha},set:function(c){b.NumberUtils.isNumber(c)&&(this._alpha=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"skewX",{get:function(){return this._skewX},set:function(c){b.NumberUtils.isNumber(c)&&(this._skewX=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"skewY",{get:function(){return this._skewY},set:function(c){b.NumberUtils.isNumber(c)&&(this._skewY=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"touchEnabled",{get:function(){return this._touchEnabled},set:function(c){this._touchEnabled=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scrollRect",{get:function(){return this._scrollRect},set:function(c){this._scrollRect=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"measuredWidth",
{get:function(){return this._measureBounds().width},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"measuredHeight",{get:function(){return this._measureBounds().height},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"explicitWidth",{get:function(){return this._explicitWidth},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"explicitHeight",{get:function(){return this._explicitHeight},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"width",{get:function(){return this.getBounds(b.Rectangle.identity).width},set:function(c){this._setWidth(c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return this.getBounds(b.Rectangle.identity).height},set:function(c){this._setHeight(c)},enumerable:!0,configurable:!0});a.prototype._setWidth=function(c){this._explicitWidth=c;this._hasWidthSet=b.NumberUtils.isNumber(c)};a.prototype._setHeight=function(c){this._explicitHeight=c;this._hasHeightSet=b.NumberUtils.isNumber(c)};
a.prototype._draw=function(c){if(this.visible&&!this.drawCacheTexture(c)){c.setAlpha(this.worldAlpha,this.blendMode);c.setTransform(this.worldTransform);if(this.mask||this._scrollRect)c.save(),this._scrollRect?c.clip(this._scrollRect.x,this._scrollRect.y,this._scrollRect.width,this._scrollRect.height):c.clip(this.mask.x,this.mask.y,this.mask.width,this.mask.height);this._render(c);(this.mask||this._scrollRect)&&c.restore()}this.destroyCacheBounds()};a.prototype.drawCacheTexture=function(c){if(this._cacheAsBitmap){var a=
this._texture_to_render,d=a._offsetX,e=a._offsetY,f=a._textureWidth,a=a._textureHeight;this._updateTransform();c.setAlpha(this.worldAlpha,this.blendMode);c.setTransform(this.worldTransform);this.mask&&(c.save(),c.clip(this.mask.x,this.mask.y,this.mask.width,this.mask.height));var h=b.MainContext.instance.rendererContext.texture_scale_factor;b.RenderFilter.getInstance().drawImage(c,this,0,0,f*h,a*h,d,e,f,a);this.mask&&c.restore();return!0}return!1};a.prototype._updateTransform=function(){this.worldTransform.identity().appendMatrix(this._parent.worldTransform);
var c=this._getOffsetPoint();this.worldTransform.appendTransform(this._x,this._y,this._scaleX,this._scaleY,this._rotation,this._skewX,this._skewY,c.x,c.y);this._scrollRect&&this.worldTransform.append(1,0,0,1,-this._scrollRect.x,-this._scrollRect.y);c=a.getTransformBounds(this._getSize(b.Rectangle.identity),this.worldTransform);this.worldBounds.initialize(c.x,c.y,c.width,c.height);this.worldAlpha=this._parent.worldAlpha*this._alpha};a.prototype._render=function(c){};a.prototype.getBounds=function(c){if(0==
this._cacheBounds.x&&0==this._cacheBounds.y&&0==this._cacheBounds.width&&0==this._cacheBounds.height){var a=this._measureBounds(),d=this._hasWidthSet?this._explicitWidth:a.width,e=this._hasHeightSet?this._explicitHeight:a.height,f=a.x,a=a.y,h,k;0!=this._anchorX||0!=this._anchorY?(h=d*this._anchorX,k=e*this._anchorY):(h=this._anchorOffsetX,k=this._anchorOffsetY);this._cacheBounds.initialize(f-h,a-k,d,e)}d=this._cacheBounds;c||(c=new b.Rectangle);return c.initialize(d.x,d.y,d.width,d.height)};a.prototype.destroyCacheBounds=
function(){this._cacheBounds.x=0;this._cacheBounds.y=0;this._cacheBounds.width=0;this._cacheBounds.height=0};a.prototype._getConcatenatedMatrix=function(){for(var c=a.identityMatrixForGetConcatenated.identity(),l=this;null!=l;){if(0!=l._anchorX||0!=l._anchorY){var d=l._getSize(b.Rectangle.identity);c.prependTransform(l._x,l._y,l._scaleX,l._scaleY,l._rotation,l._skewX,l._skewY,d.width*l._anchorX,d.height*l._anchorY)}else c.prependTransform(l._x,l._y,l._scaleX,l._scaleY,l._rotation,l._skewX,l._skewY,
l._anchorOffsetX,l._anchorOffsetY);l=l._parent}return c};a.prototype.localToGlobal=function(c,a,d){"undefined"===typeof c&&(c=0);"undefined"===typeof a&&(a=0);var e=this._getConcatenatedMatrix();e.append(1,0,0,1,c,a);d||(d=new b.Point);d.x=e.tx;d.y=e.ty;return d};a.prototype.globalToLocal=function(c,a,d){"undefined"===typeof c&&(c=0);"undefined"===typeof a&&(a=0);var e=this._getConcatenatedMatrix();e.invert();e.append(1,0,0,1,c,a);d||(d=new b.Point);d.x=e.tx;d.y=e.ty;return d};a.prototype.hitTest=
function(c,a,d){"undefined"===typeof d&&(d=!1);if(!this.visible||!d&&!this._touchEnabled)return null;d=this._getSize(b.Rectangle.identity);return 0<c&&c<d.width&&0<a&&a<d.height?this.mask||this._scrollRect?this._scrollRect&&c<this._scrollRect.width&&a<this._scrollRect.height||this.mask&&this.mask.x<c&&c<this.mask.x+this.mask.width&&this.mask.y<a&&a<this.mask.y+this.mask.height?this:null:this:null};a.prototype.hitTestPoint=function(c,a,d){return d?(this._texture_to_render?d=this._texture_to_render:
(d=new b.RenderTexture,d.drawToTexture(this)),0!=d.getPixel32(c,a)[3]?this:null):this.hitTest(c,a,!0)};a.prototype._getMatrix=function(){var c=b.Matrix.identity.identity(),a=this._getOffsetPoint();c.appendTransform(this._x,this._y,this._scaleX,this._scaleY,this._rotation,this._skewX,this._skewY,a.x,a.y);return c};a.prototype._getSize=function(c){return this._hasHeightSet&&this._hasWidthSet?c.initialize(NaN,NaN,this._explicitWidth,this._explicitHeight):this._measureSize(b.Rectangle.identity)};a.prototype._measureSize=
function(c){return this._measureBounds()};a.prototype._measureBounds=function(){return b.Rectangle.identity.initialize(0,0,0,0)};a.prototype._getOffsetPoint=function(){var c=this._anchorOffsetX,a=this._anchorOffsetY;if(0!=this._anchorX||0!=this._anchorY)a=this._getSize(b.Rectangle.identity),c=this._anchorX*a.width,a=this._anchorY*a.height;var d=b.Point.identity;d.x=c;d.y=a;return d};a.prototype._onAddToStage=function(){this._stage=b.MainContext.instance.stage;b.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)};
a.prototype._onRemoveFromStage=function(){this._stage=null;b.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)};Object.defineProperty(a.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(c,l,m,e,f){"undefined"===typeof e&&(e=!1);"undefined"===typeof f&&(f=0);d.prototype.addEventListener.call(this,c,l,m,e,f);((e=c==b.Event.ENTER_FRAME)||c==b.Event.RENDER)&&this._insertEventBin(e?a._enterFrameCallBackList:a._renderCallBackList,
l,m,f)};a.prototype.removeEventListener=function(c,l,m,e){"undefined"===typeof e&&(e=!1);d.prototype.removeEventListener.call(this,c,l,m,e);((e=c==b.Event.ENTER_FRAME)||c==b.Event.RENDER)&&this._removeEventBin(e?a._enterFrameCallBackList:a._renderCallBackList,l,m)};a.prototype.dispatchEvent=function(c){if(!c._bubbles)return d.prototype.dispatchEvent.call(this,c);for(var a=[],b=this;b;)a.unshift(b),b=b.parent;for(var e=a.length,b=e-1,e=e-2;0<=e;e--)a.push(a[e]);c._reset();this._dispatchPropagationEvent(c,
a,b);return!c.isDefaultPrevented()};a.prototype._dispatchPropagationEvent=function(c,a,b){for(var d=a.length,e=0;e<d;e++){var h=a[e];c._setCurrentTarget(h);c._target=this;c._eventPhase=e<b?1:e==b?2:3;h._notifyListener(c);if(c._isPropagationStopped||c._isPropagationImmediateStopped)break}};a.prototype.willTrigger=function(c){for(var a=this;a;){if(a.hasEventListener(c))return!0;a=a._parent}return!1};Object.defineProperty(a.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(c){this._cacheAsBitmap!=
c&&(this._cacheAsBitmap=c)&&(c=new b.RenderTexture,c.drawToTexture(this),this._texture_to_render=c)},enumerable:!0,configurable:!0});a.getTransformBounds=function(c,a){var b,d,e=c.width,h=c.height,k=e*a.a,e=e*a.b,n=h*a.c,h=h*a.d,p=a.tx,q=a.ty,r=p,s=p,A=q,D=q;(b=k+p)<r?r=b:b>s&&(s=b);(b=k+n+p)<r?r=b:b>s&&(s=b);(b=n+p)<r?r=b:b>s&&(s=b);(d=e+q)<A?A=d:d>D&&(D=d);(d=e+h+q)<A?A=d:d>D&&(D=d);(d=h+q)<A?A=d:d>D&&(D=d);return c.initialize(r,A,s-r,D-A)};a.identityMatrixForGetConcatenated=new b.Matrix;a._enterFrameCallBackList=
[];a._renderCallBackList=[];return a}(b.EventDispatcher);b.DisplayObject=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._touchChildren=!0;this._children=[]}__extends(a,d);Object.defineProperty(a.prototype,"touchChildren",{get:function(){return this._touchChildren},set:function(c){this._touchChildren=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numChildren",{get:function(){return this._children.length},enumerable:!0,configurable:!0});a.prototype.setChildIndex=function(c,a){this.doSetChildIndex(c,a)};a.prototype.doSetChildIndex=function(c,
a){var d=this._children.indexOf(c);0>d&&b.Logger.fatal("child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185");this._children.splice(d,1);0>a||this._children.length<=a?this._children.push(c):this._children.splice(a,0,c)};a.prototype.addChild=function(c){var a=this.numChildren;c.parent==this&&a--;return this._doAddChild(c,a)};a.prototype.addChildAt=function(c,a){return this._doAddChild(c,a)};a.prototype._doAddChild=function(c,l,d){"undefined"===typeof d&&(d=!0);if(c==this)return c;if(0>l||l>this._children.length)return b.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4"),
c;var e=c.parent;if(e==this)return this.doSetChildIndex(c,l),c;e&&e.removeChild(c);this._children.splice(l,0,c);c._parentChanged(this);d&&c.dispatchEventWith(b.Event.ADDED,!0);if(this._stage)for(c._onAddToStage(),l=a.__EVENT__ADD_TO_STAGE_LIST;0<l.length;)l.shift().dispatchEventWith(b.Event.ADDED_TO_STAGE);return c};a.prototype.removeChild=function(c){c=this._children.indexOf(c);if(0<=c)return this._doRemoveChild(c);b.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent");return null};a.prototype.removeChildAt=
function(c){if(0<=c&&c<this._children.length)return this._doRemoveChild(c);b.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};a.prototype._doRemoveChild=function(c,l){"undefined"===typeof l&&(l=!0);var d=this._children,e=d[c];l&&e.dispatchEventWith(b.Event.REMOVED,!0);if(this._stage){e._onRemoveFromStage();for(var f=a.__EVENT__REMOVE_FROM_STAGE_LIST;0<f.length;)f.shift().dispatchEventWith(b.Event.REMOVED_FROM_STAGE)}e._parentChanged(null);d.splice(c,1);return e};
a.prototype.getChildAt=function(c){if(0<=c&&c<this._children.length)return this._children[c];b.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};a.prototype.contains=function(c){for(;c;){if(c==this)return!0;c=c.parent}return!1};a.prototype.swapChildrenAt=function(c,a){0<=c&&c<this._children.length&&0<=a&&a<this._children.length?this._swapChildrenAt(c,a):b.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4")};a.prototype.swapChildren=function(c,a){var d=
this._children.indexOf(c),e=this._children.indexOf(a);-1==d||-1==e?b.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent"):this._swapChildrenAt(d,e)};a.prototype._swapChildrenAt=function(c,a){if(c!=a){var b=this._children,d=b[c];b[c]=b[a];b[a]=d}};a.prototype.getChildIndex=function(c){return this._children.indexOf(c)};a.prototype.removeChildren=function(){for(var c=this._children.length-1;0<=c;c--)this._doRemoveChild(c)};a.prototype._updateTransform=function(){if(this.visible){d.prototype._updateTransform.call(this);
for(var c=0,a=this._children.length;c<a;c++)this._children[c]._updateTransform()}};a.prototype._render=function(c){for(var a=0,b=this._children.length;a<b;a++)this._children[a]._draw(c)};a.prototype._measureBounds=function(){for(var c=0,a=0,d=0,e=0,f=this._children.length,h=0;h<f;h++){var k=this._children[h],n;if(k.visible&&(n=b.DisplayObject.getTransformBounds(k._getSize(b.Rectangle.identity),k._getMatrix()))){var k=n.x,p=n.y,q=n.width+n.x,r=n.height+n.y;if(k<c||0==h)c=k;if(q>a||0==h)a=q;if(p<d||
0==h)d=p;if(r>e||0==h)e=r}}return b.Rectangle.identity.initialize(c,d,a-c,e-d)};a.prototype.hitTest=function(c,a,m){"undefined"===typeof m&&(m=!1);var e;if(!this.visible)return null;if(this._scrollRect){if(c>this._scrollRect.width||a>this._scrollRect.height)return null}else if(this.mask&&(this.mask.x>c||c>this.mask.x+this.mask.width||this.mask.y>a||a>this.mask.y+this.mask.height))return null;for(var f=this._children,h=this._touchChildren,k=f.length-1;0<=k;k--){var n=f[k],p=n,q=p._getOffsetPoint(),
r=p._x,s=p._y;this._scrollRect&&(r-=this._scrollRect.x,s-=this._scrollRect.y);p=b.Matrix.identity.identity().prependTransform(r,s,p._scaleX,p._scaleY,p._rotation,0,0,q.x,q.y);p.invert();p=b.Matrix.transformCoords(p,c,a);if(n=n.hitTest(p.x,p.y,!0)){if(n._touchEnabled&&h)return n;if(this._touchEnabled)return this;null==e&&(e=n)}}return e||!this._texture_to_render&&!this._graphics?e:d.prototype.hitTest.call(this,c,a,m)};a.prototype._onAddToStage=function(){d.prototype._onAddToStage.call(this);for(var c=
this.numChildren,a=0;a<c;a++)this._children[a]._onAddToStage()};a.prototype._onRemoveFromStage=function(){d.prototype._onRemoveFromStage.call(this);for(var c=this.numChildren,a=0;a<c;a++)this._children[a]._onRemoveFromStage()};a.prototype.getChildByName=function(c){for(var a=this._children,b=this.numChildren,d,e=0;e<b;e++)if(d=a[e],d.name==c)return d;return null};a.__EVENT__ADD_TO_STAGE_LIST=[];a.__EVENT__REMOVE_FROM_STAGE_LIST=[];return a}(b.DisplayObject);b.DisplayObjectContainer=e})(egret||(egret=
{}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a){d.call(this);this.touchEnabled=!0;this._stage=this;this._stageWidth=c;this._stageHeight=a}__extends(a,d);a.prototype.invalidate=function(){a._invalidateRenderFlag=!0};a.prototype._setStageSize=function(c,a){if(this._stageWidth!=c||this._stageHeight!=a)this._stageWidth=c,this._stageHeight=a,this.dispatchEventWith(b.Event.RESIZE)};Object.defineProperty(a.prototype,"stageWidth",{get:function(){return this._stageWidth},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"stageHeight",{get:function(){return this._stageHeight},enumerable:!0,configurable:!0});a.prototype.hitTest=function(c,a){if(!this.touchEnabled)return null;var d;if(!this.visible)return this;for(var e=this._children,f=e.length-1;0<=f;f--){var h=d=e[f],k=h._getOffsetPoint(),h=b.Matrix.identity.identity().prependTransform(h.x,h.y,h.scaleX,h.scaleY,h.rotation,0,0,k.x,k.y);h.invert();h=b.Matrix.transformCoords(h,c,a);if((d=d.hitTest(h.x,h.y,!0))&&d.touchEnabled)return d}return this};a.prototype.getBounds=
function(c){c||(c=new b.Rectangle);return c.initialize(0,0,this._stageWidth,this._stageHeight)};a.prototype._updateTransform=function(){for(var c=0,a=this._children.length;c<a;c++)this._children[c]._updateTransform()};a._invalidateRenderFlag=!1;return a}(b.DisplayObjectContainer);b.Stage=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.REPEAT="repeat";b.SCALE="scale";return b}();b.BitmapFillMode=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this);this.debug=!1;this.debugColor=16711680;this.fillMode="scale";c&&(this.texture=c)}__extends(a,d);a.prototype._render=function(c){var b=this.texture;b?(this._texture_to_render=b,a._drawBitmap(c,this._hasWidthSet?this._explicitWidth:b._textureWidth,this._hasHeightSet?this._explicitHeight:b._textureHeight,this)):this._texture_to_render=null};a._drawBitmap=function(c,a,d,e){var f=e._texture_to_render;if(f)if("scale"==e.fillMode)if(e.scale9Grid)b.RenderFilter.getInstance().drawScale9GridImage(c,
e,e.scale9Grid,a,d);else{var h=f._textureWidth,k=f._textureHeight,n=Math.round(f._offsetX*a/h),p=Math.round(f._offsetY*d/k);b.RenderFilter.getInstance().drawImage(c,e,f._startX,f._startY,h,k,n,p,a,d)}else b.RenderFilter.getInstance().drawRepeatImage(c,e,a,d)};a.prototype._measureBounds=function(){var c=this.texture;return c?b.Rectangle.identity.initialize(c._offsetX,c._offsetY,c._textureWidth,c._textureHeight):d.prototype._measureBounds.call(this)};a.debug=!1;return a}(b.DisplayObject);b.Bitmap=e})(egret||
(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.text="";this._bitmapPool=[]}__extends(a,d);a.prototype._updateTransform=function(){this.visible&&(this._renderText(),d.prototype._updateTransform.call(this))};a.prototype._renderText=function(c){"undefined"===typeof c&&(c=!1);var a=b.Rectangle.identity.initialize(0,0,0,0);c||this.removeChildren();for(var d=0,e=this.text.length;d<e;d++){var f=this.text.charAt(d),f=this.spriteSheet.getTexture(f),h=f._offsetX,k=f._offsetY,n=f._textureWidth;
if(!c){var p=this._bitmapPool[d];p||(p=new b.Bitmap,p.texture=f,this._bitmapPool.push(p));this.addChild(p);p.x=a.width}a.width+=n+h;k+f._textureHeight>a.height&&(a.height=k+f._textureHeight)}return a};a.prototype._measureBounds=function(){return this._renderText(!0)};return a}(b.DisplayObjectContainer);b.BitmapText=e})(egret||(egret={}));(function(b){var e=function(){function a(){this.commandQueue=[]}a.prototype.beginFill=function(c,a){"undefined"===typeof a&&(a=1);var b="rgba("+(c>>16)+","+((c&65280)>>8)+","+(c&255)+","+a+")";this.fillStyleColor=b;this.commandQueue.push(new d(this._setStyle,this,[b]))};a.prototype._setStyle=function(c){this.canvasContext.fillStyle=c};a.prototype.drawRect=function(c,a,b,e){this.commandQueue.push(new d(function(c,a,b,l){var d=this.renderContext;this.canvasContext.beginPath();this.canvasContext.rect(d._transformTx+
c,d._transformTy+a,b,l);this.canvasContext.closePath()},this,[c,a,b,e]))};a.prototype.drawCircle=function(c,a,b){this.commandQueue.push(new d(function(c,a,b){var l=this.renderContext;this.canvasContext.beginPath();this.canvasContext.arc(l._transformTx+c,l._transformTy+a,b,0,2*Math.PI);this.canvasContext.closePath()},this,[c,a,b]))};a.prototype.lineStyle=function(c,a,b,e,f,h,k,n){"undefined"===typeof c&&(c=NaN);"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=1);"undefined"===typeof e&&(e=
!1);"undefined"===typeof f&&(f="normal");"undefined"===typeof h&&(h=null);"undefined"===typeof k&&(k=null);"undefined"===typeof n&&(n=3);this.strokeStyleColor=a="rgba("+(a>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")";this.commandQueue.push(new d(function(c,a){this.canvasContext.lineWidth=c;this.canvasContext.strokeStyle=a},this,[c,a]))};a.prototype.lineTo=function(c,a){this.commandQueue.push(new d(function(c,a){var b=this.renderContext;this.canvasContext.lineTo(b._transformTx+c,b._transformTy+a)},
this,[c,a]))};a.prototype.curveTo=function(c,a,b,e){this.commandQueue.push(new d(function(c,a,b,l){var d=this.renderContext;this.canvasContext.quadraticCurveTo(d._transformTx+c,d._transformTy+a,b,l)},this,[c,a,b,e]))};a.prototype.moveTo=function(c,a){this.commandQueue.push(new d(function(c,a){var b=this.renderContext;this.canvasContext.moveTo(b._transformTx+c,b._transformTy+a)},this,[c,a]))};a.prototype.clear=function(){this.commandQueue.length=0;this.fillStyleColor=this.strokeStyleColor=null};a.prototype.endFill=
function(){this.strokeStyleColor&&this.commandQueue.push(new d(function(){this.canvasContext.stroke()},this,null));this.fillStyleColor&&this.commandQueue.push(new d(function(){this.canvasContext.fill()},this,null))};a.prototype._draw=function(c){this.renderContext=c;this.canvasContext=this.renderContext.canvasContext;var a=this.renderContext;c=this.canvasContext;c.moveTo(a._transformTx,a._transformTy);c.save();c.beginPath();for(var a=0,b=this.commandQueue.length;a<b;a++){var d=this.commandQueue[a];
d.method.apply(d.thisObject,d.args)}c.closePath();c.restore()};return a}();b.Graphics=e;var d=function(){return function(a,c,b){this.method=a;this.thisObject=c;this.args=b}}()})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);Object.defineProperty(a.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new b.Graphics);return this._graphics},enumerable:!0,configurable:!0});a.prototype._render=function(c){this._graphics&&this._graphics._draw(c)};return a}(b.DisplayObject);b.Shape=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);Object.defineProperty(a.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new b.Graphics);return this._graphics},enumerable:!0,configurable:!0});a.prototype._render=function(c){this._graphics&&this._graphics._draw(c);d.prototype._render.call(this,c)};return a}(b.DisplayObjectContainer);b.Sprite=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.fontFamily="Arial";this.size=30;this._textColorString="#FFFFFF";this._textColor=16777215;this._strokeColorString="#000000";this.stroke=this._strokeColor=0;this.textAlign="left";this.verticalAlign="top";this._numLines=this.lineSpacing=0;this.measuredWidths=[]}__extends(a,d);Object.defineProperty(a.prototype,"textColor",{get:function(){return this._textColor},set:function(c){this._textColor!=c&&(this._textColor=c,this._textColorString=b.toColorString(c))},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(c){this._strokeColor!=c&&(this._strokeColor=c,this._strokeColorString=b.toColorString(c))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numLines",{get:function(){return this._numLines},enumerable:!0,configurable:!0});a.prototype._render=function(c){this.drawText(c,!1)};a.prototype._measureBounds=function(){return this.drawText(b.MainContext.instance.rendererContext,
!0)};a.prototype.drawText=function(c,a){var d=this.getTextLines(c);if(!d)return b.Rectangle.identity.initialize(0,0,0,0);var e=d.length,f=0.5*this.size,h=this.size+this.lineSpacing,k=e*h-this.lineSpacing;this._textHeight=k;var n=this._explicitHeight;if(this._hasHeightSet&&k<n){var p=0;this.verticalAlign==b.VerticalAlign.MIDDLE?p=0.5:this.verticalAlign==b.VerticalAlign.BOTTOM&&(p=1);f+=p*(n-k)}else n=Number.POSITIVE_INFINITY;var p=f=Math.round(f),q=0;this.textAlign==b.HorizontalAlign.CENTER?q=0.5:
this.textAlign==b.HorizontalAlign.RIGHT&&(q=1);var r=this.measuredWidths,s;s=this._hasWidthSet?this._explicitWidth:this._textWidth;for(var A=Number.POSITIVE_INFINITY,D=0;D<e;D++){var v=d[D],z=Math.round((s-r[D])*q);z<A&&(A=z);!a&&f<n&&c.drawText(this,v,z,f,s);f+=h}return b.Rectangle.identity.initialize(A,p,s,k)};a.prototype.getTextLines=function(c){var a=this.text;if(!a)return null;var b=this.measuredWidths;b.length=0;c.setupFont(this);var a=a.split(/(?:\r\n|\r|\n)/),d=a.length,e=0;if(this._hasWidthSet)for(var h=
this._explicitWidth,k=0;k<d;k++){var n=a[k],p=c.measureText(n);if(p>h)for(var q="",r=0,s=n.length,A=0;A<s;A++){var D=n.charAt(A),p=c.measureText(D);r+p>h&&(k++,d++,0==r?(a.splice(k,0,D),b[k]=p,e<p&&(e=p),p=0,D=""):(a.splice(k,0,q),b[k]=r,e<r&&(e=r),q="",r=0));r+=p;q+=D}else b[k]=p,e<p&&(e=p)}else for(k=0;k<d;k++)n=a[k],p=c.measureText(n),b[k]=p,e<p&&(e=p);this._textWidth=e;return a};return a}(b.DisplayObject);b.TextField=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.DYNAMIC="dynamic";b.INPUT="input";return b}();b.TextFieldType=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this);c.frames?this._textureMap=c.frames:(this.bitmapData=c,this._textureMap={})}__extends(a,d);a.prototype.getTexture=function(c){return this._textureMap[c]};a.prototype.createTexture=function(c,a,d,e,f){var h=new b.Texture;h._bitmapData=this.bitmapData;h._startX=a;h._startY=d;h._textureWidth=e;h._textureHeight=f;return this._textureMap[c]=h};return a}(b.HashObject);b.SpriteSheet=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.apply(this,arguments);this._placeholderText="";this._edFontSize=14;this._textColor=16711680;this._placeholderFontSize=14;this._placeholderColor=16776960;this._preY=this._preX=0}__extends(a,d);a.prototype._onAddToStage=function(){d.prototype._onAddToStage.call(this);var c=this.localToGlobal(),a=new b.StageText;a._open(c.x,c.y,this._explicitWidth,this._explicitHeight);this.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this);this.stageText=
a};a.prototype.setText=function(c){this.stageText._setText(c)};a.prototype.getText=function(){return this.stageText._getText()};a.prototype.setTextType=function(c){this.stageText._setTextType(c)};a.prototype.getTextType=function(){return this.stageText._getTextType()};a.prototype.onMouseDownHandler=function(c){};a.prototype._onRemoveFromStage=function(){this.stageText._remove()};a.prototype._measureBounds=function(){return b.Rectangle.identity};a.prototype.hitTest=function(c,a,b){return null};return a}(b.DisplayObject);
b.TextInput=e;e=function(){function b(){}b.prototype.editBoxEditingDidBegin=function(a){};b.prototype.editBoxEditingDidEnd=function(a){};b.prototype.editBoxTextChanged=function(a,c){};b.prototype.editBoxReturn=function(a){};return b}();b.TextInputDegelete=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c,a){b.call(this,c);this.charList=this.parseConfig(a)}__extends(a,b);a.prototype.getTexture=function(c){var a=this._textureMap[c];if(!a){var b=this.charList[c];if(!b)return null;a=this.createTexture(c,b.x,b.y,b.width,b.height);a._offsetX=b.offsetX;a._offsetY=b.offsetY;this._textureMap[c]=a}return a};a.prototype.parseConfig=function(c){c=c.split("\r\n").join("\n");c=c.split("\n");for(var a=this.getConfigByKey(c[3],"count"),b={},d=4;d<4+a;d++){var e=c[d],h=
String.fromCharCode(this.getConfigByKey(e,"id")),k={};b[h]=k;k.x=this.getConfigByKey(e,"x");k.y=this.getConfigByKey(e,"y");k.width=this.getConfigByKey(e,"width");k.height=this.getConfigByKey(e,"height");k.offsetX=this.getConfigByKey(e,"xoffset");k.offsetY=this.getConfigByKey(e,"yoffset")}return b};a.prototype.getConfigByKey=function(c,a){for(var b=c.split(" "),d=0,e=b.length;d<e;d++){var h=b[d];if(a==h.substring(0,a.length))return b=h.substring(a.length+1),parseInt(b)}return 0};return a}(b.SpriteSheet);
b.BitmapTextSpriteSheet=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a){d.call(this);this.data=c;this._resPool={};this._currentInterval=this._interval=this._totalFrame=this._currentFrameIndex=0;this._isPlaying=!1;this._passTime=0;this._oneFrameTime=1E3/60;this._frameData=c;this._spriteSheet=new b.SpriteSheet(a._bitmapData);this._oneFrameTime=1E3/b.MainContext.instance.deviceContext.frameRate}__extends(a,d);a.prototype.gotoAndPlay=function(c){this.checkHasFrame(c);this._isPlaying=!0;this._currentInterval=this._currentFrameIndex=
0;this._currentFrameName=c;this._totalFrame=this._frameData.frames[c].totalFrame;this.playNextFrame();this._passTime=0;b.Ticker.getInstance().register(this.update,this)};a.prototype.gotoAndStop=function(c){this.checkHasFrame(c);this.stop();this._currentInterval=this._currentFrameIndex=0;this._currentFrameName=c;this._totalFrame=this._frameData.frames[c].totalFrame;this.playNextFrame()};a.prototype.checkHasFrame=function(c){void 0==this._frameData.frames[c]&&b.Logger.fatal("MovieClip\u6ca1\u6709\u5bf9\u5e94\u7684frame\uff1a",
c)};a.prototype.stop=function(){this._isPlaying=!1;b.Ticker.getInstance().unregister(this.update,this)};a.prototype.update=function(c){if(this._interval!=this._currentInterval)this._currentInterval++;else{for(var a=Math.floor((this._passTime%this._oneFrameTime+c)/this._oneFrameTime);1<=a;)1==a?this.playNextFrame():this.playNextFrame(!1),a--;this._passTime+=c}};a.prototype.playNextFrame=function(c){"undefined"===typeof c&&(c=!0);this._currentInterval=0;var a=this._frameData.frames[this._currentFrameName].childrenFrame[this._currentFrameIndex];
c&&(c=this.getBitmap(a.res),c.x=a.x,c.y=a.y,this.removeChildren(),this.addChild(c));null!=a.action&&this.dispatchEventWith(a.action);this._currentFrameIndex++;this._currentFrameIndex==this._totalFrame&&(this._currentFrameIndex=0)};a.prototype.getBitmap=function(c){var a;if(null!=this._resPool[c])a=this._resPool[c];else{var d=this._frameData.res[c];a=new b.Bitmap;var e=this._spriteSheet.getTexture(c);e||(e=this._spriteSheet.createTexture(c,d.x,d.y,d.w,d.h));a.texture=e;this._resPool[c]=a}return a};
a.prototype.release=function(){for(var c in this._resPool)delete this._resPool[c]};a.prototype.getCurrentFrameIndex=function(){return this._currentFrameIndex};a.prototype.getTotalFrame=function(){return this._totalFrame};a.prototype.setInterval=function(c){this._interval=c};a.prototype.getIsPlaying=function(){return this._isPlaying};return a}(b.DisplayObjectContainer);b.MovieClip=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype._getText=function(){return this.inputElement.value};a.prototype._setText=function(c){this.inputElement.value=c};a.prototype._setTextType=function(c){this.inputElement.type=c};a.prototype._getTextType=function(){return this.inputElement.type};a.prototype._open=function(c,a,d,e){"undefined"===typeof d&&(d=160);"undefined"===typeof e&&(e=21);var f=b.StageDelegate.getInstance().getScaleX(),h=b.StageDelegate.getInstance().getScaleY(),
k=document.createElement("input");k.type="text";k.style.fontSize="20px";k.style.color="#FFFFFF";k.style.borderStyle="none";k.style.background="none";k.style.width=d*f+"px";k.style.height=e*h+"px";k.style.outline="medium";var n=b.Browser.getInstance().$new("div");n.style.position="absolute";n.position.x=c*f;n.style.width=d*f+"px";n.style.height=e*h+"px";n.position.y=a*h;n.transforms();n.appendChild(k);c=b.Browser.getInstance().$("#StageDelegateDiv");c||(d=document.getElementById(b.StageDelegate.canvas_div_name),
e=d.clientHeight,d=d.clientWidth,c=b.Browser.getInstance().$new("div"),c.id="StageDelegateDiv",c.style.position="absolute",c.style.width=d+"px",c.style.maxHeight=e+"px",c.style.margin="0px",document.getElementById(b.StageDelegate.canvas_div_name).appendChild(c),c.position.y=-e,c.transforms());c.appendChild(n);this.div=n;this.inputElement=k};a.prototype._remove=function(){var c=this.div;c&&c.parentNode&&c.parentNode.removeChild(c)};return a}(b.HashObject);b.StageText=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.GET="GET";b.POST="POST";return b}();b.URLRequestMethod=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.BINARY="binary";b.TEXT="text";b.VARIABLES="variables";b.TEXTURE="texture";b.SOUND="sound";return b}();b.URLLoaderDataFormat=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c){"undefined"===typeof c&&(c=null);b.call(this);null!==c&&this.decode(c)}__extends(a,b);a.prototype.decode=function(c){this.variables||(this.variables={});c=c.split("+").join(" ");for(var a,b=/[?&]?([^=]+)=([^&]*)/g;a=b.exec(c);)this.variables[decodeURIComponent(a[1])]=decodeURIComponent(a[2])};a.prototype.toString=function(){if(!this.variables)return"";var c=this.variables,a="",b=!0,d;for(d in c)b?b=!1:a+="&",a+=d+"="+c[d];return a};return a}(b.HashObject);
b.URLVariables=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(c){"undefined"===typeof c&&(c=null);d.call(this);this.method=b.URLRequestMethod.GET;this.url=c}__extends(a,d);return a}(b.HashObject);b.URLRequest=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(c){"undefined"===typeof c&&(c=null);d.call(this);this.dataFormat=b.URLLoaderDataFormat.TEXT;c&&this.load(c)}__extends(a,d);a.prototype.load=function(c){this._request=c;this.data=null;b.MainContext.instance.netContext.proceed(this)};return a}(b.EventDispatcher);b.URLLoader=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._textureHeight=this._textureWidth=this._offsetY=this._offsetX=this._startY=this._startX=0}__extends(a,d);Object.defineProperty(a.prototype,"textureWidth",{get:function(){return this._textureWidth},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureHeight",{get:function(){return this._textureHeight},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bitmapData",{get:function(){return this._bitmapData},
set:function(c){var a=b.MainContext.instance.rendererContext.texture_scale_factor;this._bitmapData=c;this._textureWidth=c.width*a;this._textureHeight=c.height*a},enumerable:!0,configurable:!0});a.prototype.getPixel32=function(c,a){return this._bitmapData.getContext("2d").getImageData(c,a,1,1).data};return a}(b.HashObject);b.Texture=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._bitmapData=document.createElement("canvas")}__extends(a,d);a.prototype.drawToTexture=function(c){var a=this._bitmapData,d=c.getBounds(b.Rectangle.identity);a.width=d.width;a.height=d.height;c.worldTransform.identity();c.worldAlpha=1;if(c instanceof b.DisplayObjectContainer){this._offsetX=d.x;this._offsetY=d.y;c.worldTransform.append(1,0,0,1,-d.x,-d.y);for(var d=c._children,e=0,f=d.length;e<f;e++)d[e]._updateTransform()}a=new b.HTML5CanvasRenderer(a);
d=b.RenderFilter.getInstance();e=d._drawAreaList.concat();d._drawAreaList.length=0;c._render(a);d._drawAreaList=e;this._bitmapData=this._bitmapData;this._textureWidth=this._bitmapData.width;this._textureHeight=this._bitmapData.height};return a}(b.Texture);b.RenderTexture=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.renderCost=0;this.texture_scale_factor=1}__extends(a,d);a.prototype.clearScreen=function(){};a.prototype.clearRect=function(c,a,b,d){};a.prototype.drawImage=function(c,a,d,e,f,h,k,n,p){b.Profiler.getInstance().onDrawImage()};a.prototype.setTransform=function(c){};a.prototype.save=function(){};a.prototype.restore=function(){};a.prototype.setAlpha=function(c,a){};a.prototype.setupFont=function(c){};a.prototype.measureText=function(c){return 0};
a.prototype.drawText=function(c,a,d,e,f){b.Profiler.getInstance().onDrawImage()};a.prototype.clip=function(c,a,b,d){};a.prototype.strokeRect=function(c,a,b,d,e){};return a}(b.HashObject);b.RendererContext=e;e=function(){function d(a){this.type=a;switch(a){case "add":case "layer":this.value="lighter";break;default:this.value="source-over"}}d.getBlendMode=function(a){return a?b.BlendMode[a.toUpperCase()]:b.BlendMode.NORMAL};d.NORMAL=new d("normal");d.ADD=new d("add");d.LAYER=new d("layer");return d}();
b.BlendMode=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.MOUSE="mouse";b.TOUCH="touch";b.mode="touch";return b}();b.InteractionMode=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._currentTouchTarget={};this.maxTouches=2;this.touchDownTarget={};this.lastTouchY=this.lastTouchX=-1}__extends(a,d);a.prototype.run=function(){};a.prototype.getTouchData=function(c,a,b){var d=this._currentTouchTarget[c];null==d&&(d={},this._currentTouchTarget[c]=d);d.stageX=a;d.stageY=b;d.identifier=c;return d};a.prototype.dispatchEvent=function(c,a){b.TouchEvent.dispatchTouchEvent(a.target,c,a.identifier,a.stageX,a.stageY,!1,!1,!1,!0==
this.touchDownTarget[a.identifier])};a.prototype.onTouchBegan=function(c,a,d){var e=b.MainContext.instance.stage.hitTest(c,a);e&&(c=this.getTouchData(d,c,a),this.touchDownTarget[d]=!0,c.target=e,c.beginTarget=e,this.dispatchEvent(b.TouchEvent.TOUCH_BEGIN,c))};a.prototype.onTouchMove=function(c,a,d){if(c!=this.lastTouchX||a!=this.lastTouchY){this.lastTouchX=c;this.lastTouchY=a;var e=b.MainContext.instance.stage.hitTest(c,a);e&&(c=this.getTouchData(d,c,a),c.target=e,this.dispatchEvent(b.TouchEvent.TOUCH_MOVE,
c))}};a.prototype.onTouchEnd=function(c,a,d){var e=b.MainContext.instance.stage.hitTest(c,a);e&&(c=this.getTouchData(d,c,a),delete this.touchDownTarget[d],d=c.beginTarget,c.target=e,this.dispatchEvent(b.TouchEvent.TOUCH_END,c),d==e?this.dispatchEvent(b.TouchEvent.TOUCH_TAP,c):c.beginTarget&&(c.target=c.beginTarget,this.dispatchEvent(b.TouchEvent.TOUCH_RELEASE_OUTSIDE,c)),delete this._currentTouchTarget[c.identifier])};return a}(b.HashObject);b.TouchContext=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype.proceed=function(c){};return a}(b.HashObject);b.NetContext=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this.frameRate=60}__extends(a,b);a.prototype.executeMainLoop=function(c,a){};return a}(b.HashObject);b.DeviceContext=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.translate=this.isHD?function(c){return"translate3d("+c.x+"px, "+(c.y-b.MainContext.instance.stage.stageHeight)+"px, 0) "}:function(c){console.log("translate("+c.x+"px, "+c.y+"px) ");return"translate("+c.x+"px, "+c.y+"px) "};this.rotate=this.isHD?function(c){return"rotateZ("+c+"deg) "}:function(c){return"rotate("+c+"deg) "};this.ua=navigator.userAgent.toLowerCase();var c=this.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||
this.ua.match(/chrome|safari/);c&&0<c.length&&(c=c[0],"micromessenger"==c&&(this.type="wechat"),this.type=c);this.type="unknow";switch(this.type){case "firefox":this.pfx="Moz";this.isHD=!0;break;case "chrome":case "safari":this.pfx="webkit";this.isHD=!0;break;case "opera":this.pfx="O";this.isHD=!1;break;case "ie":this.pfx="ms";this.isHD=!1;break;default:this.pfx="webkit",this.isHD=!0}this.trans=this.pfx+"Transform";this.isMobile=-1!=this.ua.indexOf("mobile")||-1!=this.ua.indexOf("android")}__extends(a,
d);a.getInstance=function(){null==a.instance&&(a.instance=new a);return a.instance};a.prototype.$new=function(c){return this.$(document.createElement(c))};a.prototype.$=function(c){var l=document;if(c=c instanceof HTMLElement?c:l.querySelector(c))c.find=c.find||this.$,c.hasClass=c.hasClass||function(c){return this.className.match(new RegExp("(\\s|^)"+c+"(\\s|$)"))},c.addClass=c.addClass||function(c){this.hasClass(c)||(this.className&&(this.className+=" "),this.className+=c);return this},c.removeClass=
c.removeClass||function(c){this.hasClass(c)&&(this.className=this.className.replace(c,""));return this},c.remove=c.remove||function(){},c.appendTo=c.appendTo||function(c){c.appendChild(this);return this},c.prependTo=c.prependTo||function(c){c.childNodes[0]?c.insertBefore(this,c.childNodes[0]):c.appendChild(this);return this},c.transforms=c.transforms||function(){this.style[a.getInstance().trans]=a.getInstance().translate(this.position)+a.getInstance().rotate(this.rotation)+a.getInstance().scale(this.scale)+
a.getInstance().skew(this.skew);return this},c.position=c.position||{x:0,y:0},c.rotation=c.rotation||0,c.scale=c.scale||{x:1,y:1},c.skew=c.skew||{x:0,y:0},c.translates=function(c,a){this.position.x=c;this.position.y=a-b.MainContext.instance.stage.stageHeight;this.transforms();return this},c.rotate=function(c){this.rotation=c;this.transforms();return this},c.resize=function(c,a){this.scale.x=c;this.scale.y=a;this.transforms();return this},c.setSkew=function(c,a){this.skew.x=c;this.skew.y=a;this.transforms();
return this};return c};a.prototype.scale=function(c){return"scale("+c.x+", "+c.y+") "};a.prototype.skew=function(c){return"skewX("+-c.x+"deg) skewY("+c.y+"deg)"};return a}(b.HashObject);b.Browser=e})(egret||(egret={}));egret.Codec={name:"Jacob__Codec"};egret.Utils={};egret.Utils.unzip=function(){return egret.Codec.GZip.gunzip.apply(egret.Codec.GZip,arguments)};egret.Utils.unzipBase64=function(){var b=egret.Codec.Base64.decode.apply(egret.Codec.Base64,arguments);return egret.Codec.GZip.gunzip.apply(egret.Codec.GZip,[b])};egret.Utils.unzipBase64AsArray=function(b,e){e=e||1;var d=this.unzipBase64(b),a=[],c,l,m;c=0;for(m=d.length/e;c<m;c++)for(a[c]=0,l=e-1;0<=l;--l)a[c]+=d.charCodeAt(c*e+l)<<8*l;return a};
egret.Utils.unzipAsArray=function(b,e){e=e||1;var d=this.unzip(b),a=[],c,l,m;c=0;for(m=d.length/e;c<m;c++)for(a[c]=0,l=e-1;0<=l;--l)a[c]+=d.charCodeAt(c*e+l)<<8*l;return a};egret.Utils.StringToArray=function(b){b=b.split(",");var e=[],d;for(d=0;d<b.length;d++)e.push(parseInt(b[d]));return e};egret.Codec.Base64={name:"Jacob__Codec__Base64"};egret.Codec.Base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
egret.Codec.Base64.decode=function(b){var e=[],d,a,c,l,m,g=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<b.length;)d=this._keyStr.indexOf(b.charAt(g++)),a=this._keyStr.indexOf(b.charAt(g++)),l=this._keyStr.indexOf(b.charAt(g++)),m=this._keyStr.indexOf(b.charAt(g++)),d=d<<2|a>>4,a=(a&15)<<4|l>>2,c=(l&3)<<6|m,e.push(String.fromCharCode(d)),64!=l&&e.push(String.fromCharCode(a)),64!=m&&e.push(String.fromCharCode(c));return e=e.join("")};
egret.Codec.Base64.decodeAsArray=function(b,e){var d=this.decode(b),a=[],c,l,m;c=0;for(m=d.length/e;c<m;c++)for(a[c]=0,l=e-1;0<=l;--l)a[c]+=d.charCodeAt(c*e+l)<<8*l;return a};egret.Utils.uint8ArrayToUint32Array=function(b){if(0!=b.length%4)return null;for(var e=b.length/4,d=window.Uint32Array?new Uint32Array(e):[],a=0;a<e;a++){var c=4*a;d[a]=b[c]+256*b[c+1]+65536*b[c+2]+16777216*b[c+3]}return d};egret.Codec.GZip=function(b){this.data=b;this.debug=!1;this.gpflags=void 0;this.files=0;this.unzipped=[];this.buf32k=Array(32768);this.bIdx=0;this.modeZIP=!1;this.bytepos=0;this.bb=1;this.bits=0;this.nameBuf=[];this.fileout=void 0;this.literalTree=Array(egret.Codec.GZip.LITERALS);this.distanceTree=Array(32);this.treepos=0;this.Places=null;this.len=0;this.fpos=Array(17);this.fpos[0]=0;this.fmax=this.flens=void 0};egret.Codec.GZip.gunzip=function(b){return(new egret.Codec.GZip(b)).gunzip()[0][0]};
egret.Codec.GZip.HufNode=function(){this.b1=this.b0=0;this.jump=null;this.jumppos=-1};egret.Codec.GZip.LITERALS=288;egret.Codec.GZip.NAMEMAX=256;
egret.Codec.GZip.bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,
161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];
egret.Codec.GZip.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];egret.Codec.GZip.cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];egret.Codec.GZip.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];egret.Codec.GZip.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];
egret.Codec.GZip.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];egret.Codec.GZip.prototype.gunzip=function(){this.outputArr=[];this.nextFile();return this.unzipped};egret.Codec.GZip.prototype.readByte=function(){this.bits+=8;return this.bytepos<this.data.length?this.data.charCodeAt(this.bytepos++):-1};egret.Codec.GZip.prototype.byteAlign=function(){this.bb=1};
egret.Codec.GZip.prototype.readBit=function(){var b;this.bits++;b=this.bb&1;this.bb>>=1;0==this.bb&&(this.bb=this.readByte(),b=this.bb&1,this.bb=this.bb>>1|128);return b};egret.Codec.GZip.prototype.readBits=function(b){for(var e=0,d=b;d--;)e=e<<1|this.readBit();b&&(e=egret.Codec.GZip.bitReverse[e]>>8-b);return e};egret.Codec.GZip.prototype.flushBuffer=function(){this.bIdx=0};
egret.Codec.GZip.prototype.addBuffer=function(b){this.buf32k[this.bIdx++]=b;this.outputArr.push(String.fromCharCode(b));32768==this.bIdx&&(this.bIdx=0)};egret.Codec.GZip.prototype.IsPat=function(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]==this.len)return this.fpos[this.len]++;this.fpos[this.len]++}};
egret.Codec.GZip.prototype.Rec=function(){var b=this.Places[this.treepos],e;if(17==this.len)return-1;this.treepos++;this.len++;e=this.IsPat();if(0<=e)b.b0=e;else if(b.b0=32768,this.Rec())return-1;e=this.IsPat();if(0<=e)b.b1=e,b.jump=null;else if(b.b1=32768,b.jump=this.Places[this.treepos],b.jumppos=this.treepos,this.Rec())return-1;this.len--;return 0};
egret.Codec.GZip.prototype.CreateTree=function(b,e,d,a){this.Places=b;this.treepos=0;this.flens=d;this.fmax=e;for(b=0;17>b;b++)this.fpos[b]=0;this.len=0;return this.Rec()?-1:0};egret.Codec.GZip.prototype.DecodeValue=function(b){for(var e,d,a=0,c=b[a];;)if(e=this.readBit()){if(!(c.b1&32768))return c.b1;c=c.jump;e=b.length;for(d=0;d<e;d++)if(b[d]===c){a=d;break}}else{if(!(c.b0&32768))return c.b0;a++;c=b[a]}return-1};
egret.Codec.GZip.prototype.DeflateLoop=function(){var b,e,d,a,c;do if(b=this.readBit(),d=this.readBits(2),0==d)for(this.byteAlign(),d=this.readByte(),d|=this.readByte()<<8,e=this.readByte(),e|=this.readByte()<<8,(d^~e)&65535&&document.write("BlockLen checksum mismatch\n");d--;)e=this.readByte(),this.addBuffer(e);else if(1==d)for(;;)if(d=egret.Codec.GZip.bitReverse[this.readBits(7)]>>1,23<d?(d=d<<1|this.readBit(),199<d?(d-=128,d=d<<1|this.readBit()):(d-=48,143<d&&(d+=136))):d+=256,256>d)this.addBuffer(d);
else if(256==d)break;else{var l;d-=257;c=this.readBits(egret.Codec.GZip.cplext[d])+egret.Codec.GZip.cplens[d];d=egret.Codec.GZip.bitReverse[this.readBits(5)]>>3;8<egret.Codec.GZip.cpdext[d]?(l=this.readBits(8),l|=this.readBits(egret.Codec.GZip.cpdext[d]-8)<<8):l=this.readBits(egret.Codec.GZip.cpdext[d]);l+=egret.Codec.GZip.cpdist[d];for(d=0;d<c;d++)e=this.buf32k[this.bIdx-l&32767],this.addBuffer(e)}else if(2==d){var m=Array(320);e=257+this.readBits(5);l=1+this.readBits(5);a=4+this.readBits(4);for(d=
0;19>d;d++)m[d]=0;for(d=0;d<a;d++)m[egret.Codec.GZip.border[d]]=this.readBits(3);c=this.distanceTree.length;for(a=0;a<c;a++)this.distanceTree[a]=new egret.Codec.GZip.HufNode;if(this.CreateTree(this.distanceTree,19,m,0))return this.flushBuffer(),1;c=e+l;a=0;for(var g=-1;a<c;)if(g++,d=this.DecodeValue(this.distanceTree),16>d)m[a++]=d;else if(16==d){var f;d=3+this.readBits(2);if(a+d>c)return this.flushBuffer(),1;for(f=a?m[a-1]:0;d--;)m[a++]=f}else{d=17==d?3+this.readBits(3):11+this.readBits(7);if(a+
d>c)return this.flushBuffer(),1;for(;d--;)m[a++]=0}c=this.literalTree.length;for(a=0;a<c;a++)this.literalTree[a]=new egret.Codec.GZip.HufNode;if(this.CreateTree(this.literalTree,e,m,0))return this.flushBuffer(),1;c=this.literalTree.length;for(a=0;a<c;a++)this.distanceTree[a]=new egret.Codec.GZip.HufNode;d=[];for(a=e;a<m.length;a++)d[a-e]=m[a];if(this.CreateTree(this.distanceTree,l,d,0))return this.flushBuffer(),1;for(;;)if(d=this.DecodeValue(this.literalTree),256<=d){d-=256;if(0==d)break;d--;c=this.readBits(egret.Codec.GZip.cplext[d])+
egret.Codec.GZip.cplens[d];d=this.DecodeValue(this.distanceTree);8<egret.Codec.GZip.cpdext[d]?(l=this.readBits(8),l|=this.readBits(egret.Codec.GZip.cpdext[d]-8)<<8):l=this.readBits(egret.Codec.GZip.cpdext[d]);for(l+=egret.Codec.GZip.cpdist[d];c--;)e=this.buf32k[this.bIdx-l&32767],this.addBuffer(e)}else this.addBuffer(d)}while(!b);this.flushBuffer();this.byteAlign();return 0};
egret.Codec.GZip.prototype.unzipFile=function(b){var e;this.gunzip();for(e=0;e<this.unzipped.length;e++)if(this.unzipped[e][1]==b)return this.unzipped[e][0]};
egret.Codec.GZip.prototype.nextFile=function(){this.outputArr=[];this.modeZIP=!1;var b=[];b[0]=this.readByte();b[1]=this.readByte();120==b[0]&&218==b[1]&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),"geonext.gxt"],this.files++);31==b[0]&&139==b[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),"file"],this.files++);if(80==b[0]&&75==b[1]&&(this.modeZIP=!0,b[2]=this.readByte(),b[3]=this.readByte(),3==b[2]&&4==b[3])){b[0]=this.readByte();b[1]=this.readByte();
this.gpflags=this.readByte();this.gpflags|=this.readByte()<<8;b=this.readByte();b|=this.readByte()<<8;this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();var e=this.readByte(),e=e|this.readByte()<<8,d=this.readByte(),d=d|this.readByte()<<8,a=0;for(this.nameBuf=[];e--;){var c=this.readByte();"/"==c|":"==c?a=0:a<egret.Codec.GZip.NAMEMAX-1&&(this.nameBuf[a++]=String.fromCharCode(c))}this.fileout||
(this.fileout=this.nameBuf);for(var a=0;a<d;)this.readByte(),a++;8==b&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++);this.skipdir()}};
egret.Codec.GZip.prototype.skipdir=function(){var b=[],e;this.gpflags&8&&(b[0]=this.readByte(),b[1]=this.readByte(),b[2]=this.readByte(),b[3]=this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte());this.modeZIP&&this.nextFile();b[0]=this.readByte();if(8!=b[0])return 0;this.gpflags=this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();if(this.gpflags&4)for(b[0]=
this.readByte(),b[2]=this.readByte(),this.len=b[0]+256*b[1],b=0;b<this.len;b++)this.readByte();if(this.gpflags&8)for(b=0,this.nameBuf=[];e=this.readByte();){if("7"==e||":"==e)b=0;b<egret.Codec.GZip.NAMEMAX-1&&(this.nameBuf[b++]=e)}if(this.gpflags&16)for(;this.readByte(););this.gpflags&2&&(this.readByte(),this.readByte());this.DeflateLoop();this.readByte();this.readByte();this.readByte();this.readByte();this.modeZIP&&this.nextFile()};/*
 zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){function b(c){throw c;}function e(c,a){var b=c.split("."),l=B;b[0]in l||!l.execScript||l.execScript("var "+b[0]);for(var d;b.length&&(d=b.shift());)b.length||a===v?l=l[d]?l[d]:l[d]={}:l[d]=a}function d(c){if("string"===typeof c){c=c.split("");var a,b;a=0;for(b=c.length;a<b;a++)c[a]=(c[a].charCodeAt(0)&255)>>>0}a=1;b=0;for(var l=c.length,d,e=0;0<l;){d=1024<l?1024:l;l-=d;do a+=c[e++],b+=a;while(--d);a%=65521;b%=65521}return(b<<16|a)>>>0}function a(c,a){this.index="number"===typeof a?a:0;
this.i=0;this.buffer=c instanceof(t?Uint8Array:Array)?c:new (t?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&b(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function c(c){this.buffer=new (t?Uint16Array:Array)(2*c);this.length=0}function l(c){var a=c.length,b=0,l=Number.POSITIVE_INFINITY,d,e,m,g,f,h,k,p,r;for(p=0;p<a;++p)c[p]>b&&(b=c[p]),c[p]<l&&(l=c[p]);d=1<<b;e=new (t?Uint32Array:Array)(d);m=1;g=0;for(f=2;m<=b;){for(p=0;p<a;++p)if(c[p]===m){h=0;k=g;for(r=0;r<m;++r)h=
h<<1|k&1,k>>=1;for(r=h;r<d;r+=f)e[r]=m<<16|p;++g}++m;g<<=1;f<<=1}return[e,b,l]}function m(c,a){this.h=H;this.w=0;this.input=c;this.b=0;a&&(a.lazy&&(this.w=a.lazy),"number"===typeof a.compressionType&&(this.h=a.compressionType),a.outputBuffer&&(this.a=t&&a.outputBuffer instanceof Array?new Uint8Array(a.outputBuffer):a.outputBuffer),"number"===typeof a.outputIndex&&(this.b=a.outputIndex));this.a||(this.a=new (t?Uint8Array:Array)(32768))}function g(c,a){this.length=c;this.G=a}function f(){var c=G;switch(z){case 3===
c:return[257,c-3,0];case 4===c:return[258,c-4,0];case 5===c:return[259,c-5,0];case 6===c:return[260,c-6,0];case 7===c:return[261,c-7,0];case 8===c:return[262,c-8,0];case 9===c:return[263,c-9,0];case 10===c:return[264,c-10,0];case 12>=c:return[265,c-11,1];case 14>=c:return[266,c-13,1];case 16>=c:return[267,c-15,1];case 18>=c:return[268,c-17,1];case 22>=c:return[269,c-19,2];case 26>=c:return[270,c-23,2];case 30>=c:return[271,c-27,2];case 34>=c:return[272,c-31,2];case 42>=c:return[273,c-35,3];case 50>=
c:return[274,c-43,3];case 58>=c:return[275,c-51,3];case 66>=c:return[276,c-59,3];case 82>=c:return[277,c-67,4];case 98>=c:return[278,c-83,4];case 114>=c:return[279,c-99,4];case 130>=c:return[280,c-115,4];case 162>=c:return[281,c-131,5];case 194>=c:return[282,c-163,5];case 226>=c:return[283,c-195,5];case 257>=c:return[284,c-227,5];case 258===c:return[285,c-258,0];default:b("invalid length: "+c)}}function h(c,a){function l(c,a){var d=c.G,e=[],m=0,g;g=M[c.length];e[m++]=g&65535;e[m++]=g>>16&255;e[m++]=
g>>24;var f;switch(z){case 1===d:f=[0,d-1,0];break;case 2===d:f=[1,d-2,0];break;case 3===d:f=[2,d-3,0];break;case 4===d:f=[3,d-4,0];break;case 6>=d:f=[4,d-5,1];break;case 8>=d:f=[5,d-7,1];break;case 12>=d:f=[6,d-9,2];break;case 16>=d:f=[7,d-13,2];break;case 24>=d:f=[8,d-17,3];break;case 32>=d:f=[9,d-25,3];break;case 48>=d:f=[10,d-33,4];break;case 64>=d:f=[11,d-49,4];break;case 96>=d:f=[12,d-65,5];break;case 128>=d:f=[13,d-97,5];break;case 192>=d:f=[14,d-129,6];break;case 256>=d:f=[15,d-193,6];break;
case 384>=d:f=[16,d-257,7];break;case 512>=d:f=[17,d-385,7];break;case 768>=d:f=[18,d-513,8];break;case 1024>=d:f=[19,d-769,8];break;case 1536>=d:f=[20,d-1025,9];break;case 2048>=d:f=[21,d-1537,9];break;case 3072>=d:f=[22,d-2049,10];break;case 4096>=d:f=[23,d-3073,10];break;case 6144>=d:f=[24,d-4097,11];break;case 8192>=d:f=[25,d-6145,11];break;case 12288>=d:f=[26,d-8193,12];break;case 16384>=d:f=[27,d-12289,12];break;case 24576>=d:f=[28,d-16385,13];break;case 32768>=d:f=[29,d-24577,13];break;default:b("invalid distance")}g=
f;e[m++]=g[0];e[m++]=g[1];e[m++]=g[2];d=0;for(m=e.length;d<m;++d)r[q++]=e[d];n[e[0]]++;w[e[3]]++;s=c.length+a-1;p=null}var d,e,m,f,h,k={},p,r=t?new Uint16Array(2*a.length):[],q=0,s=0,n=new (t?Uint32Array:Array)(286),w=new (t?Uint32Array:Array)(30),A=c.w,D;if(!t){for(m=0;285>=m;)n[m++]=0;for(m=0;29>=m;)w[m++]=0}n[256]=1;d=0;for(e=a.length;d<e;++d){m=h=0;for(f=3;m<f&&d+m!==e;++m)h=h<<8|a[d+m];k[h]===v&&(k[h]=[]);m=k[h];if(!(0<s--)){for(;0<m.length&&32768<d-m[0];)m.shift();if(d+3>=e){p&&l(p,-1);m=0;
for(f=e-d;m<f;++m)D=a[d+m],r[q++]=D,++n[D];break}if(0<m.length){h=f=v;var C=0,E=v,x=v,y=E=v,u=a.length,x=0,y=m.length;a:for(;x<y;x++){f=m[y-x-1];E=3;if(3<C){for(E=C;3<E;E--)if(a[f+E-1]!==a[d+E-1])continue a;E=C}for(;258>E&&d+E<u&&a[f+E]===a[d+E];)++E;E>C&&(h=f,C=E);if(258===E)break}f=new g(C,d-h);p?p.length<f.length?(D=a[d-1],r[q++]=D,++n[D],l(f,0)):l(p,-1):f.length<A?p=f:l(f,0)}else p?l(p,-1):(D=a[d],r[q++]=D,++n[D])}m.push(d)}r[q++]=256;n[256]++;c.L=n;c.K=w;return t?r.subarray(0,q):r}function k(a,
b){function l(c){var a=r[c][q[c]];a===k?(l(c+1),l(c+1)):--p[a];++q[c]}var d=a.length,e=new c(572),m=new (t?Uint8Array:Array)(d),g,f,h;if(!t)for(f=0;f<d;f++)m[f]=0;for(f=0;f<d;++f)0<a[f]&&e.push(f,a[f]);d=Array(e.length/2);g=new (t?Uint32Array:Array)(e.length/2);if(1===d.length)return m[e.pop().index]=1,m;f=0;for(h=e.length/2;f<h;++f)d[f]=e.pop(),g[f]=d[f].value;var k=g.length;f=new (t?Uint16Array:Array)(b);var e=new (t?Uint8Array:Array)(b),p=new (t?Uint8Array:Array)(k);h=Array(b);var r=Array(b),q=
Array(b),s=(1<<b)-k,n=1<<b-1,w,A,v;f[b-1]=k;for(w=0;w<b;++w)s<n?e[w]=0:(e[w]=1,s-=n),s<<=1,f[b-2-w]=(f[b-1-w]/2|0)+k;f[0]=e[0];h[0]=Array(f[0]);r[0]=Array(f[0]);for(w=1;w<b;++w)f[w]>2*f[w-1]+e[w]&&(f[w]=2*f[w-1]+e[w]),h[w]=Array(f[w]),r[w]=Array(f[w]);for(s=0;s<k;++s)p[s]=b;for(n=0;n<f[b-1];++n)h[b-1][n]=g[n],r[b-1][n]=n;for(s=0;s<b;++s)q[s]=0;1===e[b-1]&&(--p[0],++q[b-1]);for(w=b-2;0<=w;--w){A=s=0;v=q[w+1];for(n=0;n<f[w];n++)A=h[w+1][v]+h[w+1][v+1],A>g[s]?(h[w][n]=A,r[w][n]=k,v+=2):(h[w][n]=g[s],
r[w][n]=s,++s);q[w]=0;1===e[w]&&l(w)}g=p;f=0;for(h=d.length;f<h;++f)m[d[f].index]=g[f];return m}function n(c){var a=new (t?Uint16Array:Array)(c.length),l=[],d=[],e=0,m,g,f;m=0;for(g=c.length;m<g;m++)l[c[m]]=(l[c[m]]|0)+1;m=1;for(g=16;m<=g;m++)d[m]=e,e+=l[m]|0,e>1<<m&&b("overcommitted"),e<<=1;65536>e&&b("undercommitted");m=0;for(g=c.length;m<g;m++)for(e=d[c[m]],d[c[m]]+=1,l=a[m]=0,f=c[m];l<f;l++)a[m]=a[m]<<1|e&1,e>>>=1;return a}function p(c,a){this.input=c;this.a=new (t?Uint8Array:Array)(32768);this.h=
J.j;var b={},l;!a&&(a={})||"number"!==typeof a.compressionType||(this.h=a.compressionType);for(l in a)b[l]=a[l];b.outputBuffer=this.a;this.z=new m(this.input,b)}function q(c,a){this.k=[];this.l=32768;this.e=this.g=this.c=this.q=0;this.input=t?new Uint8Array(c):c;this.s=!1;this.m=F;this.B=!1;if(a||!(a={}))a.index&&(this.c=a.index),a.bufferSize&&(this.l=a.bufferSize),a.bufferType&&(this.m=a.bufferType),a.resize&&(this.B=a.resize);switch(this.m){case N:this.b=32768;this.a=new (t?Uint8Array:Array)(32768+
this.l+258);break;case F:this.b=0;this.a=new (t?Uint8Array:Array)(this.l);this.f=this.J;this.t=this.H;this.o=this.I;break;default:b(Error("invalid inflate mode"))}}function r(c,a){for(var l=c.g,d=c.e,e=c.input,m=c.c,g;d<a;)g=e[m++],g===v&&b(Error("input buffer is broken")),l|=g<<d,d+=8;c.g=l>>>a;c.e=d-a;c.c=m;return l&(1<<a)-1}function s(c,a){for(var l=c.g,d=c.e,e=c.input,m=c.c,g=a[0],f=a[1],h;d<f;)h=e[m++],h===v&&b(Error("input buffer is broken")),l|=h<<d,d+=8;e=g[l&(1<<f)-1];g=e>>>16;c.g=l>>g;c.e=
d-g;c.c=m;return e&65535}function A(c){function a(c,b,l){var d,e,m,g;for(g=0;g<c;)switch(d=s(this,b),d){case 16:for(m=3+r(this,2);m--;)l[g++]=e;break;case 17:for(m=3+r(this,3);m--;)l[g++]=0;e=0;break;case 18:for(m=11+r(this,7);m--;)l[g++]=0;e=0;break;default:e=l[g++]=d}return l}var b=r(c,5)+257,d=r(c,5)+1,e=r(c,4)+4,m=new (t?Uint8Array:Array)(K.length),g;for(g=0;g<e;++g)m[K[g]]=r(c,3);e=l(m);m=new (t?Uint8Array:Array)(b);g=new (t?Uint8Array:Array)(d);c.o(l(a.call(c,b,e,m)),l(a.call(c,d,e,g)))}function D(c,
a){var l,d;this.input=c;this.c=0;if(a||!(a={}))a.index&&(this.c=a.index),a.verify&&(this.M=a.verify);l=c[this.c++];d=c[this.c++];switch(l&15){case O:this.method=O;break;default:b(Error("unsupported compression method"))}0!==((l<<8)+d)%31&&b(Error("invalid fcheck flag:"+((l<<8)+d)%31));d&32&&b(Error("fdict flag is not supported"));this.A=new q(c,{index:this.c,bufferSize:a.bufferSize,bufferType:a.bufferType,resize:a.resize})}var v=void 0,z=!0,B=this,t="undefined"!==typeof Uint8Array&&"undefined"!==
typeof Uint16Array&&"undefined"!==typeof Uint32Array;a.prototype.f=function(){var c=this.buffer,a,b=c.length,l=new (t?Uint8Array:Array)(b<<1);if(t)l.set(c);else for(a=0;a<b;++a)l[a]=c[a];return this.buffer=l};a.prototype.d=function(c,a,b){var l=this.buffer,d=this.index,e=this.i,m=l[d];b&&1<a&&(c=8<a?(y[c&255]<<24|y[c>>>8&255]<<16|y[c>>>16&255]<<8|y[c>>>24&255])>>32-a:y[c]>>8-a);if(8>a+e)m=m<<a|c,e+=a;else for(b=0;b<a;++b)m=m<<1|c>>a-b-1&1,8===++e&&(e=0,l[d++]=y[m],m=0,d===l.length&&(l=this.f()));
l[d]=m;this.buffer=l;this.i=e;this.index=d};a.prototype.finish=function(){var c=this.buffer,a=this.index,b;0<this.i&&(c[a]<<=8-this.i,c[a]=y[c[a]],a++);t?b=c.subarray(0,a):(c.length=a,b=c);return b};var u=new (t?Uint8Array:Array)(256),C;for(C=0;256>C;++C){for(var w=C,E=w,x=7,w=w>>>1;w;w>>>=1)E<<=1,E|=w&1,--x;u[C]=(E<<x&255)>>>0}var y=u,u=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,
498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,
3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,
2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,
2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,
2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,
711928724,3020668471,3272380065,1510334235,755167117];t&&new Uint32Array(u);c.prototype.getParent=function(c){return 2*((c-2)/4|0)};c.prototype.push=function(c,a){var b,l,d=this.buffer,e;b=this.length;d[this.length++]=a;for(d[this.length++]=c;0<b;)if(l=this.getParent(b),d[b]>d[l])e=d[b],d[b]=d[l],d[l]=e,e=d[b+1],d[b+1]=d[l+1],d[l+1]=e,b=l;else break;return this.length};c.prototype.pop=function(){var c,a,b=this.buffer,l,d,e;a=b[0];c=b[1];this.length-=2;b[0]=b[this.length];b[1]=b[this.length+1];for(e=
0;;){d=2*e+2;if(d>=this.length)break;d+2<this.length&&b[d+2]>b[d]&&(d+=2);if(b[d]>b[e])l=b[e],b[e]=b[d],b[d]=l,l=b[e+1],b[e+1]=b[d+1],b[d+1]=l;else break;e=d}return{index:c,value:a,length:this.length}};var H=2,u={NONE:0,r:1,j:H,N:3},L=[];for(C=0;288>C;C++)switch(z){case 143>=C:L.push([C+48,8]);break;case 255>=C:L.push([C-144+400,9]);break;case 279>=C:L.push([C-256+0,7]);break;case 287>=C:L.push([C-280+192,8]);break;default:b("invalid literal: "+C)}m.prototype.n=function(){var c,l,d,e,m=this.input;
switch(this.h){case 0:d=0;for(e=m.length;d<e;){l=t?m.subarray(d,d+65535):m.slice(d,d+65535);d+=l.length;var g=d===e,f=v,p=f=v,p=f=v,r=this.a,q=this.b;if(t){for(r=new Uint8Array(this.a.buffer);r.length<=q+l.length+5;)r=new Uint8Array(r.length<<1);r.set(this.a)}f=g?1:0;r[q++]=f|0;f=l.length;p=~f+65536&65535;r[q++]=f&255;r[q++]=f>>>8&255;r[q++]=p&255;r[q++]=p>>>8&255;if(t)r.set(l,q),q+=l.length,r=r.subarray(0,q);else{f=0;for(p=l.length;f<p;++f)r[q++]=l[f];r.length=q}this.b=q;this.a=r}break;case 1:d=
new a(new Uint8Array(this.a.buffer),this.b);d.d(1,1,z);d.d(1,2,z);m=h(this,m);l=0;for(g=m.length;l<g;l++)if(e=m[l],a.prototype.d.apply(d,L[e]),256<e)d.d(m[++l],m[++l],z),d.d(m[++l],5),d.d(m[++l],m[++l],z);else if(256===e)break;this.a=d.finish();this.b=this.a.length;break;case H:e=new a(new Uint8Array(this.a),this.b);var s,w,A,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C,E,f=Array(19),x,r=H;e.d(1,1,z);e.d(r,2,z);m=h(this,m);p=k(this.L,15);C=n(p);r=k(this.K,7);q=n(r);for(s=286;257<s&&0===p[s-
1];s--);for(w=30;1<w&&0===r[w-1];w--);var y=s,u=w;c=new (t?Uint32Array:Array)(y+u);var B=new (t?Uint32Array:Array)(316),G,F;E=new (t?Uint8Array:Array)(19);for(x=A=0;x<y;x++)c[A++]=p[x];for(x=0;x<u;x++)c[A++]=r[x];if(!t)for(x=0,u=E.length;x<u;++x)E[x]=0;x=G=0;for(u=c.length;x<u;x+=A){for(A=1;x+A<u&&c[x+A]===c[x];++A);y=A;if(0===c[x])if(3>y)for(;0<y--;)B[G++]=0,E[0]++;else for(;0<y;)F=138>y?y:138,F>y-3&&F<y&&(F=y-3),10>=F?(B[G++]=17,B[G++]=F-3,E[17]++):(B[G++]=18,B[G++]=F-11,E[18]++),y-=F;else if(B[G++]=
c[x],E[c[x]]++,y--,3>y)for(;0<y--;)B[G++]=c[x],E[c[x]]++;else for(;0<y;)F=6>y?y:6,F>y-3&&F<y&&(F=y-3),B[G++]=16,B[G++]=F-3,E[16]++,y-=F}c=t?B.subarray(0,G):B.slice(0,G);E=k(E,7);for(x=0;19>x;x++)f[x]=E[D[x]];for(A=19;4<A&&0===f[A-1];A--);D=n(E);e.d(s-257,5,z);e.d(w-1,5,z);e.d(A-4,4,z);for(x=0;x<A;x++)e.d(f[x],3,z);x=0;for(f=c.length;x<f;x++)if(l=c[x],e.d(D[l],E[l],z),16<=l){x++;switch(l){case 16:g=2;break;case 17:g=3;break;case 18:g=7;break;default:b("invalid code: "+l)}e.d(c[x],g,z)}g=[C,p];q=[q,
r];l=g[0];g=g[1];r=q[0];C=q[1];q=0;for(f=m.length;q<f;++q)if(d=m[q],e.d(l[d],g[d],z),256<d)e.d(m[++q],m[++q],z),p=m[++q],e.d(r[p],C[p],z),e.d(m[++q],m[++q],z);else if(256===d)break;this.a=e.finish();this.b=this.a.length;break;default:b("invalid compression type")}return this.a};C=[];var G;for(G=3;258>=G;G++)w=f(),C[G]=w[2]<<24|w[1]<<16|w[0];var M=t?new Uint32Array(C):C,J=u;p.prototype.n=function(){var c,a,l,e,m=0;e=this.a;c=O;switch(c){case O:a=Math.LOG2E*Math.log(32768)-8;break;default:b(Error("invalid compression method"))}a=
a<<4|c;e[m++]=a;switch(c){case O:switch(this.h){case J.NONE:l=0;break;case J.r:l=1;break;case J.j:l=2;break;default:b(Error("unsupported compression type"))}break;default:b(Error("invalid compression method"))}c=l<<6|0;e[m++]=c|31-(256*a+c)%31;c=d(this.input);this.z.b=m;e=this.z.n();m=e.length;t&&(e=new Uint8Array(e.buffer),e.length<=m+4&&(this.a=new Uint8Array(e.length+4),this.a.set(e),e=this.a),e=e.subarray(0,m+4));e[m++]=c>>24&255;e[m++]=c>>16&255;e[m++]=c>>8&255;e[m++]=c&255;return e};e("Zlib.Deflate",
p);e("Zlib.Deflate.compress",function(c,a){return(new p(c,a)).n()});e("Zlib.Deflate.CompressionType",J);e("Zlib.Deflate.CompressionType.NONE",J.NONE);e("Zlib.Deflate.CompressionType.FIXED",J.r);e("Zlib.Deflate.CompressionType.DYNAMIC",J.j);var N=0,F=1,u={D:N,C:F};q.prototype.p=function(){for(;!this.s;){var c=r(this,3);c&1&&(this.s=z);c>>>=1;switch(c){case 0:var c=this.input,a=this.c,l=this.a,d=this.b,e=v,m=v,g=v,f=l.length,e=v;this.e=this.g=0;e=c[a++];e===v&&b(Error("invalid uncompressed block header: LEN (first byte)"));
m=e;e=c[a++];e===v&&b(Error("invalid uncompressed block header: LEN (second byte)"));m|=e<<8;e=c[a++];e===v&&b(Error("invalid uncompressed block header: NLEN (first byte)"));g=e;e=c[a++];e===v&&b(Error("invalid uncompressed block header: NLEN (second byte)"));g|=e<<8;m===~g&&b(Error("invalid uncompressed block header: length verify"));a+m>c.length&&b(Error("input buffer is broken"));switch(this.m){case N:for(;d+m>l.length;){e=f-d;m-=e;if(t)l.set(c.subarray(a,a+e),d),d+=e,a+=e;else for(;e--;)l[d++]=
c[a++];this.b=d;l=this.f();d=this.b}break;case F:for(;d+m>l.length;)l=this.f({v:2});break;default:b(Error("invalid inflate mode"))}if(t)l.set(c.subarray(a,a+m),d),d+=m,a+=m;else for(;m--;)l[d++]=c[a++];this.c=a;this.b=d;this.a=l;break;case 1:this.o(S,T);break;case 2:A(this);break;default:b(Error("unknown BTYPE: "+c))}}return this.t()};C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var K=t?new Uint16Array(C):C;C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,
258,258,258];var I=t?new Uint16Array(C):C;C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var P=t?new Uint8Array(C):C;C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var R=t?new Uint16Array(C):C;C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var Q=t?new Uint8Array(C):C;C=new (t?Uint8Array:Array)(288);w=0;for(E=C.length;w<E;++w)C[w]=143>=w?8:255>=w?9:279>=w?7:8;var S=l(C);C=new (t?Uint8Array:
Array)(30);w=0;for(E=C.length;w<E;++w)C[w]=5;var T=l(C);q.prototype.o=function(c,a){var b=this.a,l=this.b;this.u=c;for(var d=b.length-258,e,m,g;256!==(e=s(this,c));)if(256>e)l>=d&&(this.b=l,b=this.f(),l=this.b),b[l++]=e;else for(e-=257,g=I[e],0<P[e]&&(g+=r(this,P[e])),e=s(this,a),m=R[e],0<Q[e]&&(m+=r(this,Q[e])),l>=d&&(this.b=l,b=this.f(),l=this.b);g--;)b[l]=b[l++-m];for(;8<=this.e;)this.e-=8,this.c--;this.b=l};q.prototype.I=function(c,a){var b=this.a,l=this.b;this.u=c;for(var d=b.length,e,m,g;256!==
(e=s(this,c));)if(256>e)l>=d&&(b=this.f(),d=b.length),b[l++]=e;else for(e-=257,g=I[e],0<P[e]&&(g+=r(this,P[e])),e=s(this,a),m=R[e],0<Q[e]&&(m+=r(this,Q[e])),l+g>d&&(b=this.f(),d=b.length);g--;)b[l]=b[l++-m];for(;8<=this.e;)this.e-=8,this.c--;this.b=l};q.prototype.f=function(){var c=new (t?Uint8Array:Array)(this.b-32768),a=this.b-32768,b,l,d=this.a;if(t)c.set(d.subarray(32768,c.length));else for(b=0,l=c.length;b<l;++b)c[b]=d[b+32768];this.k.push(c);this.q+=c.length;if(t)d.set(d.subarray(a,a+32768));
else for(b=0;32768>b;++b)d[b]=d[a+b];this.b=32768;return d};q.prototype.J=function(c){var a,b=this.input.length/this.c+1|0,l,d,e,m=this.input,g=this.a;c&&("number"===typeof c.v&&(b=c.v),"number"===typeof c.F&&(b+=c.F));2>b?(l=(m.length-this.c)/this.u[2],e=l/2*258|0,d=e<g.length?g.length+e:g.length<<1):d=g.length*b;t?(a=new Uint8Array(d),a.set(g)):a=g;return this.a=a};q.prototype.t=function(){var c=0,a=this.a,b=this.k,l,d=new (t?Uint8Array:Array)(this.q+(this.b-32768)),e,m,g,f;if(0===b.length)return t?
this.a.subarray(32768,this.b):this.a.slice(32768,this.b);e=0;for(m=b.length;e<m;++e)for(l=b[e],g=0,f=l.length;g<f;++g)d[c++]=l[g];e=32768;for(m=this.b;e<m;++e)d[c++]=a[e];this.k=[];return this.buffer=d};q.prototype.H=function(){var c,a=this.b;t?this.B?(c=new Uint8Array(a),c.set(this.a.subarray(0,a))):c=this.a.subarray(0,a):(this.a.length>a&&(this.a.length=a),c=this.a);return this.buffer=c};D.prototype.p=function(){var c=this.input,a,l;a=this.A.p();this.c=this.A.c;this.M&&(l=(c[this.c++]<<24|c[this.c++]<<
16|c[this.c++]<<8|c[this.c++])>>>0,l!==d(a)&&b(Error("invalid adler-32 checksum")));return a};e("Zlib.Inflate",D);e("Zlib.Inflate.BufferType",u);u.ADAPTIVE=u.C;u.BLOCK=u.D;e("Zlib.Inflate.prototype.decompress",D.prototype.p);u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];t&&new Uint16Array(u);u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];t&&new Uint16Array(u);u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];t&&new Uint8Array(u);
u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];t&&new Uint16Array(u);u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];t&&new Uint8Array(u);u=new (t?Uint8Array:Array)(288);C=0;for(w=u.length;C<w;++C)u[C]=143>=C?8:255>=C?9:279>=C?7:8;l(u);u=new (t?Uint8Array:Array)(30);C=0;for(w=u.length;C<w;++C)u[C]=5;l(u);var O=8}).call(this);(function(b){var e=function(){function d(){}d.prototype._ansXML=function(a){var c=0;if(a.childNodes&&0<a.childNodes.length)for(var b=0;b<a.childNodes.length;b++){var e=a.childNodes[b];if(1==e.nodeType){var g=new d;g._ansXML(e);e=e.nodeName;null==this[e]&&(this[e]=[]);this[e].push(g);c++}}0==c&&(this.value=a.textContent);if(a.attributes&&0<a.attributes.length)for(c=0;c<a.attributes.length;c++)b=a.attributes[c],this["$"+b.id]=b.value,this["$"+b.name]=b.value};d.parse=function(a){var c=new d;a=b.SAXParser.getInstance().parserXML(a);
c._ansXML(a);return c};return d}();b.XML=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a,b){d.call(this);this._target=null;this.loop=this.ignoreGlobalPause=this._useTicks=!1;this._actions=this._steps=this.pluginData=null;this.paused=!1;this.duration=0;this._prevPos=-1;this.position=null;this._stepPosition=this._prevPosition=0;this.passive=!1;this.initialize(c,a,b)}__extends(a,d);a.get=function(c,b,d,e){"undefined"===typeof b&&(b=null);"undefined"===typeof d&&(d=null);"undefined"===typeof e&&(e=!1);e&&a.removeTweens(c);return new a(c,b,d)};
a.removeTweens=function(c){if(c.tween_count){for(var b=a._tweens,d=b.length-1;0<=d;d--)b[d]._target==c&&(b[d].paused=!0,b.splice(d,1));c.tween_count=0}};a.tick=function(c,b){"undefined"===typeof b&&(b=!1);for(var d=a._tweens.concat(),e=d.length-1;0<=e;e--){var f=d[e];b&&!f.ignoreGlobalPause||f.paused||f.tick(f._useTicks?1:c)}};a._register=function(c,l){var d=c._target,e=a._tweens;if(l)d&&(d.tween_count=d.tween_count?d.tween_count+1:1),e.push(c),a._inited||(b.Ticker.getInstance().register(a.tick,null),
a._inited=!0);else for(d&&d.tween_count--,d=e.length;d--;)if(e[d]==c){e.splice(d,1);break}};a.removeAllTweens=function(){for(var c=a._tweens,b=0,d=c.length;b<d;b++){var e=c[b];e.paused=!0;e._target.tweenjs_count=0}c.length=0};a.prototype.initialize=function(c,b,d){this._target=c;b&&(this._useTicks=b.useTicks,this.ignoreGlobalPause=b.ignoreGlobalPause,this.loop=b.loop,b.onChange&&this.addEventListener("change",b.onChange,b.onChangeObj),b.override&&a.removeTweens(c));this.pluginData=d||{};this._curQueueProps=
{};this._initQueueProps={};this._steps=[];this._actions=[];b&&b.paused?this.paused=!0:a._register(this,!0);b&&null!=b.position&&this.setPosition(b.position,a.NONE)};a.prototype.setPosition=function(c,a){"undefined"===typeof a&&(a=1);0>c&&(c=0);var b=c,d=!1;b>=this.duration&&(this.loop?b%=this.duration:(b=this.duration,d=!0));if(b==this._prevPos)return d;var e=this._prevPos;this.position=this._prevPos=b;this._prevPosition=c;if(this._target)if(d)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var h=
0,k=this._steps.length;h<k&&!(this._steps[h].t>b);h++);h=this._steps[h-1];this._updateTargetProps(h,(this._stepPosition=b-h.t)/h.d)}0!=a&&0<this._actions.length&&(this._useTicks?this._runActions(b,b):1==a&&b<e?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,b,!0)):this._runActions(e,b));d&&this.setPaused(!0);this.dispatchEventWith("change");return d};a.prototype._runActions=function(c,a,b){"undefined"===typeof b&&(b=!1);var d=c,e=a,h=-1,k=this._actions.length,n=1;c>a&&(d=a,
e=c,h=k,k=n=-1);for(;(h+=n)!=k;){a=this._actions[h];var p=a.t;(p==e||p>d&&p<e||b&&p==c)&&a.f.apply(a.o,a.p)}};a.prototype._updateTargetProps=function(c,b){var d,e,f,h;if(c||1!=b){if(this.passive=!!c.v)return;c.e&&(b=c.e(b,0,1,1));d=c.p0;e=c.p1}else this.passive=!1,d=e=this._curQueueProps;for(var k in this._initQueueProps){null==(f=d[k])&&(d[k]=f=this._initQueueProps[k]);null==(h=e[k])&&(e[k]=h=f);f=f==h||0==b||1==b||"number"!=typeof f?1==b?h:f:f+(h-f)*b;var n=!1;if(h=a._plugins[k])for(var p=0,q=h.length;p<
q;p++){var r=h[p].tween(this,k,f,d,e,b,!!c&&d==e,!c);r==a.IGNORE?n=!0:f=r}n||(this._target[k]=f)}};a.prototype.setPaused=function(c){this.paused=c;a._register(this,!c);return this};a.prototype._cloneProps=function(c){var a={},b;for(b in c)a[b]=c[b];return a};a.prototype._addStep=function(c){0<c.d&&(this._steps.push(c),c.t=this.duration,this.duration+=c.d);return this};a.prototype._appendQueueProps=function(c){var b,d,e,f,h,k;for(k in c)if(void 0===this._initQueueProps[k]){d=this._target[k];if(b=a._plugins[k])for(e=
0,f=b.length;e<f;e++)d=b[e].init(this,k,d);this._initQueueProps[k]=this._curQueueProps[k]=void 0===d?null:d}for(k in c){d=this._curQueueProps[k];if(b=a._plugins[k])for(h=h||{},e=0,f=b.length;e<f;e++)b[e].step&&b[e].step(this,k,d,c[k],h);this._curQueueProps[k]=c[k]}h&&this._appendQueueProps(h);return this._curQueueProps};a.prototype._addAction=function(c){c.t=this.duration;this._actions.push(c);return this};a.prototype._set=function(c,a){for(var b in c)a[b]=c[b]};a.prototype.wait=function(c,a){"undefined"===
typeof a&&(a=!1);if(null==c||0>=c)return this;var b=this._cloneProps(this._curQueueProps);return this._addStep({d:c,p0:b,p1:b,v:a})};a.prototype.to=function(c,a,b){"undefined"===typeof b&&(b=void 0);if(isNaN(a)||0>a)a=0;return this._addStep({d:a||0,p0:this._cloneProps(this._curQueueProps),e:b,p1:this._cloneProps(this._appendQueueProps(c))})};a.prototype.call=function(c,a,b){"undefined"===typeof a&&(a=void 0);"undefined"===typeof b&&(b=void 0);return this._addAction({f:c,p:b?b:[this],o:a?a:this._target})};
a.prototype.set=function(c,a){"undefined"===typeof a&&(a=null);return this._addAction({f:this._set,o:this,p:[c,a?a:this._target]})};a.prototype.play=function(c){c||(c=this);return this.call(c.setPaused,[!1],c)};a.prototype.pause=function(c){c||(c=this);return this.call(c.setPaused,[!0],c)};a.prototype.tick=function(c){this.paused||this.setPosition(this._prevPosition+c)};a.NONE=0;a.LOOP=1;a.REVERSE=2;a._tweens=[];a.IGNORE={};a._plugins={};a._inited=!1;return a}(b.EventDispatcher);b.Tween=e})(egret||
(egret={}));(function(b){var e=function(){function d(){b.Logger.fatal("Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316")}d.get=function(a){-1>a&&(a=-1);1<a&&(a=1);return function(c){return 0==a?c:0>a?c*(c*-a+1+a):c*((2-c)*a+(1-a))}};d.getPowIn=function(a){return function(c){return Math.pow(c,a)}};d.getPowOut=function(a){return function(c){return 1-Math.pow(1-c,a)}};d.getPowInOut=function(a){return function(c){return 1>(c*=2)?0.5*Math.pow(c,a):1-0.5*Math.abs(Math.pow(2-c,a))}};d.sineIn=function(a){return 1-Math.cos(a*
Math.PI/2)};d.sineOut=function(a){return Math.sin(a*Math.PI/2)};d.sineInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};d.getBackIn=function(a){return function(c){return c*c*((a+1)*c-a)}};d.getBackOut=function(a){return function(c){c-=1;return c*c*((a+1)*c+a)+1}};d.getBackInOut=function(a){a*=1.525;return function(c){return 1>(c*=2)?0.5*c*c*((a+1)*c-a):0.5*((c-=2)*c*((a+1)*c+a)+2)}};d.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};d.circOut=function(a){return Math.sqrt(1-a*a)};d.circInOut=function(a){return 1>
(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};d.bounceIn=function(a){return 1-d.bounceOut(1-a)};d.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};d.bounceInOut=function(a){return 0.5>a?0.5*d.bounceIn(2*a):0.5*d.bounceOut(2*a-1)+0.5};d.getElasticIn=function(a,c){var b=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=c/b*Math.asin(1/a);return-(a*Math.pow(2,10*
(d-=1))*Math.sin((d-e)*b/c))}};d.getElasticOut=function(a,c){var b=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=c/b*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*b/c)+1}};d.getElasticInOut=function(a,c){var b=2*Math.PI;return function(d){var e=c/b*Math.asin(1/a);return 1>(d*=2)?-0.5*a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*b/c):a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*b/c)*0.5+1}};d.quadIn=d.getPowIn(2);d.quadOut=d.getPowOut(2);d.quadInOut=d.getPowInOut(2);d.cubicIn=d.getPowIn(3);
d.cubicOut=d.getPowOut(3);d.cubicInOut=d.getPowInOut(3);d.quartIn=d.getPowIn(4);d.quartOut=d.getPowOut(4);d.quartInOut=d.getPowInOut(4);d.quintIn=d.getPowIn(5);d.quintOut=d.getPowOut(5);d.quintInOut=d.getPowInOut(5);d.backIn=d.getBackIn(1.7);d.backOut=d.getBackOut(1.7);d.backInOut=d.getBackInOut(1.7);d.elasticIn=d.getElasticIn(1,0.3);d.elasticOut=d.getElasticOut(1,0.3);d.elasticInOut=d.getElasticInOut(1,0.3*1.5);return d}();b.Ease=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.prototype.play=function(a){"undefined"===typeof a&&(a=!1);var c=this.audio;c&&(isNaN(c.duration)||(c.currentTime=0),c.loop=a,c.play())};b.prototype.stop=function(){var a=this.audio;a&&a.stop()};return b}();b.Sound=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){"undefined"===typeof c&&(c=null);d.call(this);this._source=c?c:[]}__extends(a,d);Object.defineProperty(a.prototype,"source",{get:function(){return this._source},set:function(c){c||(c=[]);this._source=c;this.dispatchCoEvent(b.CollectionEventKind.RESET)},enumerable:!0,configurable:!0});a.prototype.refresh=function(){this.dispatchCoEvent(b.CollectionEventKind.REFRESH)};a.prototype.contains=function(c){return-1!=this.getItemIndex(c)};a.prototype.checkIndex=
function(c){if(0>c||c>=this._source.length)throw new RangeError('\u7d22\u5f15:"'+c+'"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};Object.defineProperty(a.prototype,"length",{get:function(){return this._source.length},enumerable:!0,configurable:!0});a.prototype.addItem=function(c){this._source.push(c);this.dispatchCoEvent(b.CollectionEventKind.ADD,this._source.length-1,-1,[c])};a.prototype.addItemAt=function(c,a){if(0>a||a>this._source.length)throw new RangeError('\u7d22\u5f15:"'+
a+'"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4');this._source.splice(a,0,c);this.dispatchCoEvent(b.CollectionEventKind.ADD,a,-1,[c])};a.prototype.getItemAt=function(c){return this._source[c]};a.prototype.getItemIndex=function(c){for(var a=this._source.length,b=0;b<a;b++)if(this._source[b]===c)return b;return-1};a.prototype.itemUpdated=function(c){var a=this.getItemIndex(c);-1!=a&&this.dispatchCoEvent(b.CollectionEventKind.UPDATE,a,-1,[c])};a.prototype.removeAll=function(){var c=
this._source.concat();this._source.length=0;this.dispatchCoEvent(b.CollectionEventKind.REMOVE,0,-1,c)};a.prototype.removeItemAt=function(c){this.checkIndex(c);var a=this._source.splice(c,1)[0];this.dispatchCoEvent(b.CollectionEventKind.REMOVE,c,-1,[a]);return a};a.prototype.replaceItemAt=function(c,a){this.checkIndex(a);var d=this._source.splice(a,1,c)[0];this.dispatchCoEvent(b.CollectionEventKind.REPLACE,a,-1,[c],[d]);return d};a.prototype.replaceAll=function(c){c||(c=[]);for(var a=c.length,b=this._source.length,
d=a;d<b;d++)this.removeItemAt(a);for(d=0;d<a;d++)d>=b?this.addItemAt(c[d],d):this.replaceItemAt(c[d],d);this._source=c};a.prototype.moveItemAt=function(c,a){this.checkIndex(c);this.checkIndex(a);var d=this._source.splice(c,1)[0];this._source.splice(a,0,d);this.dispatchCoEvent(b.CollectionEventKind.MOVE,a,c,[d]);return d};a.prototype.dispatchCoEvent=function(c,a,d,e,f){"undefined"===typeof c&&(c=null);"undefined"===typeof a&&(a=-1);"undefined"===typeof d&&(d=-1);"undefined"===typeof e&&(e=null);"undefined"===
typeof f&&(f=null);b.CollectionEvent.dispatchCollectionEvent(this,b.CollectionEvent.COLLECTION_CHANGE,c,a,d,e,f)};return a}(b.EventDispatcher);b.ArrayCollection=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,a){"undefined"===typeof c&&(c="children");"undefined"===typeof a&&(a="parent");d.call(this);this.nodeList=[];this._openNodes=[];this._showRoot=!1;this.childrenKey=c;this.parentKey=a}__extends(a,d);Object.defineProperty(a.prototype,"source",{get:function(){return this._source},set:function(c){this._source=c;this._openNodes=[];this.nodeList=[];this._source&&(this._showRoot?this.nodeList.push(this._source):(this._openNodes=[this._source],this.addChildren(this._source,
this.nodeList)));this.dispatchCoEvent(b.CollectionEventKind.RESET)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"openNodes",{get:function(){return this._openNodes.concat()},set:function(c){this._openNodes=c?c.concat():[];this.refresh()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this.nodeList.length},enumerable:!0,configurable:!0});a.prototype.getItemAt=function(c){return this.nodeList[c]};a.prototype.getItemIndex=function(c){for(var a=
this.nodeList.length,b=0;b<a;b++)if(this.nodeList[b]===c)return b;return-1};a.prototype.itemUpdated=function(c){var a=this.getItemIndex(c);-1!=a&&this.dispatchCoEvent(b.CollectionEventKind.UPDATE,a,-1,[c])};a.prototype.removeItem=function(c){this.isItemOpen(c)&&this.closeNode(c);if(c){var a=c[this.parentKey];if(a&&(a=a[this.childrenKey])){var d=a.indexOf(c);-1!=d&&a.splice(d,1);c[this.parentKey]=null;d=this.nodeList.indexOf(c);-1!=d&&(this.nodeList.splice(d,1),this.dispatchCoEvent(b.CollectionEventKind.REMOVE,
d,-1,[c]))}}};Object.defineProperty(a.prototype,"showRoot",{get:function(){return this._showRoot},set:function(c){this._showRoot!=c&&(this._showRoot=c,this._source&&(this._showRoot?this.nodeList.splice(0,0,this._source):(this.nodeList.shift(),-1==this.openNodes.indexOf(this._source)&&this.openNodes.push(this._source)),this.refresh()))},enumerable:!0,configurable:!0});a.prototype.addChildren=function(c,a){if(c.hasOwnProperty(this.childrenKey)&&-1!=this._openNodes.indexOf(c))for(var b=c[this.childrenKey],
d=b.length,e=0;e<d;e++){var h=b[e];a.push(h);this.addChildren(h,a)}};a.prototype.hasChildren=function(c){return c.hasOwnProperty(this.childrenKey)?0<c[this.childrenKey].length:!1};a.prototype.isItemOpen=function(c){return-1!=this._openNodes.indexOf(c)};a.prototype.expandItem=function(c,a){"undefined"===typeof a&&(a=!0);a?this.openNode(c):this.closeNode(c)};a.prototype.openNode=function(c){if(-1==this._openNodes.indexOf(c)){this._openNodes.push(c);var a=this.nodeList.indexOf(c);if(-1!=a){var d=[];
this.addChildren(c,d);for(var e=a;d.length;){e++;var f=d.shift();this.nodeList.splice(e,0,f);this.dispatchCoEvent(b.CollectionEventKind.ADD,e,-1,[f])}this.dispatchCoEvent("open",a,a,[c])}}};a.prototype.closeNode=function(c){var a=this._openNodes.indexOf(c);if(-1!=a){var d=[];this.addChildren(c,d);this._openNodes.splice(a,1);a=this.nodeList.indexOf(c);if(-1!=a){for(a++;d.length;){var e=this.nodeList.splice(a,1)[0];this.dispatchCoEvent(b.CollectionEventKind.REMOVE,a,-1,[e]);d.shift()}a--;this.dispatchCoEvent(b.CollectionEventKind.CLOSE,
a,a,[c])}}};a.prototype.getDepth=function(c){var a=0;for(c=c[this.parentKey];c;)a++,c=c[this.parentKey];0<a&&!this._showRoot&&a--;return a};a.prototype.refresh=function(){this.nodeList=[];this._source&&(this._showRoot&&this.nodeList.push(this._source),this.addChildren(this._source,this.nodeList));this.dispatchCoEvent(b.CollectionEventKind.REFRESH)};a.prototype.dispatchCoEvent=function(c,a,d,e,f){"undefined"===typeof c&&(c=null);"undefined"===typeof a&&(a=-1);"undefined"===typeof d&&(d=-1);"undefined"===
typeof e&&(e=null);"undefined"===typeof f&&(f=null);b.CollectionEvent.dispatchCollectionEvent(this,b.CollectionEvent.COLLECTION_CHANGE,c,a,d,e,f)};a.assignParent=function(c,b,d){"undefined"===typeof b&&(b="children");"undefined"===typeof d&&(d="parent");if(c.hasOwnProperty(b))for(var e=c[b],f=e.length,h=0;h<f;h++){var k=e[h];try{k[d]=c}catch(n){}a.assignParent(k,b,d)}};return a}(b.EventDispatcher);b.ObjectCollection=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.targetLevel=Number.MAX_VALUE;this.updateCompleteQueue=new b.DepthQueue;this.invalidateClientPropertiesFlag=this.invalidatePropertiesFlag=!1;this.invalidatePropertiesQueue=new b.DepthQueue;this.invalidateClientSizeFlag=this.invalidateSizeFlag=!1;this.invalidateSizeQueue=new b.DepthQueue;this.invalidateDisplayListFlag=!1;this.invalidateDisplayListQueue=new b.DepthQueue;this.listenersAttached=!1}__extends(a,d);a.prototype.invalidateProperties=
function(c){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners());this.targetLevel<=c.nestLevel&&(this.invalidateClientPropertiesFlag=!0);this.invalidatePropertiesQueue.insert(c)};a.prototype.validateProperties=function(){for(var c=this.invalidatePropertiesQueue.shift();c;)c.parent&&(c.validateProperties(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),c.updateCompletePendingFlag=!0)),c=this.invalidatePropertiesQueue.shift();
this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)};a.prototype.invalidateSize=function(c){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners());this.targetLevel<=c.nestLevel&&(this.invalidateClientSizeFlag=!0);this.invalidateSizeQueue.insert(c)};a.prototype.validateSize=function(){for(var c=this.invalidateSizeQueue.pop();c;)c.parent&&(c.validateSize(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),c.updateCompletePendingFlag=
!0)),c=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)};a.prototype.invalidateDisplayList=function(c){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners());this.invalidateDisplayListQueue.insert(c)};a.prototype.validateDisplayList=function(){for(var c=this.invalidateDisplayListQueue.shift();c;)c.parent&&(c.validateDisplayList(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),
c.updateCompletePendingFlag=!0)),c=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)};a.prototype.attachListeners=function(){b.UIGlobals.stage.addEventListener(b.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this);b.UIGlobals.stage.addEventListener(b.Event.RENDER,this.doPhasedInstantiationCallBack,this);b.UIGlobals.stage.invalidate();this.listenersAttached=!0};a.prototype.doPhasedInstantiationCallBack=function(c){b.UIGlobals.stage.removeEventListener(b.Event.ENTER_FRAME,
this.doPhasedInstantiationCallBack,this);b.UIGlobals.stage.removeEventListener(b.Event.RENDER,this.doPhasedInstantiationCallBack,this);this.doPhasedInstantiation()};a.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.validateProperties();this.invalidateSizeFlag&&this.validateSize();this.invalidateDisplayListFlag&&this.validateDisplayList();if(this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=
!1;for(var c=this.updateCompleteQueue.pop();c;)c.initialized||(c.initialized=!0),c.hasEventListener(b.UIEvent.UPDATE_COMPLETE)&&b.UIEvent.dispatchUIEvent(c,b.UIEvent.UPDATE_COMPLETE),c.updateCompletePendingFlag=!1,c=this.updateCompleteQueue.pop();b.UIEvent.dispatchUIEvent(this,b.UIEvent.UPDATE_COMPLETE)}};a.prototype.validateNow=function(){for(var c=0;this.listenersAttached&&100>c++;)this.doPhasedInstantiationCallBack()};a.prototype.validateClient=function(c,a){"undefined"===typeof a&&(a=!1);var d,
e=!1,f=this.targetLevel;this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=c.nestLevel);for(;!e;){e=!0;for(d=this.invalidatePropertiesQueue.removeSmallestChild(c);d;)d.parent&&(d.validateProperties(),d.updateCompletePendingFlag||(this.updateCompleteQueue.insert(d),d.updateCompletePendingFlag=!0)),d=this.invalidatePropertiesQueue.removeSmallestChild(c);this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1);this.invalidateClientPropertiesFlag=!1;for(d=this.invalidateSizeQueue.removeLargestChild(c);d;){d.parent&&
(d.validateSize(),d.updateCompletePendingFlag||(this.updateCompleteQueue.insert(d),d.updateCompletePendingFlag=!0));if(this.invalidateClientPropertiesFlag&&(d=this.invalidatePropertiesQueue.removeSmallestChild(c))){this.invalidatePropertiesQueue.insert(d);e=!1;break}d=this.invalidateSizeQueue.removeLargestChild(c)}this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1);this.invalidateClientSizeFlag=this.invalidateClientPropertiesFlag=!1;if(!a){for(d=this.invalidateDisplayListQueue.removeSmallestChild(c);d;){d.parent&&
(d.validateDisplayList(),d.updateCompletePendingFlag||(this.updateCompleteQueue.insert(d),d.updateCompletePendingFlag=!0));if(this.invalidateClientPropertiesFlag&&(d=this.invalidatePropertiesQueue.removeSmallestChild(c))){this.invalidatePropertiesQueue.insert(d);e=!1;break}if(this.invalidateClientSizeFlag&&(d=this.invalidateSizeQueue.removeLargestChild(c))){this.invalidateSizeQueue.insert(d);e=!1;break}d=this.invalidateDisplayListQueue.removeSmallestChild(c)}this.invalidateDisplayListQueue.isEmpty()&&
(this.invalidateDisplayListFlag=!1)}}if(f==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!a))for(d=this.updateCompleteQueue.removeLargestChild(c);d;)d.initialized||(d.initialized=!0),d.hasEventListener(b.UIEvent.UPDATE_COMPLETE)&&b.UIEvent.dispatchUIEvent(d,b.UIEvent.UPDATE_COMPLETE),d.updateCompletePendingFlag=!1,d=this.updateCompleteQueue.removeLargestChild(c)};return a}(b.EventDispatcher);b.LayoutManager=e})(egret||(egret={}));(function(b){var e=function(){function a(){this.depthBins=[];this.minDepth=0;this.maxDepth=-1}a.prototype.insert=function(c){var a=c.nestLevel,b=c.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=a:(a<this.minDepth&&(this.minDepth=a),a>this.maxDepth&&(this.maxDepth=a));var e=this.depthBins[a];e?null==e.items[b]&&(e.items[b]=c,e.length++):(e=new d,this.depthBins[a]=e,e.items[b]=c,e.length++)};a.prototype.pop=function(){var c=null;if(this.minDepth<=this.maxDepth){for(var a=this.depthBins[this.maxDepth];!a||
0==a.length;){this.maxDepth--;if(this.maxDepth<this.minDepth)return null;a=this.depthBins[this.maxDepth]}var b=a.items,d;for(d in b){c=b[d];this.remove(c,this.maxDepth);break}for(;!a||0==a.length;){this.maxDepth--;if(this.maxDepth<this.minDepth)break;a=this.depthBins[this.maxDepth]}}return c};a.prototype.shift=function(){var c=null;if(this.minDepth<=this.maxDepth){for(var a=this.depthBins[this.minDepth];!a||0==a.length;){this.minDepth++;if(this.minDepth>this.maxDepth)return null;a=this.depthBins[this.minDepth]}var b=
a.items,d;for(d in b){c=b[d];this.remove(c,this.minDepth);break}for(;!a||0==a.length;){this.minDepth++;if(this.minDepth>this.maxDepth)break;a=this.depthBins[this.minDepth]}}return c};a.prototype.removeLargestChild=function(c){for(var a=this.maxDepth,d=c.nestLevel,e=c.hashCode;d<=a;){var f=this.depthBins[a];if(f&&0<f.length){if(a==c.nestLevel){if(f.items[e])return this.remove(c,a),c}else{var f=f.items,h;for(h in f){var k=f[h];if(k instanceof b.DisplayObject&&c instanceof b.DisplayObjectContainer&&
c.contains(k))return this.remove(k,a),k}}a--}else if(a==this.maxDepth&&this.maxDepth--,a--,a<d)break}return null};a.prototype.removeSmallestChild=function(c){for(var a=c.nestLevel,d=c.hashCode;a<=this.maxDepth;){var e=this.depthBins[a];if(e&&0<e.length){if(a==c.nestLevel){if(e.items[d])return this.remove(c,a),c}else{var e=e.items,f;for(f in e){var h=e[f];if(h instanceof b.DisplayObject&&c instanceof b.DisplayObjectContainer&&c.contains(h))return this.remove(h,a),h}}a++}else if(a==this.minDepth&&this.minDepth++,
a++,a>this.maxDepth)break}return null};a.prototype.remove=function(c,a){"undefined"===typeof a&&(a=-1);var b=c.hashCode,d=this.depthBins[0<=a?a:c.nestLevel];return d&&null!=d.items[b]?(delete d.items[b],d.length--,c):null};a.prototype.removeAll=function(){this.minDepth=this.depthBins.length=0;this.maxDepth=-1};a.prototype.isEmpty=function(){return this.minDepth>this.maxDepth};return a}();b.DepthQueue=e;var d=function(){return function(){this.length=0;this.items=[]}}();b.DepthBin=d})(egret||(egret=
{}));(function(b){var e=function(){function d(){}Object.defineProperty(d,"stage",{get:function(){return d._stage},enumerable:!0,configurable:!0});d._initlize=function(a){d.initlized||(d._stage=a,d._layoutManager=new b.LayoutManager,d.initlized=!0)};Object.defineProperty(d,"uiStage",{get:function(){return d._uiStage},enumerable:!0,configurable:!0});d.initlized=!1;return d}();b.UIGlobals=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.initializeCalled=this._initialized=this._updateCompletePendingFlag=!1;this._nestLevel=0;this._enabled=!0;this._minWidth=this._height=this._width=0;this._maxWidth=1E4;this._minHeight=0;this._maxHeight=1E4;this._measuredHeight=this._measuredWidth=0;this._validateNowFlag=this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1;this._includeInLayout=!0;this._layoutHeightExplicitlySet=this._layoutWidthExplicitlySet=
!1;this.touchEnabled=!0;this.addEventListener(b.Event.ADDED_TO_STAGE,this.onAddedToStage,this);this.addEventListener(b.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this)}__extends(a,d);a.prototype.onAddedToStage=function(c){this.removeEventListener(b.Event.ADDED_TO_STAGE,this.onAddedToStage,this);this._initialize();b.UIGlobals._initlize(this.stage);0<this._nestLevel&&this.checkInvalidateFlag()};Object.defineProperty(a.prototype,"id",{get:function(){return this._id},set:function(c){this._id=c},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"isPopUp",{get:function(){return this._isPopUp},set:function(c){this._isPopUp=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"owner",{get:function(){return this._owner?this._owner:this.parent},enumerable:!0,configurable:!0});a.prototype.ownerChanged=function(c){this._owner=c};Object.defineProperty(a.prototype,"updateCompletePendingFlag",{get:function(){return this._updateCompletePendingFlag},set:function(c){this._updateCompletePendingFlag=
c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"initialized",{get:function(){return this._initialized},set:function(c){this._initialized!=c&&(this._initialized=c)&&b.UIEvent.dispatchUIEvent(this,b.UIEvent.CREATION_COMPLETE)},enumerable:!0,configurable:!0});a.prototype._initialize=function(){this.initializeCalled||(b.UIGlobals.stage&&this.removeEventListener(b.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.initializeCalled=!0,b.UIEvent.dispatchUIEvent(this,b.UIEvent.INITIALIZE),
this.createChildren(),this.childrenCreated())};a.prototype.createChildren=function(){};a.prototype.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};Object.defineProperty(a.prototype,"nestLevel",{get:function(){return this._nestLevel},set:function(c){if(this._nestLevel!=c)for(this._nestLevel=c,0==this._nestLevel?this.addEventListener(b.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(b.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,
this),c=this.numChildren-1;0<=c;c--){var a=this.getChildAt(c);null!=a&&(a.nestLevel=this._nestLevel+1)}},enumerable:!0,configurable:!0});a.prototype._addToDisplayList=function(c,a){"undefined"===typeof a&&(a=!0);var b=this.numChildren;c.parent==this&&b--;this._addingChild(c);this._doAddChild(c,b,a);this._childAdded(c);return c};a.prototype._addToDisplayListAt=function(c,a,b){"undefined"===typeof b&&(b=!0);this._addingChild(c);this._doAddChild(c,a,b);this._childAdded(c);return c};a.prototype._removeFromDisplayList=
function(c,a){"undefined"===typeof a&&(a=!0);var d=this._children.indexOf(c);if(0<=d)return this._doRemoveChild(d,a),this._childRemoved(c),c;b.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent");return null};a.prototype._removeFromDisplayListAt=function(c,a){"undefined"===typeof a&&(a=!0);if(0<=c&&c<this._children.length){var d=this._doRemoveChild(c,a);this._childRemoved(d);return d}b.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};a.prototype.addChild=
function(c){this._addingChild(c);d.prototype.addChild.call(this,c);this._childAdded(c);return c};a.prototype.addChildAt=function(c,a){this._addingChild(c);d.prototype.addChildAt.call(this,c,a);this._childAdded(c);return c};a.prototype._addingChild=function(c){c&&"nestLevel"in c&&(c.nestLevel=this._nestLevel+1)};a.prototype._childAdded=function(c){c instanceof a&&(c._initialize(),c.checkInvalidateFlag())};a.prototype.removeChild=function(c){d.prototype.removeChild.call(this,c);this._childRemoved(c);
return c};a.prototype.removeChildAt=function(c){c=d.prototype.removeChildAt.call(this,c);this._childRemoved(c);return c};a.prototype._childRemoved=function(c){c&&"nestLevel"in c&&(c.nestLevel=0)};a.prototype.checkInvalidateFlag=function(c){b.UIGlobals._layoutManager&&(this._invalidatePropertiesFlag&&b.UIGlobals._layoutManager.invalidateProperties(this),this._invalidateSizeFlag&&b.UIGlobals._layoutManager.invalidateSize(this),this._invalidateDisplayListFlag&&b.UIGlobals._layoutManager.invalidateDisplayList(this),
this._validateNowFlag&&(b.UIGlobals._layoutManager.validateClient(this),this._validateNowFlag=!1))};Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(c){this._enabled=c},enumerable:!0,configurable:!0});a.prototype._setWidth=function(c){if(this._width!=c||this._explicitWidth!=c)d.prototype._setWidth.call(this,c),isNaN(c)?this.invalidateSize():this._width=c,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()};
Object.defineProperty(a.prototype,"width",{get:function(){return this._width},set:function(c){this._setWidth(c)},enumerable:!0,configurable:!0});a.prototype._setHeight=function(c){if(this._height!=c||this._explicitHeight!=c)d.prototype._setHeight.call(this,c),isNaN(c)?this.invalidateSize():this._height=c,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()};Object.defineProperty(a.prototype,"height",{get:function(){return this._height},set:function(c){this._setHeight(c)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scaleX",{get:function(){return this._scaleX},set:function(c){this._setScaleX(c)},enumerable:!0,configurable:!0});a.prototype._setScaleX=function(c){this._scaleX!=c&&(this._scaleX=c,this.invalidateParentSizeAndDisplayList())};Object.defineProperty(a.prototype,"scaleY",{get:function(){return this._scaleY},set:function(c){this._setScaleY(c)},enumerable:!0,configurable:!0});a.prototype._setScaleY=function(c){this._scaleY!=c&&(this._scaleY=
c,this.invalidateParentSizeAndDisplayList())};Object.defineProperty(a.prototype,"minWidth",{get:function(){return this._minWidth},set:function(c){this._minWidth!=c&&(this._minWidth=c,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(c){this._maxWidth!=c&&(this._maxWidth=c,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"minHeight",{get:function(){return this._minHeight},
set:function(c){this._minHeight!=c&&(this._minHeight=c,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(c){this._maxHeight!=c&&(this._maxHeight=c,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"measuredWidth",{get:function(){return this._measuredWidth},set:function(c){this._measuredWidth=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"measuredHeight",{get:function(){return this._measuredHeight},set:function(c){this._measuredHeight=c},enumerable:!0,configurable:!0});a.prototype.setActualSize=function(c,a){var b=!1;this._width!=c&&(this._width=c,b=!0);this._height!=a&&(this._height=a,b=!0);b&&(this.invalidateDisplayList(),this.dispatchResizeEvent())};Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(c){this._x!=c&&(this._x=c,this.invalidateProperties(),this._includeInLayout&&this.parent&&this.parent instanceof
a&&this.parent._childXYChanged())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(c){this._y!=c&&(this._y=c,this.invalidateProperties(),this._includeInLayout&&this.parent&&this.parent instanceof a&&this.parent._childXYChanged())},enumerable:!0,configurable:!0});a.prototype.invalidateProperties=function(){this._invalidatePropertiesFlag||(this._invalidatePropertiesFlag=!0,this.parent&&b.UIGlobals._layoutManager&&b.UIGlobals._layoutManager.invalidateProperties(this))};
a.prototype.validateProperties=function(){this._invalidatePropertiesFlag&&(this.commitProperties(),this._invalidatePropertiesFlag=!1)};a.prototype.invalidateSize=function(){this._invalidateSizeFlag||(this._invalidateSizeFlag=!0,this.parent&&b.UIGlobals._layoutManager&&b.UIGlobals._layoutManager.invalidateSize(this))};a.prototype.validateSize=function(c){"undefined"===typeof c&&(c=!1);if(c)for(c=0;c<this.numChildren;c++){var a=this.getChildAt(c);"validateSize"in a&&a.validateSize(!0)}this._invalidateSizeFlag&&
(this.measureSizes()&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._invalidateSizeFlag=!1)};a.prototype.measureSizes=function(){var c=!1;if(!this._invalidateSizeFlag)return c;this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=
this.maxHeight));if(isNaN(this._oldPreferWidth))this._oldPreferWidth=this.preferredWidth,this._oldPreferHeight=this.preferredHeight,c=!0;else{if(this.preferredWidth!=this._oldPreferWidth||this.preferredHeight!=this._oldPreferHeight)c=!0;this._oldPreferWidth=this.preferredWidth;this._oldPreferHeight=this.preferredHeight}return c};a.prototype.invalidateDisplayList=function(){this._invalidateDisplayListFlag||(this._invalidateDisplayListFlag=!0,this.parent&&b.UIGlobals._layoutManager&&b.UIGlobals._layoutManager.invalidateDisplayList(this))};
a.prototype.validateDisplayList=function(){if(this._invalidateDisplayListFlag){var c=0,a=0,c=this._layoutWidthExplicitlySet?this._width:isNaN(this.explicitWidth)?this.measuredWidth:this._explicitWidth,a=this._layoutHeightExplicitlySet?this._height:isNaN(this.explicitHeight)?this.measuredHeight:this._explicitHeight;isNaN(c)&&(c=0);isNaN(a)&&(a=0);this.setActualSize(c,a);this.updateDisplayList(c,a);this._invalidateDisplayListFlag=!1}};a.prototype.validateNow=function(c){"undefined"===typeof c&&(c=!1);
this._validateNowFlag||null==b.UIGlobals._layoutManager?this._validateNowFlag=!0:b.UIGlobals._layoutManager.validateClient(this,c)};a.prototype.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._includeInLayout&&"invalidateSize"in this.parent){var c=this.parent;c.invalidateSize();c.invalidateDisplayList()}};a.prototype.updateDisplayList=function(c,a){};a.prototype.canSkipMeasurement=function(){return!isNaN(this._explicitWidth)&&!isNaN(this._explicitHeight)};a.prototype.commitProperties=
function(){this.oldWidth==this._width&&this.oldHeight==this._height||this.dispatchResizeEvent();this.oldX==this.x&&this.oldY==this.y||this.dispatchMoveEvent()};a.prototype.measure=function(){this._measuredWidth=this._measuredHeight=0};a.prototype.dispatchMoveEvent=function(){this.hasEventListener(b.MoveEvent.MOVE)&&b.MoveEvent.dispatchMoveEvent(this,this.oldX,this.oldY);this.oldX=this.x;this.oldY=this.y};a.prototype._childXYChanged=function(){};a.prototype.dispatchResizeEvent=function(){this.hasEventListener(b.ResizeEvent.RESIZE)&&
b.ResizeEvent.dispatchResizeEvent(this,this.oldWidth,this.oldHeight);this.oldWidth=this._width;this.oldHeight=this._height};Object.defineProperty(a.prototype,"includeInLayout",{get:function(){return this._includeInLayout},set:function(c){this._includeInLayout!=c&&(this._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._includeInLayout=c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"left",{get:function(){return this._left},set:function(c){this._left!=c&&(this._left=
c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"right",{get:function(){return this._right},set:function(c){this._right!=c&&(this._right=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"top",{get:function(){return this._top},set:function(c){this._top!=c&&(this._top=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"bottom",{get:function(){return this._bottom},set:function(c){this._bottom!=c&&(this._bottom=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"horizontalCenter",{get:function(){return this._horizontalCenter},set:function(c){this._horizontalCenter!=c&&(this._horizontalCenter=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalCenter",{get:function(){return this._verticalCenter},
set:function(c){this._verticalCenter!=c&&(this._verticalCenter=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"percentWidth",{get:function(){return this._percentWidth},set:function(c){this._percentWidth!=c&&(this._percentWidth=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"percentHeight",{get:function(){return this._percentHeight},set:function(c){this._percentHeight!=
c&&(this._percentHeight=c,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});a.prototype.setLayoutBoundsSize=function(c,a){isNaN(c)?(this._layoutWidthExplicitlySet=!1,c=this.preferredWidth):this._layoutWidthExplicitlySet=!0;isNaN(a)?(this._layoutHeightExplicitlySet=!1,a=this.preferredHeight):this._layoutHeightExplicitlySet=!0;this.setActualSize(c/this._scaleX,a/this._scaleY)};a.prototype.setLayoutBoundsPosition=function(c,a){0>this._scaleX&&(c+=this.layoutBoundsWidth);0>this._scaleY&&
(a+=this.layoutBoundsHeight);var b=!1;this._x!=c&&(this._x=c,b=!0);this._y!=a&&(this._y=a,b=!0);b&&this.dispatchMoveEvent()};Object.defineProperty(a.prototype,"preferredWidth",{get:function(){var c=this._hasWidthSet?this._explicitWidth:this._measuredWidth,a=this._scaleX;0>a&&(a=-a);return c*a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"preferredHeight",{get:function(){var c=this._hasHeightSet?this._explicitHeight:this._measuredHeight,a=this._scaleY;0>a&&(a=-a);return c*a},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"preferredX",{get:function(){return 0<=this._scaleX?this._x:this._x-this.preferredWidth},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"preferredY",{get:function(){return 0<=this._scaleY?this._y:this._y-this.preferredHeight},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layoutBoundsX",{get:function(){return 0<=this._scaleX?this._x:this._x-this.layoutBoundsWidth},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"layoutBoundsY",{get:function(){return 0<=this._scaleY?this._y:this._y-this.layoutBoundsHeight},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layoutBoundsWidth",{get:function(){var c=0,c=this._layoutWidthExplicitlySet?this._width:this._hasWidthSet?this._explicitWidth:this._measuredWidth,a=this._scaleX;0>a&&(a=-a);return c*a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layoutBoundsHeight",{get:function(){var c=0,c=this._layoutHeightExplicitlySet?
this._height:this._hasHeightSet?this._explicitHeight:this._measuredHeight,a=this.scaleY;0>a&&(a=-a);return c*a},enumerable:!0,configurable:!0});return a}(b.DisplayObjectContainer);b.UIComponent=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.ABOVE="above";b.BELOW="below";b.CENTER="center";b.TOP_LEFT="topLeft";b.LEFT="left";b.RIGHT="right";return b}();b.PopUpPosition=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.AUTO="auto";b.OFF="off";b.ON="on";return b}();b.ScrollPolicy=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(c){"undefined"===typeof c&&(c=null);b.call(this);this.generator=c}__extends(a,b);a.prototype.newInstance=function(){return new this.generator};return a}(b.HashObject);b.ClassFactory=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype.initialize=function(c){};a.prototype.apply=function(c){};a.prototype.remove=function(c){};a.prototype.initializeFromObject=function(c){for(var a in c)this[a]=c[a];return this};return a}(b.HashObject);b.OverrideBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c,b,e,g){d.call(this);this.propertyName="";this.position=a.LAST;this.target=c;this.propertyName=b;this.position=e;this.relativeTo=g}__extends(a,d);a.prototype.initialize=function(c){if((c=c[this.target])&&!(c instanceof b.SkinnableComponent)&&"_initialize"in c)try{c._initialize()}catch(a){}};a.prototype.apply=function(c){var b,d;try{d=c[this.relativeTo]}catch(e){}var f=c[this.target];c=this.propertyName?c[this.propertyName]:c;if(f&&c){switch(this.position){case a.FIRST:b=
0;break;case a.LAST:b=-1;break;case a.BEFORE:b=c.getElementIndex(d);break;case a.AFTER:b=c.getElementIndex(d)+1}-1==b&&(b=c.numElements);c.addElementAt(f,b)}};a.prototype.remove=function(c){var a=null==this.propertyName||""==this.propertyName?c:c[this.propertyName];(c=c[this.target])&&a&&-1!=a.getElementIndex(c)&&a.removeElement(c)};a.FIRST="first";a.LAST="last";a.BEFORE="before";a.AFTER="after";return a}(b.OverrideBase);b.AddItems=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(c,a,e){b.call(this);this.target=c;this.name=a;this.value=e}__extends(a,b);a.prototype.apply=function(c){c=null==this.target||""==this.target?c:c[this.target];null!=c&&(this.oldValue=c[this.name],this.setPropertyValue(c,this.name,this.value,this.oldValue))};a.prototype.remove=function(c){c=null==this.target||""==this.target?c:c[this.target];null!=c&&(this.setPropertyValue(c,this.name,this.oldValue,this.oldValue),this.oldValue=null)};a.prototype.setPropertyValue=
function(c,a,b,d){c[a]=void 0===b||null===b?b:"boolean"==typeof d?this.toBoolean(b):b};a.prototype.toBoolean=function(c){return"string"==typeof c?"true"==c.toLowerCase():!1!=c};return a}(b.OverrideBase);b.SetProperty=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(c,a){b.call(this);this.initialized=!1;this.name=c;this.overrides=a}__extends(a,b);a.prototype.initialize=function(c){if(!this.initialized){this.initialized=!0;for(var a=0;a<this.overrides.length;a++)this.overrides[a].initialize(c)}};return a}(b.HashObject);b.State=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this);this.fillMode="scale";this.touchChildren=this.contentReused=this.createChildrenCalled=this.sourceChanged=!1;c&&(this.source=c)}__extends(a,d);Object.defineProperty(a.prototype,"source",{get:function(){return this._source},set:function(c){this._source!=c&&(this._source=c,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"content",{get:function(){return this._content},
enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren.call(this);this.sourceChanged&&this.parseSource();this.createChildrenCalled=!0};a.prototype.parseSource=function(){this.sourceChanged=!1;var c=a.assetAdapter;c||(c=this.getAdapter());if(this._source){var b=this.contentReused?null:this._content;this.contentReused=!0;c.getAsset(this._source,this.contentChanged,this,b)}else this.contentChanged(null,null)};a.prototype.getAdapter=function(){var c;try{c=b.Injector.getInstance("egret.IAssetAdapter")}catch(d){c=
new b.DefaultAssetAdapter}return a.assetAdapter=c};a.prototype.contentChanged=function(c,a){if(a===this._source){var d=this._content;this._content=c;d!==c&&(d instanceof b.DisplayObject&&this._removeFromDisplayList(d),c instanceof b.DisplayObject&&this._addToDisplayListAt(c,0));c instanceof b.Texture&&c.scale9Grid instanceof b.Rectangle&&(this.scale9Grid=c.scale9Grid);this.invalidateSize();this.invalidateDisplayList();this.contentReused=!1;this.hasEventListener(b.UIEvent.CONTENT_CHANGED)&&b.UIEvent.dispatchUIEvent(this,
b.UIEvent.CONTENT_CHANGED)}};a.prototype.measure=function(){d.prototype.measure.call(this);var c=this._content;c instanceof b.DisplayObject?"preferredWidth"in c?(this.measuredWidth=c.preferredWidth,this.measuredHeight=c.preferredHeight):(this.measuredWidth=c.width*c.scaleX,this.measuredHeight=c.height*c.scaleY):c instanceof b.Texture&&(this.measuredWidth=c._textureWidth,this.measuredHeight=c._textureHeight)};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);
var e=this._content;e instanceof b.DisplayObject&&("setLayoutBoundsSize"in e?e.setLayoutBoundsSize(c,a):(e.width=c/e.scaleX,e.height=a/e.scaleY))};a.prototype._render=function(c){this._content instanceof b.Texture?(this._texture_to_render=this._content,b.Bitmap._drawBitmap(c,this._width,this._height,this)):this._texture_to_render=null;d.prototype._render.call(this,c)};a.prototype._measureBounds=function(){var c=d.prototype._measureBounds.call(this);if(this._content instanceof b.Texture){var a=this._content,
e=this.width,g=this.height,f=Math.floor(a._offsetX*e/a._textureWidth),a=Math.floor(a._offsetY*g/a._textureHeight);f<c.x&&(c.x=f);a<c.y&&(c.y=a);f+e>c.right&&(c.right=f+e);a+g>c.bottom&&(c.bottom=a+g)}return c};a.prototype.addChild=function(c){throw Error("addChild()"+a.errorStr+"addElement()\u4ee3\u66ff");};a.prototype.addChildAt=function(c,b){throw Error("addChildAt()"+a.errorStr+"addElementAt()\u4ee3\u66ff");};a.prototype.removeChild=function(c){throw Error("removeChild()"+a.errorStr+"removeElement()\u4ee3\u66ff");
};a.prototype.removeChildAt=function(c){throw Error("removeChildAt()"+a.errorStr+"removeElementAt()\u4ee3\u66ff");};a.prototype.setChildIndex=function(c,b){throw Error("setChildIndex()"+a.errorStr+"setElementIndex()\u4ee3\u66ff");};a.prototype.swapChildren=function(c,b){throw Error("swapChildren()"+a.errorStr+"swapElements()\u4ee3\u66ff");};a.prototype.swapChildrenAt=function(c,b){throw Error("swapChildrenAt()"+a.errorStr+"swapElementsAt()\u4ee3\u66ff");};a.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
return a}(b.UIComponent);b.UIAsset=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.hostComponentKey="egret.SkinnableComponent";this.stateIsDirty=this.createChildrenCalled=this._skinNameExplicitlySet=!1;this.explicitMouseEnabled=this.explicitMouseChildren=this._autoMouseEnabled=!0}__extends(a,d);Object.defineProperty(a.prototype,"skinName",{get:function(){return this._skinName},set:function(c){this._skinName!=c&&(this._skinName=c,this._skinNameExplicitlySet=!0,this.createChildrenCalled&&this.parseSkinName())},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"skin",{get:function(){return this._skin},enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren.call(this);this.parseSkinName();this.createChildrenCalled=!0};a.prototype.parseSkinName=function(){var c=a.skinAdapter;c||(c=this.getSkinAdapter());var c=c.getSkin(this._skinName,this.hostComponentKey),d=this._skin;this.detachSkin(d);d instanceof b.DisplayObject&&this._removeFromDisplayList(d);this._skin=c;c instanceof
b.DisplayObject&&this._addToDisplayListAt(this._skin,0);this.attachSkin(c);this.invalidateSkinState();this.invalidateSize();this.invalidateDisplayList();this.hasEventListener(b.UIEvent.SKIN_CHANGED)&&b.UIEvent.dispatchUIEvent(this,b.UIEvent.SKIN_CHANGED)};a.prototype.getSkinAdapter=function(){var c;try{c=b.Injector.getInstance("egret.ISkinAdapter")}catch(d){c=new b.DefaultSkinAdapter}return a.skinAdapter=c};a.prototype.attachSkin=function(c){c&&"hostComponent"in c&&(c.hostComponent=this,this.findSkinParts());
c&&"hostComponent"in c&&c instanceof b.DisplayObject?this._setSkinLayoutEnabled(!1):this._setSkinLayoutEnabled(!0)};a.prototype.findSkinParts=function(){var c=this._skin;if(c&&"skinParts"in c)for(var a=c.skinParts,b=a.length,d=0;d<b;d++){var e=a[d];if(e in c)try{this[e]=c[e],this.partAdded(e,c[e])}catch(h){}}};a.prototype.detachSkin=function(c){if(c&&"skinParts"in c){for(var a=c.skinParts,b=a.length,d=0;d<b;d++){var e=a[d];e in this&&(null!=this[e]&&this.partRemoved(e,this[e]),this[e]=null)}c.hostComponent=
null}};a.prototype.partAdded=function(c,a){b.SkinPartEvent.dispatchSkinPartEvent(this,b.SkinPartEvent.PART_ADDED,c,a)};a.prototype.partRemoved=function(c,a){b.SkinPartEvent.dispatchSkinPartEvent(this,b.SkinPartEvent.PART_REMOVED,c,a)};a.prototype.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())};a.prototype.validateSkinState=function(){var c=this.getCurrentSkinState(),a=this._skin;a&&"currentState"in a&&(a.currentState=c);this.hasEventListener("stateChanged")&&
this.dispatchEventWith("stateChanged")};Object.defineProperty(a.prototype,"autoTouchEnabled",{get:function(){return this._autoMouseEnabled},set:function(c){this._autoMouseEnabled!=c&&((this._autoMouseEnabled=c)?(this._touchChildren=this.enabled?this.explicitMouseChildren:!1,this._touchEnabled=this.enabled?this.explicitMouseEnabled:!1):(this._touchChildren=this.explicitMouseChildren,this._touchEnabled=this.explicitMouseEnabled))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"touchChildren",
{get:function(){return this._touchChildren},set:function(c){this.enabled&&(this._touchChildren=c);this.explicitMouseChildren=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"touchEnabled",{get:function(){return this._touchEnabled},set:function(c){this.enabled&&(this._touchEnabled=c);this.explicitMouseEnabled=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(c){this._setEnabled(c)},enumerable:!0,configurable:!0});
a.prototype._setEnabled=function(c){this._enabled!=c&&(this._enabled=c,this._autoMouseEnabled&&(this._touchChildren=c?this.explicitMouseChildren:!1,this._touchEnabled=c?this.explicitMouseEnabled:!1),this.invalidateSkinState())};a.prototype.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())};a.prototype._setSkinLayoutEnabled=function(c){null!=
this.skinLayout!=c&&(c?(this.skinLayout=new b.SkinBasicLayout,this.skinLayout.target=this):this.skinLayout=this.skinLayout.target=null,this.invalidateSize(),this.invalidateDisplayList())};a.prototype._childXYChanged=function(){this.skinLayout&&(this.invalidateSize(),this.invalidateDisplayList())};a.prototype.measure=function(){d.prototype.measure.call(this);var c=this._skin;if(c){var a=c instanceof b.DisplayObject;a&&(c&&"preferredWidth"in c?(this.measuredWidth=c.preferredWidth,this.measuredHeight=
c.preferredHeight):(this.measuredWidth=c.width,this.measuredHeight=c.height));this.skinLayout&&this.skinLayout.measure();if(!a){var a=this.measuredWidth,e=this.measuredHeight;try{isNaN(c.width)||(a=Math.ceil(c.width)),isNaN(c.height)||(e=Math.ceil(c.height)),c.hasOwnProperty("minWidth")&&a<c.minWidth&&(a=c.minWidth),c.hasOwnProperty("maxWidth")&&a>c.maxWidth&&(a=c.maxWidth),c.hasOwnProperty("minHeight")&&e<c.minHeight&&(e=c.minHeight),c.hasOwnProperty("maxHeight")&&e>c.maxHeight&&(e=c.maxHeight),
this.measuredWidth=a,this.measuredHeight=e}catch(g){}}}};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);var e=this._skin;e&&("setLayoutBoundsSize"in e?e.setLayoutBoundsSize(c,a):e instanceof b.DisplayObject&&(e.scaleX=0==e.width?1:c/e.width,e.scaleY=0==e.height?1:a/e.height));this.skinLayout&&this.skinLayout.updateDisplayList(c,a)};a.prototype.addChild=function(c){throw Error("addChild()"+a.errorStr+"addElement()\u4ee3\u66ff");};a.prototype.addChildAt=function(c,
b){throw Error("addChildAt()"+a.errorStr+"addElementAt()\u4ee3\u66ff");};a.prototype.removeChild=function(c){throw Error("removeChild()"+a.errorStr+"removeElement()\u4ee3\u66ff");};a.prototype.removeChildAt=function(c){throw Error("removeChildAt()"+a.errorStr+"removeElementAt()\u4ee3\u66ff");};a.prototype.setChildIndex=function(c,b){throw Error("setChildIndex()"+a.errorStr+"setElementIndex()\u4ee3\u66ff");};a.prototype.swapChildren=function(c,b){throw Error("swapChildren()"+a.errorStr+"swapElements()\u4ee3\u66ff");
};a.prototype.swapChildrenAt=function(c,b){throw Error("swapChildrenAt()"+a.errorStr+"swapElementsAt()\u4ee3\u66ff");};a.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return a}(b.UIComponent);b.SkinnableComponent=e})(egret||(egret={}));(function(b){var e=function(){function d(){}d.prototype.getSkin=function(a,c){if(!a)return null;if(a.prototype)return new a;if("string"==typeof a){var d=b.getDefinitionByName(a);return d?new d:null}return a};return d}();b.DefaultSkinAdapter=e})(egret||(egret={}));(function(b){var e=function(){function d(){}d.prototype.getAsset=function(a,c,d,e){var g=a;a.prototype&&(g=new a);if(g instanceof b.DisplayObject||g instanceof b.Texture)c.call(d,g,a);else if("string"==typeof a){var f=new b.URLLoader;f.dataFormat=b.URLLoaderDataFormat.TEXTURE;f.addEventListener(b.Event.COMPLETE,function(b){g=f.data;c.call(d,g,a)},this);f.load(new b.URLRequest(a))}else c.call(d,g,a)};return d}();b.DefaultAssetAdapter=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);Object.defineProperty(a.prototype,"target",{get:function(){return this._target},set:function(c){this._target=c},enumerable:!0,configurable:!0});a.prototype.measure=function(){if(null!=this.target){for(var c=0,a=0,b=this._target.skin,d=this.target.numChildren,e=0;e<d;e++){var h=this.target.getChildAt(e);if(h&&h!=b&&h.includeInLayout){var k=h.horizontalCenter,n=h.verticalCenter,p=h.left,q=h.right,r=h.top,s=h.bottom;isNaN(p)||isNaN(q)?
isNaN(k)?isNaN(p)&&isNaN(q)?k=h.preferredX:(k=isNaN(p)?0:p,k+=isNaN(q)?0:q):k=2*Math.abs(k):k=p+q;isNaN(r)||isNaN(s)?isNaN(n)?isNaN(r)&&isNaN(s)?n=h.preferredY:(n=isNaN(r)?0:r,n+=isNaN(s)?0:s):n=2*Math.abs(n):n=r+s;s=h.preferredHeight;c=Math.ceil(Math.max(c,k+h.preferredWidth));a=Math.ceil(Math.max(a,n+s))}}this.target.measuredWidth=Math.max(c,this.target.measuredWidth);this.target.measuredHeight=Math.max(a,this.target.measuredHeight)}};a.prototype.updateDisplayList=function(c,a){if(null!=this.target)for(var b=
this.target.numChildren,d=this._target.skin,e=0;e<b;e++){var h=this.target.getChildAt(e);if(null!=h&&h!=d&&h.includeInLayout){var k=h.horizontalCenter,n=h.verticalCenter,p=h.left,q=h.right,r=h.top,s=h.bottom,A=h.percentWidth,D=h.percentHeight,v=NaN,z=NaN;isNaN(p)||isNaN(q)?isNaN(A)||(v=Math.round(c*Math.min(0.01*A,1))):v=c-q-p;isNaN(r)||isNaN(s)?isNaN(D)||(z=Math.round(a*Math.min(0.01*D,1))):z=a-s-r;h.setLayoutBoundsSize(v,z);A=h.layoutBoundsWidth;D=h.layoutBoundsHeight;z=v=NaN;v=isNaN(k)?isNaN(p)?
isNaN(q)?h.layoutBoundsX:c-A-q:p:Math.round((c-A)/2+k);z=isNaN(n)?isNaN(r)?isNaN(s)?h.layoutBoundsY:a-D-s:r:Math.round((a-D)/2+n);h.setLayoutBoundsPosition(v,z)}}};return a}(b.HashObject);b.SkinBasicLayout=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._autoRepeat=this._downEventFired=!1;this._repeatInterval=this._repeatDelay=35;this._keepDown=this._hovered=!1;this._label="";this.touchChildren=this._stickyHighlighting=this._mouseCaptured=!1;this.addHandlers()}__extends(a,d);Object.defineProperty(a.prototype,"autoRepeat",{get:function(){return this._autoRepeat},set:function(c){c!=this._autoRepeat&&(this._autoRepeat=c,this.checkAutoRepeatTimerConditions(this.isDown()))},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(c){this._repeatDelay=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"repeatInterval",{get:function(){return this._repeatInterval},set:function(c){this._repeatInterval=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hovered",{get:function(){return this._hovered},set:function(c){c!=this._hovered&&(this._hovered=c,this.invalidateSkinState(),this.checkButtonDownConditions())},
enumerable:!0,configurable:!0});a.prototype._setKeepDown=function(c){this._keepDown!=c&&(this._keepDown=c,this.invalidateSkinState())};Object.defineProperty(a.prototype,"label",{get:function(){return this._getLabel()},set:function(c){this._setLabel(c)},enumerable:!0,configurable:!0});a.prototype._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label};a.prototype._setLabel=function(c){this._label=c;this.labelDisplay&&(this.labelDisplay.text=c)};Object.defineProperty(a.prototype,
"mouseCaptured",{get:function(){return this._mouseCaptured},set:function(c){c!=this._mouseCaptured&&(this._mouseCaptured=c,this.invalidateSkinState(),c||this.removeStageMouseHandlers(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"stickyHighlighting",{get:function(){return this._stickyHighlighting},set:function(c){c!=this._stickyHighlighting&&(this._stickyHighlighting=c,this.invalidateSkinState(),this.checkButtonDownConditions())},enumerable:!0,
configurable:!0});a.prototype.checkButtonDownConditions=function(){var c=this.isDown();this._downEventFired!=c&&(c&&b.UIEvent.dispatchUIEvent(this,b.UIEvent.BUTTON_DOWN),this._downEventFired=c,this.checkAutoRepeatTimerConditions(c))};a.prototype.addHandlers=function(){this.addEventListener(b.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this);this.addEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this);this.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,this);
this.addEventListener(b.TouchEvent.TOUCH_END,this.mouseEventHandler,this);this.addEventListener(b.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)};a.prototype.addStageMouseHandlers=function(){b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)};a.prototype.removeStageMouseHandlers=function(){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,
this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)};a.prototype.isDown=function(){return this.enabled?this.mouseCaptured&&(this.hovered||this.stickyHighlighting)?!0:!1:!1};a.prototype.checkAutoRepeatTimerConditions=function(c){c=this.autoRepeat&&c;c!=(null!=this.autoRepeatTimer)&&(c?this.startTimer():this.stopTimer())};a.prototype.startTimer=function(){this.autoRepeatTimer=new b.Timer(1);this.autoRepeatTimer.delay=this._repeatDelay;this.autoRepeatTimer.addEventListener(b.TimerEvent.TIMER,
this.autoRepeat_timerDelayHandler,this);this.autoRepeatTimer.start()};a.prototype.stopTimer=function(){this.autoRepeatTimer.stop();this.autoRepeatTimer=null};a.prototype.mouseEventHandler=function(c){switch(c.type){case b.TouchEvent.TOUCH_ROLL_OVER:if(c.touchDown&&!this.mouseCaptured)break;this.hovered=!0;break;case b.TouchEvent.TOUCH_ROLL_OUT:this.hovered=!1;break;case b.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers();b.InteractionMode.mode==b.InteractionMode.TOUCH&&(this.hovered=!0);this.mouseCaptured=
!0;break;case b.TouchEvent.TOUCH_END:c.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case b.TouchEvent.TOUCH_TAP:this.enabled?this.clickHandler(c):c.stopImmediatePropagation()}};a.prototype.buttonReleased=function(){};a.prototype.clickHandler=function(c){};a.prototype.stage_mouseUpHandler=function(c){c.target!=this&&(this.mouseCaptured=!1)};a.prototype.autoRepeat_timerDelayHandler=function(c){this.autoRepeatTimer.reset();this.autoRepeatTimer.removeEventListener(b.TimerEvent.TIMER,
this.autoRepeat_timerDelayHandler,this);this.autoRepeatTimer.delay=this._repeatInterval;this.autoRepeatTimer.addEventListener(b.TimerEvent.TIMER,this.autoRepeat_timerHandler,this);this.autoRepeatTimer.start()};a.prototype.autoRepeat_timerHandler=function(c){b.UIEvent.dispatchUIEvent(this,b.UIEvent.BUTTON_DOWN)};a.prototype.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":b.InteractionMode.mode==b.InteractionMode.MOUSE&&(this.hovered||this.mouseCaptured)?"over":
"up":d.prototype.getCurrentSkinState.call(this)};a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.labelDisplay&&(this.labelDisplay.text=this._label)};return a}(b.SkinnableComponent);b.ButtonBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._autoSelected=!0}__extends(a,d);Object.defineProperty(a.prototype,"selected",{get:function(){return this._selected},set:function(c){this._setSelected(c)},enumerable:!0,configurable:!0});a.prototype._setSelected=function(c){c!=this._selected&&(this._selected=c,b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT),this.invalidateSkinState())};a.prototype.getCurrentSkinState=function(){return this.selected?d.prototype.getCurrentSkinState.call(this)+
"AndSelected":d.prototype.getCurrentSkinState.call(this)};a.prototype.buttonReleased=function(){d.prototype.buttonReleased.call(this);this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(b.Event.CHANGE))};return a}(b.ButtonBase);b.ToggleButtonBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._fontFamily="SimSun";this._size=30;this._textAlign=b.HorizontalAlign.LEFT;this._verticalAlign=b.VerticalAlign.TOP;this._lineSpacing=0;this._textColor=16777215;this._text=""}__extends(a,d);Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(c){this._fontFamily!=c&&(this._fontFamily=c,this.fontFamilyChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._size},set:function(c){this._size!=c&&(this._size=c,this.sizeChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bold",{get:function(){return this._bold},set:function(c){this._bold!=c&&(this._bold=c,this.boldChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"italic",{get:function(){return this._italic},set:function(c){this._italic!=c&&(this._italic=c,this.italicChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textAlign",{get:function(){return this._textAlign},set:function(c){this._textAlign!=c&&(this._textAlign=c,this.textAlignChanged=!0,this.invalidateProperties(),this.invalidateSize(),
this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(c){this._verticalAlign!=c&&(this._verticalAlign=c,this.verticalAlignChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(c){this._lineSpacing!=c&&(this._lineSpacing=
c,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textColor",{get:function(){return this._textColor},set:function(c){this._textColor!=c&&(this._textColor=c,this.textColorChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},set:function(c){c!=this._text&&(this._text=c,this._textChanged=
!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren.call(this);this._textField||this.checkTextField()};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this._textField||this.checkTextField();this.fontFamilyChanged&&(this._textField.fontFamily=this._fontFamily,this.fontFamilyChanged=!1);this.sizeChanged&&(this._textField.size=this._size,this.sizeChanged=
!1);this.boldChanged&&(this._textField.bold=this._bold,this.boldChanged=!1);this.italic&&(this._textField.italic=this._italic,this.italicChanged=!1);this.textAlignChanged&&(this._textField.textAlign=this._textAlign,this.textAlignChanged=!1);this.verticalAlignChanged&&(this._textField.verticalAlign=this._verticalAlign,this.verticalAlignChanged=!1);this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1);this.textColorChanged&&(this._textField.textColor=this._textColor,
this.textColorChanged=!1);this._textChanged&&(this._textField.text=this._text,this._textChanged=!1)};a.prototype.checkTextField=function(){this._textField||(this.createTextField(),this._textField.text=this._text,this._textChanged=!0,this.invalidateProperties())};a.prototype.createTextField=function(){this._textField=new b.TextField;this._textField.fontFamily=this._fontFamily;this._textField.size=this._size;this._textField.textAlign=this._textAlign;this._textField.verticalAlign=this._verticalAlign;
this._textField.lineSpacing=this._lineSpacing;this._textField.textColor=this._textColor;this._addToDisplayList(this._textField)};a.prototype.measure=function(){d.prototype.measure.call(this);this.measuredWidth=a.DEFAULT_MEASURED_WIDTH;this.measuredHeight=a.DEFAULT_MEASURED_HEIGHT};a.prototype.$updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a)};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);this._textField.width=c;this._textField.height=
a};a.DEFAULT_MEASURED_WIDTH=160;a.DEFAULT_MEASURED_HEIGHT=22;return a}(b.UIComponent);b.TextBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._contentHeight=this._contentWidth=0;this._clipAndEnableScrolling=!1;this._verticalScrollPosition=this._horizontalScrollPosition=0;this.touchEnabled=this._layoutInvalidateSizeFlag=this._layoutInvalidateDisplayListFlag=!1}__extends(a,d);a.prototype.createChildren=function(){d.prototype.createChildren.call(this);this._layout||(this.layout=new b.BasicLayout)};Object.defineProperty(a.prototype,"contentWidth",{get:function(){return this._contentWidth},
enumerable:!0,configurable:!0});a.prototype.setContentWidth=function(c){if(c!=this._contentWidth){var a=this._contentWidth;this._contentWidth=c;this.hasEventListener("propertyChange")&&b.PropertyChangeEvent.dispatchPropertyChangeEvent(this,b.PropertyChangeEventKind.UPDATE,"contentWidth",a,c,this)}};Object.defineProperty(a.prototype,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0});a.prototype.setContentHeight=function(c){if(c!=this._contentHeight){var a=this._contentHeight;
this._contentHeight=c;this.hasEventListener("propertyChange")&&b.PropertyChangeEvent.dispatchPropertyChangeEvent(this,b.PropertyChangeEventKind.UPDATE,"contentHeight",a,c,this)}};a.prototype.setContentSize=function(c,a){if(c!=this._contentWidth||a!=this._contentHeight)this.setContentWidth(c),this.setContentHeight(a)};Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(c){this._setLayout(c)},enumerable:!0,configurable:!0});a.prototype._setLayout=function(c){if(this._layout!=
c){this._layout&&(this._layout.target=null);if(this._layout=c)this._layout.target=this;this.invalidateSize();this.invalidateDisplayList();this.dispatchEventWith("layoutChanged")}};Object.defineProperty(a.prototype,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(c){c!=this._clipAndEnableScrolling&&(this.scrollRect=(this._clipAndEnableScrolling=c)?new b.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,this.width,this.height):null)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(c){if(c!=this._horizontalScrollPosition){var a=this._horizontalScrollPosition;this._horizontalScrollPosition=c;this.scrollPositionChanged();b.PropertyChangeEvent.dispatchPropertyChangeEvent(this,b.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",a,c,this)}},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalScrollPosition",
{get:function(){return this._verticalScrollPosition},set:function(c){if(c!=this._verticalScrollPosition){var a=this._verticalScrollPosition;this._verticalScrollPosition=c;this.scrollPositionChanged();b.PropertyChangeEvent.dispatchPropertyChangeEvent(this,b.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",a,c,this)}},enumerable:!0,configurable:!0});a.prototype.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),
this._layout&&this._layout.scrollPositionChanged())};a.prototype.updateScrollRect=function(c,a){var d=this._scrollRect;this._clipAndEnableScrolling?d?(d.x=this._horizontalScrollPosition,d.y=this._verticalScrollPosition,d.width=c,d.height=a):this._scrollRect=new b.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,c,a):d&&(this._scrollRect=null)};a.prototype.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(d.prototype.measure.call(this),this._layout.measure())};
a.prototype._invalidateDisplayListExceptLayout=function(){d.prototype.invalidateDisplayList.call(this)};a.prototype.invalidateDisplayList=function(){d.prototype.invalidateDisplayList.call(this);this._layoutInvalidateDisplayListFlag=!0};a.prototype._childXYChanged=function(){this.invalidateSize();this.invalidateDisplayList()};a.prototype._invalidateSizeExceptLayout=function(){d.prototype.invalidateSize.call(this)};a.prototype.invalidateSize=function(){d.prototype.invalidateSize.call(this);this._layoutInvalidateSizeFlag=
!0};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);this._layoutInvalidateDisplayListFlag&&this._layout&&(this._layoutInvalidateDisplayListFlag=!1,this._layout.updateDisplayList(c,a),this.updateScrollRect(c,a))};Object.defineProperty(a.prototype,"numElements",{get:function(){return-1},enumerable:!0,configurable:!0});a.prototype.getElementAt=function(c){return null};a.prototype.getElementIndex=function(c){return-1};a.prototype.getElementIndicesInView=function(){var c=
[],a;if(this.scrollRect)for(a=0;a<this.numChildren;a++){var d=this.getChildAt(a);if(d){var e=new b.Rectangle;e.x=d.layoutBoundsX;e.y=d.layoutBoundsY;e.width=d.layoutBoundsWidth;e.height=d.layoutBoundsHeight;this.scrollRect.intersects(e)&&c.push(a)}}else for(a=0;a<this.numChildren;a++)c.push(a);return c};a.prototype.setVirtualElementIndicesInView=function(c,a){};a.prototype.getVirtualElementAt=function(c){return this.getElementAt(c)};return a}(b.UIComponent);b.GroupBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._selected=this.dataChangedFlag=!1;this._itemIndex=-1;this.touchChildren=!0}__extends(a,b);Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(c){this._data=c;this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.dataChanged=function(){};Object.defineProperty(a.prototype,"selected",
{get:function(){return this._selected},set:function(c){this._selected!=c&&(this._selected=c,this.invalidateSkinState())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(c){this._itemIndex=c},enumerable:!0,configurable:!0});a.prototype.commitProperties=function(){b.prototype.commitProperties.call(this);this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())};a.prototype.getCurrentSkinState=function(){return this._selected?
"down":b.prototype.getCurrentSkinState.call(this)};return a}(b.ButtonBase);b.ItemRenderer=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._indentation=17;this._depth=0;this._isOpen=this._hasChildren=!1;this.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.onItemMouseDown,this,!1,1E3)}__extends(a,d);a.prototype.onItemMouseDown=function(c){c.target==this.disclosureButton&&c.stopImmediatePropagation()};Object.defineProperty(a.prototype,"indentation",{get:function(){return this._indentation},set:function(c){this._indentation=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"iconSkinName",{get:function(){return this._iconSkinName},set:function(c){this._iconSkinName!=c&&(this._iconSkinName=c,this.iconDisplay&&(this.iconDisplay.source=this._iconSkinName))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"depth",{get:function(){return this._depth},set:function(c){c!=this._depth&&(this._depth=c,this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasChildren",{get:function(){return this._hasChildren},
set:function(c){this._hasChildren!=c&&(this._hasChildren=c,this.disclosureButton&&(this.disclosureButton.visible=this._hasChildren))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"opened",{get:function(){return this._isOpen},set:function(c){this._isOpen!=c&&(this._isOpen=c,this.disclosureButton&&(this.disclosureButton.selected=this._isOpen))},enumerable:!0,configurable:!0});a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.iconDisplay?this.iconDisplay.source=
this._iconSkinName:a==this.disclosureButton?(this.disclosureButton.visible=this._hasChildren,this.disclosureButton.selected=this._isOpen,this.disclosureButton._autoSelected=!1,this.disclosureButton.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this)):a==this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation)};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,c,a);a==this.iconDisplay?this.iconDisplay.source=null:a==this.disclosureButton&&
(this.disclosureButton.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this),this.disclosureButton._autoSelected=!0,this.disclosureButton.visible=!0)};a.prototype.disclosureButton_mouseDownHandler=function(c){b.TreeEvent.dispatchTreeEvent(this,b.TreeEvent.ITEM_OPENING,this.itemIndex,this.data,this,!this._isOpen)};return a}(b.ItemRenderer);b.TreeItemRenderer=e})(egret||(egret={}));(function(b){var e=function(){function d(a,c){this.easerFunction=b.Ease.sineInOut;this._duration=500;this._startDelay=0;this._repeatCount=1;this._repeatDelay=0;this.motionPaths=[];this._currentValue={};this.pauseTime=0;this._isPaused=!1;this.startTime=0;this._started=!1;this.playedTimes=0;this.updateFunction=a;this.thisObject=c}Object.defineProperty(d.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"duration",{get:function(){return this._duration},
set:function(a){this._duration=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"startDelay",{get:function(){return this._startDelay},set:function(a){this._startDelay=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(a){this._repeatCount=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(a){this._repeatDelay=
a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"currentValue",{get:function(){return this._currentValue},enumerable:!0,configurable:!0});d.prototype.play=function(){this.stopAnimation();this.start()};d.prototype.seek=function(a){a=Math.min(a,this.duration);this.caculateCurrentValue(a/this.duration);this.startTime=b.getTimer()-a-this._startDelay;null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this)};d.prototype.start=function(){this.playedTimes=0;this._started=
!0;this._isPlaying=!1;this._currentValue={};this.caculateCurrentValue(0);this.startTime=b.getTimer();d.currentTime=this.startTime;this.doInterval();d.addAnimation(this)};d.prototype.end=function(){this._started||(this.caculateCurrentValue(0),null!=this.startFunction&&this.startFunction.call(this.thisObject,this),null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this));this.caculateCurrentValue(1);null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this);this.stopAnimation();
null!=this.endFunction&&this.endFunction.call(this.thisObject,this)};d.prototype.stop=function(){this.stopAnimation();null!=this.stopFunction&&this.stopFunction.call(this.thisObject,this)};d.prototype.stopAnimation=function(){this.playedTimes=0;this._isPlaying=!1;this.startTime=0;this._started=!1;d.removeAnimation(this)};Object.defineProperty(d.prototype,"isPaused",{get:function(){return this._isPaused},enumerable:!0,configurable:!0});d.prototype.pause=function(){this._started&&(this._isPaused=!0,
this.pauseTime=b.getTimer(),this._isPlaying=!1,d.removeAnimation(this))};d.prototype.resume=function(){this._started&&this._isPaused&&(this._isPaused=!1,this.startTime+=b.getTimer()-this.pauseTime,this.pauseTime=-1,d.addAnimation(this))};Object.defineProperty(d.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0});d.prototype.doInterval=function(){var a=d.currentTime-this.startTime-(0<this.playedTimes?this._repeatDelay:this._startDelay);if(0>a)return!1;this._isPlaying||
(this._isPlaying=!0,0==this.playedTimes&&null!=this.startFunction&&this.startFunction.call(this.thisObject,this));var c=0==this._duration?1:Math.min(a,this._duration)/this._duration;this.caculateCurrentValue(c);null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this);if(a=a>=this._duration)this.playedTimes++,this._isPlaying=!1,this.startTime=d.currentTime,0==this._repeatCount||this.playedTimes<this._repeatCount?a=!1:(d.removeAnimation(this),this._started=!1,this.playedTimes=0);a&&
null!=this.endFunction&&this.endFunction.call(this.thisObject,this);return a};d.prototype.caculateCurrentValue=function(a){this.easerFunction&&(a=this.easerFunction(a));for(var c=this.motionPaths,b=c.length,d=0;d<b;d++){var e=c[d];this.currentValue[e.prop]=e.from+(e.to-e.from)*a}};d.addAnimation=function(a){-1==d.activeAnimations.indexOf(a)&&(d.activeAnimations.push(a),d.registered||(d.registered=!0,b.Ticker.getInstance().register(d.onEnterFrame,null)))};d.removeAnimation=function(a){a=d.activeAnimations.indexOf(a);
-1!=a&&(d.activeAnimations.splice(a,1),a<=d.currentIntervalIndex&&d.currentIntervalIndex--);0==d.activeAnimations.length&&d.registered&&(d.registered=!1,b.Ticker.getInstance().unregister(d.onEnterFrame,null))};d.onEnterFrame=function(a,c){d.currentTime=b.getTimer();for(d.currentIntervalIndex=0;d.currentIntervalIndex<d.activeAnimations.length;)d.activeAnimations[d.currentIntervalIndex].doInterval(),d.currentIntervalIndex++;d.currentIntervalIndex=-1;0==d.activeAnimations.length&&d.registered&&(d.registered=
!1,b.Ticker.getInstance().unregister(d.onEnterFrame,null))};d.currentTime=0;d.TIMER_RESOLUTION=1E3/60;d.activeAnimations=[];d.currentIntervalIndex=-1;return d}();b.Animation=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._maximum=100;this.maxChanged=!1;this._minimum=0;this.minChanged=!1;this._stepSize=1;this.stepSizeChanged=!1;this._changedValue=this._value=0;this.valueChanged=!1;this._snapInterval=1;this._explicitSnapInterval=this.snapIntervalChanged=!1}__extends(a,b);Object.defineProperty(a.prototype,"maximum",{get:function(){return this._maximum},set:function(c){this._setMaximun(c)},enumerable:!0,configurable:!0});a.prototype._setMaximun=function(c){c!=
this._maximum&&(this._maximum=c,this.maxChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,"minimum",{get:function(){return this._minimum},set:function(c){this._setMinimun(c)},enumerable:!0,configurable:!0});a.prototype._setMinimun=function(c){c!=this._minimum&&(this._minimum=c,this.minChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,"stepSize",{get:function(){return this._stepSize},set:function(c){c!=this._stepSize&&(this._stepSize=c,this.stepSizeChanged=
!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._getValue()},set:function(c){this._setValue(c)},enumerable:!0,configurable:!0});a.prototype._setValue=function(c){c!=this.value&&(this._changedValue=c,this.valueChanged=!0,this.invalidateProperties())};a.prototype._getValue=function(){return this.valueChanged?this._changedValue:this._value};Object.defineProperty(a.prototype,"snapInterval",{get:function(){return this._snapInterval},
set:function(c){this._explicitSnapInterval=!0;c!=this._snapInterval&&(isNaN(c)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=c,this.stepSizeChanged=this.snapIntervalChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.commitProperties=function(){b.prototype.commitProperties.call(this);this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum);if(this.valueChanged||this.maxChanged||this.minChanged||
this.snapIntervalChanged){var c=this.valueChanged?this._changedValue:this._value;this.snapIntervalChanged=this.minChanged=this.maxChanged=this.valueChanged=!1;this.setValue(this.nearestValidValue(c,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)};a.prototype.nearestValidSize=function(c){var a=this.snapInterval;
if(0==a)return c;c=Math.round(c/a)*a;return Math.abs(c)<a?a:c};a.prototype.nearestValidValue=function(c,a){if(0==a)return Math.max(this.minimum,Math.min(this.maximum,c));var b=this.maximum-this.minimum,d=1;c-=this.minimum;a!=Math.round(a)&&(d=(1+a).toString().split("."),d=Math.pow(10,d[1].length),b*=d,c=Math.round(c*d),a=Math.round(a*d));var e=Math.max(0,Math.floor(c/a)*a),b=Math.min(b,Math.floor((c+a)/a)*a);return(c-e>=(b-e)/2?b:e)/d+this.minimum};a.prototype.setValue=function(c){this._value!=c&&
(isNaN(c)&&(c=0),!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?this._value=Math.min(this.maximum,Math.max(this.minimum,c)):this._value=c,this.valueChanged=!1)};a.prototype.changeValueByStep=function(c){"undefined"===typeof c&&(c=!0);0!=this.stepSize&&this.setValue(this.nearestValidValue(c?this.value+this.stepSize:this.value-this.stepSize,this.snapInterval))};return a}(b.SkinnableComponent);b.Range=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._slideDuration=300;this.needUpdateValue=!1;this.addEventListener(b.Event.ADDED_TO_STAGE,this.addedToStageHandler,this);this.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.mouseDownHandler,this)}__extends(a,d);Object.defineProperty(a.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(c){this._slideDuration=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maximum",{get:function(){return this._maximum},
set:function(c){c!=this._maximum&&(this._setMaximun(c),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"minimum",{get:function(){return this._minimum},set:function(c){c!=this._minimum&&(this._setMinimun(c),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._getValue()},set:function(c){c!=this._getValue()&&(this._setValue(c),this.invalidateDisplayList())},enumerable:!0,
configurable:!0});a.prototype.setValue=function(c){d.prototype.setValue.call(this,c);this.invalidateDisplayList()};a.prototype.pointToValue=function(c,a){return this.minimum};a.prototype.changeValueByStep=function(c){"undefined"===typeof c&&(c=!0);var a=this.value;d.prototype.changeValueByStep.call(this,c);this.value!=a&&this.dispatchEventWith(b.Event.CHANGE)};a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.thumb?(this.thumb.addEventListener(b.TouchEvent.TOUCH_BEGIN,
this.thumb_mouseDownHandler,this),this.thumb.addEventListener(b.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(b.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):a==this.track&&(this.track.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(b.ResizeEvent.RESIZE,this.track_resizeHandler,this))};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,c,a);
a==this.thumb?(this.thumb.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(b.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(b.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):a==this.track&&(this.track.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(b.ResizeEvent.RESIZE,this.track_resizeHandler,this))};a.prototype.updateDisplayList=
function(c,a){d.prototype.updateDisplayList.call(this,c,a);this.updateSkinDisplayList()};a.prototype.updateSkinDisplayList=function(){};a.prototype.addedToStageHandler=function(c){this.updateSkinDisplayList()};a.prototype.track_resizeHandler=function(c){this.updateSkinDisplayList()};a.prototype.thumb_resizeHandler=function(c){this.updateSkinDisplayList()};a.prototype.thumb_updateCompleteHandler=function(c){this.updateSkinDisplayList();this.thumb.removeEventListener(b.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,
this)};a.prototype.thumb_mouseDownHandler=function(c){b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this);b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.addEventListener(b.Event.ENTER_FRAME,this.onEnterFrame,this);c=this.thumb.globalToLocal(c.stageX,c.stageY,b.Point.identity);this._clickOffsetX=c.x;this._clickOffsetY=c.y;b.TrackBaseEvent.dispatchTrackBaseEvent(this,
b.TrackBaseEvent.THUMB_PRESS);b.UIEvent.dispatchUIEvent(this,b.UIEvent.CHANGE_START)};a.prototype.onEnterFrame=function(c){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)};a.prototype.updateWhenMouseMove=function(){if(this.track){var c=this.track.globalToLocal(this._moveStageX,this._moveStageY,b.Point.identity),c=this.pointToValue(c.x-this._clickOffsetX,c.y-this._clickOffsetY),c=this.nearestValidValue(c,this.snapInterval);c!=this.value&&(this.setValue(c),this.validateDisplayList(),
b.TrackBaseEvent.dispatchTrackBaseEvent(this,b.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(b.Event.CHANGE))}};a.prototype.stage_mouseMoveHandler=function(c){this._moveStageX=c.stageX;this._moveStageY=c.stageY;this.needUpdateValue||(this.needUpdateValue=!0)};a.prototype.stage_mouseUpHandler=function(c){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this);b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,
this.stage_mouseUpHandler,this);this.removeEventListener(b.Event.ENTER_FRAME,this.updateWhenMouseMove,this);this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1);b.TrackBaseEvent.dispatchTrackBaseEvent(this,b.TrackBaseEvent.THUMB_RELEASE);b.UIEvent.dispatchUIEvent(this,b.UIEvent.CHANGE_END)};a.prototype.track_mouseDownHandler=function(c){};a.prototype.mouseDownHandler=function(c){b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this);
b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this);this.mouseDownTarget=c.target};a.prototype.stage_mouseUpSomewhereHandler=function(c){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this);if(this.mouseDownTarget!=c.target&&c instanceof b.TouchEvent&&this.contains(c.target)){var a=c.target.localToGlobal(c.localX,
c.localY);b.TouchEvent.dispatchTouchEvent(this,b.TouchEvent.TOUCH_TAP,c.touchPointID,a.x,a.y,c.ctrlKey,c.altKey,c.shiftKey,c.touchDown)}this.mouseDownTarget=null};return a}(b.Range);b.TrackBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._showTrackHighlight=!0;this._pendingValue=0;this._liveDragging=!0;this.maximum=10}__extends(a,d);Object.defineProperty(a.prototype,"showTrackHighlight",{get:function(){return this._showTrackHighlight},set:function(c){this._showTrackHighlight!=c&&(this._showTrackHighlight=c,this.trackHighlight&&(this.trackHighlight.visible=c),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pendingValue",
{get:function(){return this._pendingValue},set:function(c){c!=this._pendingValue&&(this._pendingValue=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.setValue=function(c){this._pendingValue=c;d.prototype.setValue.call(this,c)};a.prototype.animationUpdateHandler=function(c){this.pendingValue=c.currentValue.value};a.prototype.animationEndHandler=function(c){this.setValue(this.slideToValue);this.dispatchEventWith(b.Event.CHANGE);b.UIEvent.dispatchUIEvent(this,b.UIEvent.CHANGE_END)};
a.prototype.stopAnimation=function(){this.animator.stop();this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval));this.dispatchEventWith(b.Event.CHANGE);b.UIEvent.dispatchUIEvent(this,b.UIEvent.CHANGE_END)};a.prototype.thumb_mouseDownHandler=function(c){this.animator&&this.animator.isPlaying&&this.stopAnimation();d.prototype.thumb_mouseDownHandler.call(this,c)};Object.defineProperty(a.prototype,"liveDragging",{get:function(){return this._liveDragging},set:function(c){this._liveDragging=
c},enumerable:!0,configurable:!0});a.prototype.updateWhenMouseMove=function(){if(this.track){var c=this.track.globalToLocal(this._moveStageX,this._moveStageY,b.Point.identity),c=this.pointToValue(c.x-this._clickOffsetX,c.y-this._clickOffsetY),c=this.nearestValidValue(c,this.snapInterval);c!=this.pendingValue&&(b.TrackBaseEvent.dispatchTrackBaseEvent(this,b.TrackBaseEvent.THUMB_DRAG),!0==this.liveDragging?(this.setValue(c),this.dispatchEventWith(b.Event.CHANGE)):this.pendingValue=c)}};a.prototype.stage_mouseUpHandler=
function(c){d.prototype.stage_mouseUpHandler.call(this,c);!1==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(b.Event.CHANGE))};a.prototype.track_mouseDownHandler=function(c){this.enabled&&(c=this.track.globalToLocal(c.stageX-(this.thumb?this.thumb.width:0)/2,c.stageY-(this.thumb?this.thumb.height:0)/2,b.Point.identity),c=this.pointToValue(c.x,c.y),c=this.nearestValidValue(c,this.snapInterval),c!=this.pendingValue&&(0!=this.slideDuration?
(this.animator||(this.animator=new b.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=c,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[{prop:"value",from:this.pendingValue,to:this.slideToValue}],b.UIEvent.dispatchUIEvent(this,b.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(c),this.dispatchEventWith(b.Event.CHANGE))))};
a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof b.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)};return a}(b.TrackBase);b.SliderBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._maxDisplayedLines=0;this.lastUnscaledWidth=NaN;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.addEventListener(b.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(a,d);a.prototype.updateCompleteHandler=function(c){this.lastUnscaledWidth=NaN};Object.defineProperty(a.prototype,"maxDisplayedLines",{get:function(){return this._maxDisplayedLines},set:function(c){this._maxDisplayedLines!=
c&&(this._maxDisplayedLines=c,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(c){this._padding!=c&&(this._padding=c,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(c){this._paddingLeft!=c&&(this._paddingLeft=c,this.invalidateSize(),
this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(c){this._paddingRight!=c&&(this._paddingRight=c,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(c){this._paddingTop!=c&&(this._paddingTop=c,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(c){this._paddingBottom!=c&&(this._paddingBottom=c,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.measure=function(){this._invalidatePropertiesFlag&&this.validateProperties();if(this.isSpecialCase())if(isNaN(this.lastUnscaledWidth))this._oldPreferHeight=this._oldPreferWidth=NaN;else{this.measureUsingWidth(this.lastUnscaledWidth);
return}var c;isNaN(this.explicitWidth)?1E4!=this.maxWidth&&(c=this.maxWidth):c=this.explicitWidth;this.measureUsingWidth(c)};a.prototype.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.explicitHeight)&&isNaN(this.percentHeight)};a.prototype.measureUsingWidth=function(c){var a=this._textField.text;this._textChanged&&(this._textField.text=this._text);var b=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?
b:this._paddingLeft,e=isNaN(this._paddingRight)?b:this._paddingRight,h=isNaN(this._paddingTop)?b:this._paddingTop,b=isNaN(this._paddingBottom)?b:this._paddingBottom;this._textField.width=NaN;this._textField.height=NaN;isNaN(c)||(this._textField.width=c-d-e);this.measuredWidth=Math.ceil(this._textField.measuredWidth);this.measuredHeight=Math.ceil(this._textField.measuredHeight);0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(c=this._textField.lineSpacing,this.measuredHeight=
(this._textField.size+c)*this._maxDisplayedLines-c);this.measuredWidth+=d+e;this.measuredHeight+=h+b;this._textField.text=a};a.prototype.updateDisplayList=function(c,a){this.$updateDisplayList(c,a);var b=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?b:this._paddingLeft,e=isNaN(this._paddingRight)?b:this._paddingRight,h=isNaN(this._paddingTop)?b:this._paddingTop,b=isNaN(this._paddingBottom)?b:this._paddingBottom;this._textField.x=d;this._textField.y=h;if(this.isSpecialCase()){var k=
isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=c;this.lastUnscaledWidth=c;if(k){this._oldPreferHeight=this._oldPreferWidth=NaN;this.invalidateSize();return}}this._invalidateSizeFlag&&this.validateSize();this._textField.visible||(this._textField.visible=!0);this._textField.width=c-d-e;d=a-h-b;this._textField.height=d;0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(e=this._textField.lineSpacing,this._textField.height=Math.min(d,(this._textField.size+e)*this._maxDisplayedLines-
e))};return a}(b.TextBase);b.Label=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._fillColor=16777215;this._fillAlpha=1;this._strokeColor=4473924;this._strokeAlpha=0;this._strokeWeight=1;this.touchChildren=!1}__extends(a,d);Object.defineProperty(a.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new b.Graphics);return this._graphics},enumerable:!0,configurable:!0});a.prototype._render=function(c){this._graphics&&this._graphics._draw(c);d.prototype._render.call(this,c)};Object.defineProperty(a.prototype,
"fillColor",{get:function(){return this._fillColor},set:function(c){this._fillColor!=c&&(this._fillColor=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fillAlpha",{get:function(){return this._fillAlpha},set:function(c){this._fillAlpha!=c&&(this._fillAlpha=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(c){this._strokeColor!=c&&
(this._strokeColor=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(c){this._strokeAlpha!=c&&(this._strokeAlpha=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"strokeWeight",{get:function(){return this._strokeWeight},set:function(c){this._strokeWeight!=c&&(this._strokeWeight=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});
a.prototype._measureBounds=function(){var c=d.prototype._measureBounds.call(this),a=this.width,b=this.height;0<c.x&&(c.x=0);0<c.y&&(c.y=0);0+a>c.right&&(c.right=0+a);0+b>c.bottom&&(c.bottom=0+b);return c};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,c);var b=this.graphics;b.clear();b.beginFill(this._fillColor,this._fillAlpha);0<this._strokeAlpha&&b.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter");b.drawRect(0,0,
c,a);b.endFill()};return a}(b.UIComponent);b.Rect=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this.hostComponentKey="egret.Button"}__extends(a,b);return a}(b.ButtonBase);b.Button=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this.hostComponentKey="egret.ToggleButton"}__extends(a,b);return a}(b.ToggleButtonBase);b.ToggleButton=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this.hostComponentKey="egret.CheckBox"}__extends(a,b);return a}(b.ToggleButtonBase);b.CheckBox=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.radioButtons=[];this._enabled=!0;this._name="_radioButtonGroup"+a.groupCount;a.groupCount++}__extends(a,d);Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(c){if(this._enabled!=c)for(this._enabled=c,c=0;c<this.numRadioButtons;c++)this.getRadioButtonAt(c).invalidateSkinState()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numRadioButtons",{get:function(){return this.radioButtons.length},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedValue",{get:function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},set:function(c){this._selectedValue=c;if(null==c)this._setSelection(null,!1);else for(var a=this.numRadioButtons,d=0;d<a;d++){var e=this.getRadioButtonAt(d);if(e.value==c||e.label==c){this.changeSelection(d,!1);this._selectedValue=null;b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT);break}}},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"selection",{get:function(){return this._selection},set:function(c){this._selection!=c&&this._setSelection(c,!1)},enumerable:!0,configurable:!0});a.prototype.getRadioButtonAt=function(c){return 0<=c&&c<this.numRadioButtons?this.radioButtons[c]:null};a.prototype._addInstance=function(c){c.addEventListener(b.Event.REMOVED,this.radioButton_removedHandler,this);this.radioButtons.push(c);this.radioButtons.sort(this.breadthOrderCompare);for(var a=0;a<
this.radioButtons.length;a++)this.radioButtons[a]._indexNumber=a;this._selectedValue&&(this.selectedValue=this._selectedValue);!0==c.selected&&(this.selection=c);c._radioButtonGroup=this;c.invalidateSkinState();this.dispatchEventWith("numRadioButtonsChanged")};a.prototype._removeInstance=function(c){this.doRemoveInstance(c,!1)};a.prototype.doRemoveInstance=function(c,a){"undefined"===typeof a&&(a=!0);if(c){for(var d=!1,e=0;e<this.numRadioButtons;e++){var f=this.getRadioButtonAt(e);d?f._indexNumber-=
1:f==c&&(a&&c.addEventListener(b.Event.ADDED,this.radioButton_addedHandler,this),c==this._selection&&(this._selection=null),c._radioButtonGroup=null,c.invalidateSkinState(),this.radioButtons.splice(e,1),d=!0,e--)}d&&this.dispatchEventWith("numRadioButtonsChanged")}};a.prototype._setSelection=function(c,a){"undefined"===typeof a&&(a=!0);if(this._selection!=c){if(c)for(var d=this.numRadioButtons,e=0;e<d;e++){if(c==this.getRadioButtonAt(e)){this.changeSelection(e,a);break}}else this.selection&&(this._selection.selected=
!1,this._selection=null,a&&this.dispatchEventWith(b.Event.CHANGE));b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT)}};a.prototype.changeSelection=function(c,a){"undefined"===typeof a&&(a=!0);var d=this.getRadioButtonAt(c);d&&d!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=d,this._selection.selected=!0,a&&this.dispatchEventWith(b.Event.CHANGE))};a.prototype.breadthOrderCompare=function(c,a){var d=c.parent,e=a.parent;if(!d||!e)return 0;var f=c instanceof b.UIComponent?
c.nestLevel:-1,h=a instanceof b.UIComponent?a.nestLevel:-1,k=0,n=0;d==e&&(k="getElementIndex"in d&&"ownerChanged"in c?d.getElementIndex(c):d.getChildIndex(c),n="getElementIndex"in e&&"ownerChanged"in a?e.getElementIndex(a):e.getChildIndex(a));return f>h||k>n?1:f<h||n>k?-1:c==a?0:this.breadthOrderCompare(d,e)};a.prototype.radioButton_addedHandler=function(c){if(c=c.target)c.removeEventListener(b.Event.ADDED,this.radioButton_addedHandler,this),this._addInstance(c)};a.prototype.radioButton_removedHandler=
function(c){if(c=c.target)c.removeEventListener(b.Event.REMOVED,this.radioButton_removedHandler,this),this.doRemoveInstance(c)};a.groupCount=0;return a}(b.EventDispatcher);b.RadioButtonGroup=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._indexNumber=0;this._radioButtonGroup=null;this.groupChanged=!1;this._groupName="radioGroup";this.hostComponentKey="egret.RadioButton";this.groupName="radioGroup"}__extends(a,d);Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled?!this._radioButtonGroup||this._radioButtonGroup.enabled:!1},set:function(c){this._setEnabled(c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"group",{get:function(){if(!this._group&&
this._groupName){a.automaticRadioButtonGroups||(a.automaticRadioButtonGroups={});var c=a.automaticRadioButtonGroups[this._groupName];c||(c=new b.RadioButtonGroup,c._name=this._groupName,a.automaticRadioButtonGroups[this._groupName]=c);this._group=c}return this._group},set:function(c){this._group!=c&&(this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._groupName=(this._group=c)?this.group._name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"groupName",{get:function(){return this._groupName},set:function(c){c&&""!=c&&(this._groupName=c,this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype._setSelected=function(c){d.prototype._setSelected.call(this,c);this.invalidateDisplayList()};Object.defineProperty(a.prototype,"value",
{get:function(){return this._value},set:function(c){this._value!=c&&(this._value=c,this.selected&&this.group&&b.UIEvent.dispatchUIEvent(this.group,b.UIEvent.VALUE_COMMIT))},enumerable:!0,configurable:!0});a.prototype.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1);d.prototype.commitProperties.call(this)};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);this.group&&(this.selected?this._group.selection=this:this.group.selection==
this&&(this._group.selection=null))};a.prototype.buttonReleased=function(){this.enabled&&!this.selected&&(this._radioButtonGroup||this.addToGroup(),d.prototype.buttonReleased.call(this),this.group._setSelection(this))};a.prototype.addToGroup=function(){var c=this.group;c&&c._addInstance(this);return c};return a}(b.ToggleButtonBase);b.RadioButton=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.elementsContentChanged=this.createChildrenCalled=!1;this._elementsContent=[]}__extends(a,d);a.prototype.createChildren=function(){d.prototype.createChildren.call(this);this.createChildrenCalled=!0;this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))};a.prototype._getElementsContent=function(){return this._elementsContent};Object.defineProperty(a.prototype,"elementsContent",{set:function(c){null==
c&&(c=[]);if(c!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(c);else{this.elementsContentChanged=!0;for(var a=this._elementsContent.length-1;0<=a;a--)this._elementRemoved(this._elementsContent[a],a);this._elementsContent=c}},enumerable:!0,configurable:!0});a.prototype.setElementsContent=function(c){var a;for(a=this._elementsContent.length-1;0<=a;a--)this._elementRemoved(this._elementsContent[a],a);this._elementsContent=c.concat();c=this._elementsContent.length;for(a=
0;a<c;a++){var b=this._elementsContent[a];b.parent&&"removeElement"in b.parent?b.parent.removeElement(b):b.owner&&"removeElement"in b.owner&&b.owner.removeElement(b);this._elementAdded(b,a)}};Object.defineProperty(a.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0});a.prototype.getElementAt=function(c){this.checkForRangeError(c);return this._elementsContent[c]};a.prototype.checkForRangeError=function(c,a){"undefined"===typeof a&&(a=!1);var b=
this._elementsContent.length-1;a&&b++;if(0>c||c>b)throw new RangeError('\u7d22\u5f15:"'+c+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};a.prototype.addElement=function(c){var a=this.numElements;c.parent==this&&(a=this.numElements-1);return this.addElementAt(c,a)};a.prototype.addElementAt=function(c,a){if(c==this)return c;this.checkForRangeError(a,!0);var b=c.owner;if(b==this)return this.setElementIndex(c,a),c;b&&"removeElement"in b&&c.owner.removeElement(c);this._elementsContent.splice(a,
0,c);this.elementsContentChanged||this._elementAdded(c,a);return c};a.prototype.removeElement=function(c){return this.removeElementAt(this.getElementIndex(c))};a.prototype.removeElementAt=function(c){this.checkForRangeError(c);var a=this._elementsContent[c];this.elementsContentChanged||this._elementRemoved(a,c);this._elementsContent.splice(c,1);return a};a.prototype.removeAllElements=function(){for(var c=this.numElements-1;0<=c;c--)this.removeElementAt(c)};a.prototype.getElementIndex=function(c){return this._elementsContent.indexOf(c)};
a.prototype.setElementIndex=function(c,a){this.checkForRangeError(a);var b=this.getElementIndex(c);-1!=b&&b!=a&&(this.elementsContentChanged||this._elementRemoved(c,b,!1),this._elementsContent.splice(b,1),this._elementsContent.splice(a,0,c),this.elementsContentChanged||this._elementAdded(c,a,!1))};a.prototype.swapElements=function(c,a){this.swapElementsAt(this.getElementIndex(c),this.getElementIndex(a))};a.prototype.swapElementsAt=function(c,a){this.checkForRangeError(c);this.checkForRangeError(a);
if(c>a){var b=a;a=c;c=b}else if(c==a)return;var b=this._elementsContent,d=b[c],e=b[a];this.elementsContentChanged||(this._elementRemoved(d,c,!1),this._elementRemoved(e,a,!1));b[c]=e;b[a]=d;this.elementsContentChanged||(this._elementAdded(e,c,!1),this._elementAdded(d,a,!1))};a.prototype._elementAdded=function(c,a,d){"undefined"===typeof d&&(d=!0);c instanceof b.DisplayObject&&this._addToDisplayListAt(c,a,d);d&&this.hasEventListener(b.ElementExistenceEvent.ELEMENT_ADD)&&b.ElementExistenceEvent.dispatchElementExistenceEvent(this,
b.ElementExistenceEvent.ELEMENT_ADD,c,a);this.invalidateSize();this.invalidateDisplayList()};a.prototype._elementRemoved=function(c,a,d){"undefined"===typeof d&&(d=!0);d&&this.hasEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE)&&b.ElementExistenceEvent.dispatchElementExistenceEvent(this,b.ElementExistenceEvent.ELEMENT_REMOVE,c,a);c instanceof b.DisplayObject&&c.parent==this&&this._removeFromDisplayList(c,d);this.invalidateSize();this.invalidateDisplayList()};a.prototype.addChild=function(c){throw Error("addChild()"+
a.errorStr+"addElement()\u4ee3\u66ff");};a.prototype.addChildAt=function(c,b){throw Error("addChildAt()"+a.errorStr+"addElementAt()\u4ee3\u66ff");};a.prototype.removeChild=function(c){throw Error("removeChild()"+a.errorStr+"removeElement()\u4ee3\u66ff");};a.prototype.removeChildAt=function(c){throw Error("removeChildAt()"+a.errorStr+"removeElementAt()\u4ee3\u66ff");};a.prototype.setChildIndex=function(c,b){throw Error("setChildIndex()"+a.errorStr+"setElementIndex()\u4ee3\u66ff");};a.prototype.swapChildren=
function(c,b){throw Error("swapChildren()"+a.errorStr+"swapElements()\u4ee3\u66ff");};a.prototype.swapChildrenAt=function(c,b){throw Error("swapChildrenAt()"+a.errorStr+"swapElementsAt()\u4ee3\u66ff");};a.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return a}(b.GroupBase);b.Group=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._createAllChildren=!1;this.proposedSelectedIndex=a.NO_PROPOSED_SELECTION;this._selectedIndex=-1;this.childOrderingChanged=this.notifyTabBar=!1;this._setLayout(new b.BasicLayout)}__extends(a,d);Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(c){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"createAllChildren",{get:function(){return this._createAllChildren},set:function(c){if(this._createAllChildren!=
c&&(this._createAllChildren=c)){c=this._getElementsContent();for(var a=c.length,d=0;d<a;d++){var e=c[d];e instanceof b.DisplayObject&&e.parent!=this&&(this.childOrderingChanged=!0,this._addToDisplayList(e))}this.childOrderingChanged&&this.invalidateProperties()}},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedChild",{get:function(){var c=this.selectedIndex;return 0<=c&&c<this.numElements?this.getElementAt(c):null},set:function(c){c=this.getElementIndex(c);0<=c&&c<this.numElements&&
this._setSelectedIndex(c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedIndex",{get:function(){return this.proposedSelectedIndex!=a.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},set:function(c){this._setSelectedIndex(c)},enumerable:!0,configurable:!0});a.prototype._setSelectedIndex=function(c,a){"undefined"===typeof a&&(a=!0);c!=this.selectedIndex&&(this.proposedSelectedIndex=c,this.invalidateProperties(),b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT),
this.notifyTabBar=this.notifyTabBar||a)};a.prototype._elementAdded=function(c,a,d){"undefined"===typeof d&&(d=!0);this._createAllChildren&&c instanceof b.DisplayObject&&this._addToDisplayListAt(c,a,d);d&&this.hasEventListener(b.ElementExistenceEvent.ELEMENT_ADD)&&b.ElementExistenceEvent.dispatchElementExistenceEvent(this,b.ElementExistenceEvent.ELEMENT_ADD,c,a);c.visible=!1;c.includeInLayout=!1;-1==this.selectedIndex?this._setSelectedIndex(a,!1):a<=this.selectedIndex&&this.initialized&&this._setSelectedIndex(this.selectedIndex+
1);this.dispatchCoEvent(b.CollectionEventKind.ADD,a,-1,[c.name])};a.prototype._elementRemoved=function(c,a,e){"undefined"===typeof e&&(e=!0);d.prototype._elementRemoved.call(this,c,a,e);c.visible=!0;c.includeInLayout=!0;a==this.selectedIndex?0<this.numElements?0==a?(this.proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this._setSelectedIndex(-1):a<this.selectedIndex&&this._setSelectedIndex(this.selectedIndex-1);this.dispatchCoEvent(b.CollectionEventKind.REMOVE,a,-1,
[c.name])};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this.proposedSelectedIndex!=a.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=a.NO_PROPOSED_SELECTION);if(this.childOrderingChanged){this.childOrderingChanged=!1;for(var c=this._getElementsContent(),e=c.length,m=0;m<e;m++){var g=c[m];g instanceof b.DisplayObject&&g.parent==this&&this._addToDisplayList(g)}}this.notifyTabBar&&(this.notifyTabBar=!0,this.dispatchEventWith("IndexChanged"))};
a.prototype.commitSelection=function(c){0<=c&&c<this.numElements?(this._selectedIndex=c,this._selectedChild&&this._selectedChild.parent==this&&(this._selectedChild.visible=!1,this._selectedChild.includeInLayout=!1),this._selectedChild=this.getElementAt(this._selectedIndex),this._selectedChild.visible=!0,this._selectedChild.includeInLayout=!0,this._selectedChild.parent!=this&&this._selectedChild instanceof b.DisplayObject&&(this._addToDisplayList(this._selectedChild),this.childOrderingChanged||(this.childOrderingChanged=
!0))):(this._selectedChild=null,this._selectedIndex=-1);this.invalidateSize();this.invalidateDisplayList()};Object.defineProperty(a.prototype,"length",{get:function(){return this.numElements},enumerable:!0,configurable:!0});a.prototype.getItemAt=function(c){return(c=this.getElementAt(c))?c.name:""};a.prototype.getItemIndex=function(c){for(var a=this._getElementsContent(),b=a.length,d=0;d<b;d++)if(a[d].name===c)return d;return-1};a.prototype.dispatchCoEvent=function(c,a,d,e,f){"undefined"===typeof c&&
(c=null);"undefined"===typeof a&&(a=-1);"undefined"===typeof d&&(d=-1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);b.CollectionEvent.dispatchCollectionEvent(this,b.CollectionEvent.COLLECTION_CHANGE,c,a,d,e,f)};a.NO_PROPOSED_SELECTION=-2;return a}(b.Group);b.ViewStack=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.maxWidth=1E4;this.minWidth=0;this.maxHeight=1E4;this.minHeight=0;this.height=this.width=NaN;this._initialized=!1;this._elementsContent=[];this._states=[];this.initialized=!1}__extends(a,d);a.prototype.createChildren=function(){};Object.defineProperty(a.prototype,"hostComponent",{get:function(){return this._hostComponent},set:function(c){this._setHostComponent(c)},enumerable:!0,configurable:!0});a.prototype._setHostComponent=function(c){if(this._hostComponent!=
c){var a;if(this._hostComponent)for(a=this._elementsContent.length-1;0<=a;a--)this._elementRemoved(this._elementsContent[a],a);this._hostComponent=c;this._initialized||(this._initialized=!0,this.createChildren());if(this._hostComponent){c=this._elementsContent.length;for(a=0;a<c;a++)this._elementAdded(this._elementsContent[a],a);this.initializeStates();this.currentStateChanged&&this.commitCurrentState()}}};a.prototype._getElementsContent=function(){return this._elementsContent};Object.defineProperty(a.prototype,
"elementsContent",{set:function(c){null==c&&(c=[]);if(c!=this._elementsContent)if(this._hostComponent){var a;for(a=this._elementsContent.length-1;0<=a;a--)this._elementRemoved(this._elementsContent[a],a);this._elementsContent=c.concat();c=this._elementsContent.length;for(a=0;a<c;a++){var b=this._elementsContent[a];b.parent&&"removeElement"in b.parent?b.parent.removeElement(b):b.owner&&"removeElement"in b.owner&&b.owner.removeElement(b);this._elementAdded(b,a)}}else this._elementsContent=c.concat()},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0});a.prototype.getElementAt=function(c){this.checkForRangeError(c);return this._elementsContent[c]};a.prototype.checkForRangeError=function(c,a){"undefined"===typeof a&&(a=!1);var b=this._elementsContent.length-1;a&&b++;if(0>c||c>b)throw new RangeError('\u7d22\u5f15:"'+c+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};
a.prototype.addElement=function(c){var a=this.numElements;c.owner==this&&(a=this.numElements-1);return this.addElementAt(c,a)};a.prototype.addElementAt=function(c,a){this.checkForRangeError(a,!0);var b=c.owner;if(b==this)return this.setElementIndex(c,a),c;b&&"removeElement"in b&&b.removeElement(c);this._elementsContent.splice(a,0,c);this._hostComponent?this._elementAdded(c,a):c.ownerChanged(this);return c};a.prototype.removeElement=function(c){return this.removeElementAt(this.getElementIndex(c))};
a.prototype.removeElementAt=function(c){this.checkForRangeError(c);var a=this._elementsContent[c];this._hostComponent?this._elementRemoved(a,c):a.ownerChanged(null);this._elementsContent.splice(c,1);return a};a.prototype.getElementIndex=function(c){return this._elementsContent.indexOf(c)};a.prototype.setElementIndex=function(c,a){this.checkForRangeError(a);var b=this.getElementIndex(c);-1!=b&&b!=a&&(this._hostComponent&&this._elementRemoved(c,b,!1),this._elementsContent.splice(b,1),this._elementsContent.splice(a,
0,c),this._hostComponent&&this._elementAdded(c,a,!1))};a.prototype._elementAdded=function(c,a,d){"undefined"===typeof d&&(d=!0);c.ownerChanged(this);c instanceof b.DisplayObject&&this._hostComponent._addToDisplayListAt(c,a,d);d&&this.hasEventListener(b.ElementExistenceEvent.ELEMENT_ADD)&&b.ElementExistenceEvent.dispatchElementExistenceEvent(this,b.ElementExistenceEvent.ELEMENT_ADD,c,a);this._hostComponent.invalidateSize();this._hostComponent.invalidateDisplayList()};a.prototype._elementRemoved=function(c,
a,d){"undefined"===typeof d&&(d=!0);d&&this.hasEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE)&&b.ElementExistenceEvent.dispatchElementExistenceEvent(this,b.ElementExistenceEvent.ELEMENT_REMOVE,c,a);c instanceof b.DisplayObject&&c.parent==this._hostComponent&&this._hostComponent._removeFromDisplayList(c,d);c.ownerChanged(null);this._hostComponent.invalidateSize();this._hostComponent.invalidateDisplayList()};Object.defineProperty(a.prototype,"states",{get:function(){return this._states},set:function(c){this._setStates(c)},
enumerable:!0,configurable:!0});a.prototype._setStates=function(c){c||(c=[]);if("string"==typeof c[0])for(var a=c.length,d=0;d<a;d++){var e=new b.State(c[d],[]);c[d]=e}this._states=c;this.currentStateChanged=!0;this.requestedCurrentState=this._currentState;this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())};Object.defineProperty(a.prototype,"currentState",{get:function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:
this.getDefaultState()},set:function(c){c||(c=this.getDefaultState());c!=this.currentState&&c&&this.currentState&&(this.requestedCurrentState=c,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())},enumerable:!0,configurable:!0});a.prototype.hasState=function(c){return null!=this.getState(c)};a.prototype.getDefaultState=function(){return 0<this._states.length?this._states[0].name:null};a.prototype.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=
!1;this.getState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState());var c=this._currentState?this._currentState:"";this.hasEventListener(b.StateChangeEvent.CURRENT_STATE_CHANGING)&&b.StateChangeEvent.dispatchStateChangeEvent(this,b.StateChangeEvent.CURRENT_STATE_CHANGING,c,this.requestedCurrentState?this.requestedCurrentState:"");this.removeState(this._currentState);(this._currentState=this.requestedCurrentState)&&this.applyState(this._currentState);this.hasEventListener(b.StateChangeEvent.CURRENT_STATE_CHANGE)&&
b.StateChangeEvent.dispatchStateChangeEvent(this,b.StateChangeEvent.CURRENT_STATE_CHANGE,c,this._currentState?this._currentState:"")}};a.prototype.getState=function(c){if(!c)return null;for(var a=this._states,b=a.length,d=0;d<b;d++){var e=a[d];if(e.name==c)return e}return null};a.prototype.removeState=function(c){if(c=this.getState(c)){c=c.overrides;for(var a=c.length-1;0<=a;a--)c[a].remove(this)}};a.prototype.applyState=function(c){if(c=this.getState(c)){c=c.overrides;for(var a=c.length,b=0;b<a;b++)c[b].apply(this)}};
a.prototype.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var c=this._states,a=c.length,b=0;b<a;b++)c[b].initialize(this)}};return a}(b.EventDispatcher);b.Skin=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.useVirtualLayoutChanged=!1;this.rendererToClassMap=[];this.freeRenderers=[];this.dataProviderChanged=this.createNewRendererFlag=!1;this.recyclerDic=[];this.typicalItemChanged=this.virtualLayoutUnderway=this.itemRendererSkinNameChange=!1;this.indexToRenderer=[];this.renderersBeingUpdated=this.cleanFreeRenderer=!1}__extends(a,d);Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(c){c!=this.layout&&
(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&c&&this.layout.useVirtualLayout!=c.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(c),c&&(c.typicalLayoutRect=this.typicalLayoutRect,c.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))},enumerable:!0,configurable:!0});a.prototype.layout_useVirtualLayoutChangedHandler=function(c){this.changeUseVirtualLayout()};
a.prototype.setVirtualElementIndicesInView=function(c,a){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var b=c;b<=a;b++)this.virtualRendererIndices.push(b);for(var d in this.indexToRenderer)d=parseInt(d),-1==this.virtualRendererIndices.indexOf(d)&&this.freeRendererByIndex(d)}};a.prototype.getVirtualElementAt=function(c){if(0>c||c>=this.dataProvider.length)return null;var a=this.indexToRenderer[c];if(!a){var a=this.dataProvider.getItemAt(c),d=this.createVirtualRenderer(c);
this.indexToRenderer[c]=d;this.updateRenderer(d,c,a);this.createNewRendererFlag&&("validateNow"in d&&d.validateNow(),this.createNewRendererFlag=!1,b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,b.RendererExistenceEvent.RENDERER_ADD,d,c,a));a=d}return a};a.prototype.freeRendererByIndex=function(c){if(this.indexToRenderer[c]){var a=this.indexToRenderer[c];delete this.indexToRenderer[c];a&&a instanceof b.DisplayObject&&this.doFreeRenderer(a)}};a.prototype.doFreeRenderer=function(c){var a=
this.rendererToClassMap[c.hashCode].hashCode;this.freeRenderers[a]||(this.freeRenderers[a]=[]);this.freeRenderers[a].push(c);c.visible=!1};a.prototype.invalidateSize=function(){this.createNewRendererFlag||d.prototype.invalidateSize.call(this)};a.prototype.createVirtualRenderer=function(c){c=this.dataProvider.getItemAt(c);c=this.itemToRendererClass(c);var a=c.hashCode,b=this.freeRenderers;if(b[a]&&0<b[a].length)return c=b[a].pop(),c.visible=!0,c;this.createNewRendererFlag=!0;return this.createOneRenderer(c)};
a.prototype.createOneRenderer=function(c){var a,d=c.hashCode,e=this.recyclerDic[d];e&&(a=e.pop(),0==e.length&&delete this.recyclerDic[d]);a||(a=c.newInstance(),this.rendererToClassMap[a.hashCode]=c);if(!(a&&a instanceof b.DisplayObject))return null;this._itemRendererSkinName&&this.setItemRenderSkinName(a);this._addToDisplayList(a);a.setLayoutBoundsSize(NaN,NaN);return a};a.prototype.setItemRenderSkinName=function(c){c&&(c?c._skinNameExplicitlySet||(c.skinName=this._itemRendererSkinName):c&&!c.skinName&&
(c.skinName=this._itemRendererSkinName))};a.prototype.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){var c=this.virtualLayoutUnderway=!1,a;for(a in this.freeRenderers)if(0<this.freeRenderers[a].length){c=!0;break}c&&(this.cleanTimer||(this.cleanTimer=new b.Timer(3E3,1),this.cleanTimer.addEventListener(b.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}};a.prototype.cleanAllFreeRenderer=function(c){var a=this.freeRenderers,b;for(b in a)for(var d=
a[b],e=d.length,h=0;h<e;h++)c=d[h],c.visible=!0,this.recycle(c);this.freeRenderers=[];this.cleanFreeRenderer=!1};a.prototype.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:d.prototype.getElementIndicesInView.call(this)};a.prototype.changeUseVirtualLayout=function(){this.cleanFreeRenderer=this.useVirtualLayoutChanged=!0;this.removeDataProviderListener();this.invalidateProperties()};Object.defineProperty(a.prototype,
"dataProvider",{get:function(){return this._dataProvider},set:function(c){this._dataProvider!=c&&(this.removeDataProviderListener(),this._dataProvider=c,this.cleanFreeRenderer=this.dataProviderChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(b.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)};a.prototype.onCollectionChange=
function(c){switch(c.kind){case b.CollectionEventKind.ADD:this.itemAddedHandler(c.items,c.location);break;case b.CollectionEventKind.MOVE:this.itemMovedHandler(c.items[0],c.location,c.oldLocation);break;case b.CollectionEventKind.REMOVE:this.itemRemovedHandler(c.items,c.location);break;case b.CollectionEventKind.UPDATE:this.itemUpdatedHandler(c.items[0],c.location);break;case b.CollectionEventKind.REPLACE:this.itemRemoved(c.oldItems[0],c.location);this.itemAdded(c.items[0],c.location);break;case b.CollectionEventKind.RESET:case b.CollectionEventKind.REFRESH:if(this.layout&&
this.layout.useVirtualLayout)for(var a in this.indexToRenderer)a=parseInt(a),this.freeRendererByIndex(a);this.dataProviderChanged=!0;this.invalidateProperties()}this.invalidateSize();this.invalidateDisplayList()};a.prototype.itemAddedHandler=function(c,a){for(var b=c.length,d=0;d<b;d++)this.itemAdded(c[d],a+d);this.resetRenderersIndices()};a.prototype.itemMovedHandler=function(c,a,b){this.itemRemoved(c,b);this.itemAdded(c,a);this.resetRenderersIndices()};a.prototype.itemRemovedHandler=function(c,
a){for(var b=c.length-1;0<=b;b--)this.itemRemoved(c[b],a+b);this.resetRenderersIndices()};a.prototype.itemAdded=function(c,a){this.layout&&this.layout.elementAdded(a);if(this.layout&&this.layout.useVirtualLayout){var d=this.virtualRendererIndices;if(d){for(var e=d.length,f=0;f<e;f++){var h=d[f];h>=a&&(d[f]=h+1)}this.indexToRenderer.splice(a,0,null)}}else d=this.itemToRendererClass(c),d=this.createOneRenderer(d),this.indexToRenderer.splice(a,0,d),d&&(this.updateRenderer(d,a,c),b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,
b.RendererExistenceEvent.RENDERER_ADD,d,a,c))};a.prototype.itemRemoved=function(c,a){this.layout&&this.layout.elementRemoved(a);var d=this.virtualRendererIndices;if(d&&0<d.length){for(var e=-1,f=d.length,h=0;h<f;h++){var k=d[h];k==a?e=h:k>a&&(d[h]=k-1)}-1!=e&&d.splice(e,1)}d=this.indexToRenderer[a];this.indexToRenderer.length>a&&this.indexToRenderer.splice(a,1);b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,b.RendererExistenceEvent.RENDERER_REMOVE,d,a,c);d&&d instanceof b.DisplayObject&&
(this.recycle(d),b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,b.RendererExistenceEvent.RENDERER_REMOVE,d,d.itemIndex,d.data))};a.prototype.recycle=function(c){this._removeFromDisplayList(c);"ownerChanged"in c&&c.ownerChanged(null);var a=this.rendererToClassMap[c.hashCode].hashCode;this.recyclerDic[a]||(this.recyclerDic[a]=new b.Recycler);this.recyclerDic[a].push(c)};a.prototype.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var c=
this.virtualRendererIndices,a=c.length,b=0;b<a;b++){var d=c[b];this.resetRendererItemIndex(d)}else for(c=this.indexToRenderer.length,d=0;d<c;d++)this.resetRendererItemIndex(d)};a.prototype.itemUpdatedHandler=function(c,a){if(!this.renderersBeingUpdated){var b=this.indexToRenderer[a];b&&this.updateRenderer(b,a,c)}};a.prototype.resetRendererItemIndex=function(c){var a=this.indexToRenderer[c];a&&(a.itemIndex=c)};Object.defineProperty(a.prototype,"itemRenderer",{get:function(){return this._itemRenderer},
set:function(c){this._itemRenderer!==c&&(this._itemRenderer=c,this.cleanFreeRenderer=this.typicalItemChanged=this.itemRendererChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemRendererSkinName",{get:function(){return this._itemRendererSkinName},set:function(c){this._itemRendererSkinName!=c&&(this._itemRendererSkinName=c)&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemRendererFunction",{get:function(){return this._itemRendererFunction},set:function(c){this._itemRendererFunction!=c&&(this._itemRendererFunction=c,this.typicalItemChanged=this.itemRendererChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.itemToRendererClass=function(c){null!=this._itemRendererFunction?(c=this._itemRendererFunction(c),c||(c=this._itemRenderer)):
c=this._itemRenderer;return c?c:a.defaultRendererFactory};a.prototype.createChildren=function(){if(!this.layout){var c=new b.VerticalLayout;c.gap=0;c.horizontalAlign=b.HorizontalAlign.CONTENT_JUSTIFY;this.layout=c}d.prototype.createChildren.call(this)};a.prototype.commitProperties=function(){if(this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.itemRendererChanged=
this.useVirtualLayoutChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(b.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0);d.prototype.commitProperties.call(this);this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&
0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize()));if(this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=!1;for(var c=this.indexToRenderer.length,a=0;a<c;a++)this.setItemRenderSkinName(this.indexToRenderer[a]);var e=this.freeRenderers,g;for(g in e){var f=e[g];if(f)for(c=f.length,a=0;a<c;a++)this.setItemRenderSkinName(f[a])}}};a.prototype.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement();
d.prototype.measure.call(this)};a.prototype.updateDisplayList=function(c,a){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=!0,this.ensureTypicalLayoutElement());d.prototype.updateDisplayList.call(this,c,a);this.virtualLayoutUnderway&&this.finishVirtualLayout()};a.prototype.ensureTypicalLayoutElement=function(){!this.layout.typicalLayoutRect&&this._dataProvider&&0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),
this.measureRendererSize())};a.prototype.measureRendererSize=function(){if(this.typicalItem){var c=this.itemToRendererClass(this.typicalItem);if(c=this.createOneRenderer(c)){this.createNewRendererFlag=!0;this.updateRenderer(c,0,this.typicalItem);"validateNow"in c&&c.validateNow();var a=new b.Rectangle(0,0,c.preferredWidth,c.preferredHeight);this.recycle(c);this.setTypicalLayoutRect(a);this.createNewRendererFlag=!1}else this.setTypicalLayoutRect(null)}else this.setTypicalLayoutRect(null)};a.prototype.setTypicalLayoutRect=
function(c){this.typicalLayoutRect=c;this.layout&&(this.layout.typicalLayoutRect=c)};a.prototype.removeAllRenderers=function(){for(var c=this.indexToRenderer.length,a,d=0;d<c;d++)if(a=this.indexToRenderer[d])this.recycle(a),b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,b.RendererExistenceEvent.RENDERER_REMOVE,a,a.itemIndex,a.data);this.indexToRenderer=[];this.virtualRendererIndices=null;this.cleanFreeRenderer&&this.cleanAllFreeRenderer()};a.prototype.createRenderers=function(){if(this._dataProvider)for(var c=
0,a=this._dataProvider.length,d=0;d<a;d++){var e=this._dataProvider.getItemAt(d),f=this.itemToRendererClass(e);if(f=this.createOneRenderer(f))this.indexToRenderer[c]=f,this.updateRenderer(f,c,e),b.RendererExistenceEvent.dispatchRendererExistenceEvent(this,b.RendererExistenceEvent.RENDERER_ADD,f,c,e),c++}};a.prototype.updateRenderer=function(c,a,b){this.renderersBeingUpdated=!0;this._rendererOwner?c=this._rendererOwner.updateRenderer(c,a,b):("ownerChanged"in c&&c.ownerChanged(this),c.itemIndex=a,c.label=
this.itemToLabel(b),c.data=b);this.renderersBeingUpdated=!1;return c};a.prototype.itemToLabel=function(c){return c?c.toString():" "};a.prototype.getElementAt=function(c){return this.indexToRenderer[c]};a.prototype.getElementIndex=function(c){return c?this.indexToRenderer.indexOf(c):-1};Object.defineProperty(a.prototype,"numElements",{get:function(){return this._dataProvider?this._dataProvider.length:0},enumerable:!0,configurable:!0});a.prototype.addChild=function(c){throw Error("addChild()"+a.errorStr+
"addElement()\u4ee3\u66ff");};a.prototype.addChildAt=function(c,b){throw Error("addChildAt()"+a.errorStr+"addElementAt()\u4ee3\u66ff");};a.prototype.removeChild=function(c){throw Error("removeChild()"+a.errorStr+"removeElement()\u4ee3\u66ff");};a.prototype.removeChildAt=function(c){throw Error("removeChildAt()"+a.errorStr+"removeElementAt()\u4ee3\u66ff");};a.prototype.setChildIndex=function(c,b){throw Error("setChildIndex()"+a.errorStr+"setElementIndex()\u4ee3\u66ff");};a.prototype.swapChildren=function(c,
b){throw Error("swapChildren()"+a.errorStr+"swapElements()\u4ee3\u66ff");};a.prototype.swapChildrenAt=function(c,b){throw Error("swapChildrenAt()"+a.errorStr+"swapElementsAt()\u4ee3\u66ff");};a.defaultRendererFactory=new b.ClassFactory(b.ItemRenderer);a.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return a}(b.GroupBase);b.DataGroup=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.contentGroupProperties={};this.hostComponentKey="egret.SkinnableContainer"}__extends(a,d);a.prototype._getCurrentContentGroup=function(){return null==this.contentGroup?(null==this._placeHolderGroup&&(this._placeHolderGroup=new b.Group,this._placeHolderGroup.visible=!1,this._addToDisplayList(this._placeHolderGroup)),this._placeHolderGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE,
this._contentGroup_elementRemovedHandler,this),this._placeHolderGroup):this.contentGroup};Object.defineProperty(a.prototype,"elementsContent",{set:function(c){this._getCurrentContentGroup().elementsContent=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numElements",{get:function(){return this._getCurrentContentGroup().numElements},enumerable:!0,configurable:!0});a.prototype.getElementAt=function(c){return this._getCurrentContentGroup().getElementAt(c)};a.prototype.addElement=
function(c){return this._getCurrentContentGroup().addElement(c)};a.prototype.addElementAt=function(c,a){return this._getCurrentContentGroup().addElementAt(c,a)};a.prototype.removeElement=function(c){return this._getCurrentContentGroup().removeElement(c)};a.prototype.removeElementAt=function(c){return this._getCurrentContentGroup().removeElementAt(c)};a.prototype.removeAllElements=function(){this._getCurrentContentGroup().removeAllElements()};a.prototype.getElementIndex=function(c){return this._getCurrentContentGroup().getElementIndex(c)};
a.prototype.setElementIndex=function(c,a){this._getCurrentContentGroup().setElementIndex(c,a)};a.prototype.swapElements=function(c,a){this._getCurrentContentGroup().swapElements(c,a)};a.prototype.swapElementsAt=function(c,a){this._getCurrentContentGroup().swapElementsAt(c,a)};Object.defineProperty(a.prototype,"layout",{get:function(){return null!=this.contentGroup?this.contentGroup.layout:this.contentGroupProperties.layout},set:function(c){null!=this.contentGroup?this.contentGroup.layout=c:this.contentGroupProperties.layout=
c},enumerable:!0,configurable:!0});a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);if(a==this.contentGroup){void 0!==this.contentGroupProperties.layout&&(this.contentGroup.layout=this.contentGroupProperties.layout,this.contentGroupProperties={});if(this._placeHolderGroup){this._placeHolderGroup.removeEventListener(b.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this);this._placeHolderGroup.removeEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE,
this._contentGroup_elementRemovedHandler,this);for(var e=this._placeHolderGroup._getElementsContent().concat(),g=this._placeHolderGroup.numElements;0<g;g--){var f=this._placeHolderGroup.removeElementAt(0);f.ownerChanged(null)}this._removeFromDisplayList(this._placeHolderGroup);this.contentGroup.elementsContent=e;for(g=e.length-1;0<=g;g--)f=e[g],f.ownerChanged(this);this._placeHolderGroup=null}this.contentGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,
this);this.contentGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,c,a);if(a==this.contentGroup&&(this.contentGroup.removeEventListener(b.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.removeEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this.contentGroupProperties.layout=
this.contentGroup.layout,this.contentGroup.layout=null,0<this.contentGroup.numElements)){for(this._placeHolderGroup=new b.Group;0<this.contentGroup.numElements;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));this._placeHolderGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this);this._placeHolderGroup.addEventListener(b.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}};a.prototype._contentGroup_elementAddedHandler=
function(c){c.element.ownerChanged(this);this.dispatchEvent(c)};a.prototype._contentGroup_elementRemovedHandler=function(c){c.element.ownerChanged(null);this.dispatchEvent(c)};return a}(b.SkinnableComponent);b.SkinnableContainer=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._dataGroupProperties={};this.hostComponentKey="egret.SkinnableDataContainer"}__extends(a,d);a.prototype.updateRenderer=function(c,a,b){"ownerChanged"in c&&c.ownerChanged(this);c.itemIndex=a;c.label=this.itemToLabel(b);c.data=b;return c};a.prototype.itemToLabel=function(c){return null!==c?c.toString():" "};Object.defineProperty(a.prototype,"dataProvider",{get:function(){return this._getDataProvider()},set:function(c){this._setDataProvider(c)},
enumerable:!0,configurable:!0});a.prototype._getDataProvider=function(){return null!=this.dataGroup?this.dataGroup.dataProvider:this._dataGroupProperties.dataProvider};a.prototype._setDataProvider=function(c){null==this.dataGroup?this._dataGroupProperties.dataProvider=c:(this.dataGroup.dataProvider=c,this._dataGroupProperties.dataProvider=!0)};Object.defineProperty(a.prototype,"itemRenderer",{get:function(){return this.dataGroup?this.dataGroup.itemRenderer:this._dataGroupProperties.itemRenderer},
set:function(c){null==this.dataGroup?this._dataGroupProperties.itemRenderer=c:(this.dataGroup.itemRenderer=c,this._dataGroupProperties.itemRenderer=!0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemRendererSkinName",{get:function(){return this.dataGroup?this.dataGroup.itemRendererSkinName:this._dataGroupProperties.itemRendererSkinName},set:function(c){null==this.dataGroup?this._dataGroupProperties.itemRendererSkinName=c:(this.dataGroup.itemRendererSkinName=c,this._dataGroupProperties.itemRendererSkinName=
!0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemRendererFunction",{get:function(){return this.dataGroup?this.dataGroup.itemRendererFunction:this._dataGroupProperties.itemRendererFunction},set:function(c){null==this.dataGroup?this._dataGroupProperties.itemRendererFunction=c:(this.dataGroup.itemRendererFunction=c,this._dataGroupProperties.itemRendererFunction=!0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this.dataGroup?
this.dataGroup.layout:this._dataGroupProperties.layout},set:function(c){this._setLayout(c)},enumerable:!0,configurable:!0});a.prototype._setLayout=function(c){null==this.dataGroup?this._dataGroupProperties.layout=c:(this.dataGroup.layout=c,this._dataGroupProperties.layout=!0)};a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);if(a==this.dataGroup){var e={};void 0!==this._dataGroupProperties.layout&&(this.dataGroup.layout=this._dataGroupProperties.layout,e.layout=!0);void 0!==
this._dataGroupProperties.dataProvider&&(this.dataGroup.dataProvider=this._dataGroupProperties.dataProvider,e.dataProvider=!0);void 0!==this._dataGroupProperties.itemRenderer&&(this.dataGroup.itemRenderer=this._dataGroupProperties.itemRenderer,e.itemRenderer=!0);void 0!==this._dataGroupProperties.itemRendererSkinName&&(this.dataGroup.itemRendererSkinName=this._dataGroupProperties.itemRendererSkinName,e.itemRendererSkinName=!0);void 0!==this._dataGroupProperties.itemRendererFunction&&(this.dataGroup.itemRendererFunction=
this._dataGroupProperties.itemRendererFunction,e.itemRendererFunction=!0);this.dataGroup._rendererOwner=this;this._dataGroupProperties=e;this.hasEventListener(b.RendererExistenceEvent.RENDERER_ADD)&&this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);this.hasEventListener(b.RendererExistenceEvent.RENDERER_REMOVE)&&this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)}};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,
c,a);if(a==this.dataGroup){this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this);var e={};this._dataGroupProperties.layout&&(e.layout=this.dataGroup.layout);this._dataGroupProperties.dataProvider&&(e.dataProvider=this.dataGroup.dataProvider);this._dataGroupProperties.itemRenderer&&(e.itemRenderer=this.dataGroup.itemRenderer);this._dataGroupProperties.itemRendererSkinName&&
(e.itemRendererSkinName=this.dataGroup.itemRendererSkinName);this._dataGroupProperties.itemRendererFunction&&(e.itemRendererFunction=this.dataGroup.itemRendererFunction);this._dataGroupProperties=e;this.dataGroup._rendererOwner=null;this.dataGroup.dataProvider=null;this.dataGroup.layout=null}};a.prototype.addEventListener=function(c,a,e,g,f){"undefined"===typeof g&&(g=!1);"undefined"===typeof f&&(f=0);d.prototype.addEventListener.call(this,c,a,e,g,f);c==b.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&
this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);c==b.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)};a.prototype.removeEventListener=function(c,a,e,g){"undefined"===typeof g&&(g=!1);d.prototype.removeEventListener.call(this,c,a,e,g);c==b.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&(this.hasEventListener(b.RendererExistenceEvent.RENDERER_ADD)||
this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this));c==b.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&(this.hasEventListener(b.RendererExistenceEvent.RENDERER_REMOVE)||this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))};return a}(b.SkinnableComponent);b.SkinnableDataContainer=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._doingWholesaleChanges=!1;this._labelField="label";this.requireSelectionChanged=this._requireSelection=!1;this._proposedSelectedIndex=a.NO_PROPOSED_SELECTION;this._selectedIndex=a.NO_SELECTION;this.selectedIndexAdjusted=this._useVirtualLayout=this._dispatchChangeAfterSelection=this._allowCustomSelectedItem=!1}__extends(a,d);a.prototype._setDataProvider=function(c){this.dataProvider&&this.dataProvider.removeEventListener(b.CollectionEvent.COLLECTION_CHANGE,
this.dataProvider_collectionChangeHandler,this);this._doingWholesaleChanges=this.dataProviderChanged=!0;c&&c.addEventListener(b.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this);d.prototype._setDataProvider.call(this,c);this.invalidateProperties()};Object.defineProperty(a.prototype,"layout",{get:function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},set:function(c){c&&this.useVirtualLayout&&(c.useVirtualLayout=!0);this._setLayout(c)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"labelField",{get:function(){return this._labelField},set:function(c){this._setLabelField(c)},enumerable:!0,configurable:!0});a.prototype._setLabelField=function(c){c!=this._labelField&&(this._labelField=c,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(c){this._setLabelFunction(c)},enumerable:!0,configurable:!0});
a.prototype._setLabelFunction=function(c){c!=this._labelFunction&&(this._labelFunction=c,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,"requireSelection",{get:function(){return this._requireSelection},set:function(c){this._setRequireSelection(c)},enumerable:!0,configurable:!0});a.prototype._setRequireSelection=function(c){c!=this._requireSelection&&(this._requireSelection=c)&&(this.requireSelectionChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,
"selectedIndex",{get:function(){return this._getSelectedIndex()},set:function(c){this._setSelectedIndex(c,!1)},enumerable:!0,configurable:!0});a.prototype._getSelectedIndex=function(){return this._proposedSelectedIndex!=a.NO_PROPOSED_SELECTION?this._proposedSelectedIndex:this._selectedIndex};a.prototype._setSelectedIndex=function(c,a){"undefined"===typeof a&&(a=!1);c!=this.selectedIndex&&(a&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||a),this._proposedSelectedIndex=c,this.invalidateProperties())};
Object.defineProperty(a.prototype,"selectedItem",{get:function(){return void 0!==this._pendingSelectedItem?this._pendingSelectedItem:this._allowCustomSelectedItem&&this.selectedIndex==a.CUSTOM_SELECTED_ITEM?this._selectedItem:this.selectedIndex==a.NO_SELECTION||null==this.dataProvider?void 0:this.dataProvider.length>this.selectedIndex?this.dataProvider.getItemAt(this.selectedIndex):void 0},set:function(c){this._setSelectedItem(c,!1)},enumerable:!0,configurable:!0});a.prototype._setSelectedItem=function(c,
a){"undefined"===typeof a&&(a=!1);this.selectedItem!==c&&(a&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||a),this._pendingSelectedItem=c,this.invalidateProperties())};Object.defineProperty(a.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(c){this._setUseVirtualLayout(c)},enumerable:!0,configurable:!0});a.prototype._getUseVirtualLayout=function(){return this.layout?this.layout.useVirtualLayout:this._useVirtualLayout};a.prototype._setUseVirtualLayout=
function(c){c!=this.useVirtualLayout&&(this._useVirtualLayout=c,this.layout&&(this.layout.useVirtualLayout=c))};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this.dataProviderChanged&&(this._doingWholesaleChanges=this.dataProviderChanged=!1,0<=this.selectedIndex&&this.dataProvider&&this.selectedIndex<this.dataProvider.length?this.itemSelected(this.selectedIndex,!0):this.requireSelection?this._proposedSelectedIndex=0:this._setSelectedIndex(-1,!1));this.requireSelectionChanged&&
(this.requireSelectionChanged=!1,this.requireSelection&&this.selectedIndex==a.NO_SELECTION&&this.dataProvider&&0<this.dataProvider.length&&(this._proposedSelectedIndex=0));void 0!==this._pendingSelectedItem&&(this._proposedSelectedIndex=this.dataProvider?this.dataProvider.getItemIndex(this._pendingSelectedItem):a.NO_SELECTION,this._allowCustomSelectedItem&&-1==this._proposedSelectedIndex&&(this._proposedSelectedIndex=a.CUSTOM_SELECTED_ITEM,this._selectedItem=this._pendingSelectedItem),this._pendingSelectedItem=
void 0);var c=!1;this._proposedSelectedIndex!=a.NO_PROPOSED_SELECTION&&(c=this.commitSelection());this.selectedIndexAdjusted&&(this.selectedIndexAdjusted=!1,c||b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT));if(this.labelFieldOrFunctionChanged){if(null!=this.dataGroup)if(this.layout&&this.layout.useVirtualLayout)for(var e=this.dataGroup.getElementIndicesInView(),m=e.length,g=0;g<m;g++)c=e[g],this.updateRendererLabelProperty(c);else for(e=this.dataGroup.numElements,c=0;c<e;c++)this.updateRendererLabelProperty(c);
this.labelFieldOrFunctionChanged=!1}};a.prototype.updateRendererLabelProperty=function(c){if(c=this.dataGroup.getElementAt(c))c.label=this.itemToLabel(c.data)};a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.dataGroup&&(this._useVirtualLayout&&this.dataGroup.layout&&(this.dataGroup.layout.useVirtualLayout=!0),this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.addEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,
this.dataGroup_rendererRemoveHandler,this))};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,c,a);a==this.dataGroup&&(this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.removeEventListener(b.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))};a.prototype.updateRenderer=function(c,a,b){this.itemSelected(a,this._isItemIndexSelected(a));return d.prototype.updateRenderer.call(this,
c,a,b)};a.prototype.itemToLabel=function(c){if(null!=this._labelFunction)return this._labelFunction(c);if("string"==typeof c)return c;if(c instanceof b.XML)try{0!=c[this.labelField].length()&&(c=c[this.labelField])}catch(a){}else if(c instanceof Object)try{null!=c[this.labelField]&&(c=c[this.labelField])}catch(d){}if("string"==typeof c)return c;try{if(null!==c)return c.toString()}catch(e){}return" "};a.prototype.itemSelected=function(c,a){if(this.dataGroup){var b=this.dataGroup.getElementAt(c);null!=
b&&(b.selected=a)}};a.prototype._isItemIndexSelected=function(c){return c==this.selectedIndex};a.prototype.commitSelection=function(c){"undefined"===typeof c&&(c=!0);var d=this.dataProvider?this.dataProvider.length-1:-1,e=this._selectedIndex;if(!this._allowCustomSelectedItem||this._proposedSelectedIndex!=a.CUSTOM_SELECTED_ITEM)if(this._proposedSelectedIndex<a.NO_SELECTION&&(this._proposedSelectedIndex=a.NO_SELECTION),this._proposedSelectedIndex>d&&(this._proposedSelectedIndex=d),this.requireSelection&&
this._proposedSelectedIndex==a.NO_SELECTION&&this.dataProvider&&0<this.dataProvider.length)return this._proposedSelectedIndex=a.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1;d=this._proposedSelectedIndex;if(this._dispatchChangeAfterSelection&&!b.IndexChangeEvent.dispatchIndexChangeEvent(this,b.IndexChangeEvent.CHANGING,this._selectedIndex,this._proposedSelectedIndex,!0))return this.itemSelected(this._proposedSelectedIndex,!1),this._proposedSelectedIndex=a.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=
!1;this._selectedIndex=d;this._proposedSelectedIndex=a.NO_PROPOSED_SELECTION;e!=a.NO_SELECTION&&this.itemSelected(e,!1);this._selectedIndex!=a.NO_SELECTION&&this.itemSelected(this._selectedIndex,!0);c&&(this._dispatchChangeAfterSelection&&(b.IndexChangeEvent.dispatchIndexChangeEvent(this,b.IndexChangeEvent.CHANGE,e,this._selectedIndex),this._dispatchChangeAfterSelection=!1),b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT));return!0};a.prototype.adjustSelection=function(c,b){this._proposedSelectedIndex!=
a.NO_PROPOSED_SELECTION?this._proposedSelectedIndex=c:this._selectedIndex=c;this.selectedIndexAdjusted=!0;this.invalidateProperties()};a.prototype.itemAdded=function(c){this._doingWholesaleChanges||(this.selectedIndex==a.NO_SELECTION?this.requireSelection&&this.adjustSelection(c,!0):c<=this.selectedIndex&&this.adjustSelection(this.selectedIndex+1,!0))};a.prototype.itemRemoved=function(c){this.selectedIndex==a.NO_SELECTION||this._doingWholesaleChanges||(c==this.selectedIndex?this.requireSelection&&
this.dataProvider&&0<this.dataProvider.length?0==c?(this._proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this.adjustSelection(-1,!1):c<this.selectedIndex&&this.adjustSelection(this.selectedIndex-1,!1))};a.prototype.dataGroup_rendererAddHandler=function(c){c=c.renderer;null!=c&&(c.addEventListener(b.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),c.addEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))};a.prototype.dataGroup_rendererRemoveHandler=
function(c){c=c.renderer;null!=c&&(c.removeEventListener(b.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),c.removeEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))};a.prototype.item_mouseEventHandler=function(c){var b=c.type,b=a.TYPE_MAP[b];this.hasEventListener(b)&&this._dispatchListEvent(c,b,c.currentTarget)};a.prototype._dispatchListEvent=function(c,a,d){var e=-1,e=d?d.itemIndex:this.dataGroup.getElementIndex(c.currentTarget),f=this.dataProvider.getItemAt(e);
b.ListEvent.dispatchListEvent(this,a,c,e,f,d)};a.prototype.dataProvider_collectionChangeHandler=function(c){var d=c.items;if(c.kind==b.CollectionEventKind.ADD)for(var d=d.length,e=0;e<d;e++)this.itemAdded(c.location+e);else if(c.kind==b.CollectionEventKind.REMOVE)for(d=d.length,e=d-1;0<=e;e--)this.itemRemoved(c.location+e);else c.kind==b.CollectionEventKind.MOVE?(this.itemRemoved(c.oldLocation),this.itemAdded(c.location)):c.kind==b.CollectionEventKind.RESET?0==this.dataProvider.length?this._setSelectedIndex(a.NO_SELECTION,
!1):(this.dataProviderChanged=!0,this.invalidateProperties()):c.kind==b.CollectionEventKind.REFRESH&&this._setSelectedIndex(a.NO_SELECTION,!1)};a.NO_SELECTION=-1;a.NO_PROPOSED_SELECTION=-2;a.CUSTOM_SELECTED_ITEM=-3;a.TYPE_MAP={rollOver:"itemRollOver",rollOut:"itemRollOut"};return a}(b.SkinnableDataContainer);b.ListBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._title="";this.hostComponentKey="egret.Panel";this.touchEnabled=!1}__extends(a,b);Object.defineProperty(a.prototype,"title",{get:function(){return this._title},set:function(c){this._title=c;this.titleDisplay&&(this.titleDisplay.text=this.title)},enumerable:!0,configurable:!0});a.prototype.partAdded=function(c,a){b.prototype.partAdded.call(this,c,a);a==this.titleDisplay&&(this.titleDisplay.text=this.title)};return a}(b.SkinnableContainer);
b.Panel=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._autoBackToStage=this._showCloseButton=!0;this.hostComponentKey="egret.TitleWindow";this.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.onWindowMouseDown,this,!0,100)}__extends(a,d);a.prototype.onWindowMouseDown=function(c){this.enabled&&this.isPopUp&&c.target!=this.closeButton&&b.PopUpManager.bringToFront(this)};Object.defineProperty(a.prototype,"showCloseButton",{get:function(){return this._showCloseButton},set:function(c){this._showCloseButton!=
c&&(this._showCloseButton=c,this.closeButton&&(this.closeButton.visible=this._showCloseButton))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"autoBackToStage",{get:function(){return this._autoBackToStage},set:function(c){this._autoBackToStage=c},enumerable:!0,configurable:!0});a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.moveArea?this.moveArea.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):a==this.closeButton&&
(this.closeButton.addEventListener(b.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this),this.closeButton.visible=this._showCloseButton)};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,c,a);a==this.moveArea?this.moveArea.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):a==this.closeButton&&this.closeButton.removeEventListener(b.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this)};a.prototype.closeButton_clickHandler=function(c){b.CloseEvent.dispatchCloseEvent(this,
b.CloseEvent.CLOSE)};a.prototype.moveArea_mouseDownHandler=function(c){this.enabled&&this.isPopUp&&(c=this.globalToLocal(c.stageX,c.stageY,b.Point.identity),this._offsetPointX=c.x,this._offsetPointY=c.y,this._includeInLayout=!1,b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,
this))};a.prototype.moveArea_mouseMoveHandler=function(c){c=this.globalToLocal(c.stageX,c.stageY,b.Point.identity);this.x+=c.x-this._offsetPointX;this.y+=c.y-this._offsetPointY};a.prototype.moveArea_mouseUpHandler=function(c){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this);b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,
this);this._autoBackToStage&&this.adjustPosForStage();b.LayoutUtil.adjustRelativeByXY(this);this.includeInLayout=!0};a.prototype.adjustPosForStage=function(){if(this.moveArea&&this.stage){var c=this.moveArea.localToGlobal(0,0),a=c.x,b=c.y;35>c.x+this.moveArea.width&&(a=35-this.moveArea.width);c.x>this.stage.stageWidth-20&&(a=this.stage.stageWidth-20);20>c.y+this.moveArea.height&&(b=20-this.moveArea.height);c.y>this.stage.stageHeight-20&&(b=this.stage.stageHeight-20);this.x+=a-c.x;this.y+=b-c.y}};
return a}(b.Panel);b.TitleWindow=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._contentText=this._secondButtonLabel=this._firstButtonLabel="";this.hostComponentKey="egret.Alert"}__extends(a,d);a.show=function(c,d,e,g,f,h,k){"undefined"===typeof c&&(c="");"undefined"===typeof d&&(d="");"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g="\u786e\u5b9a");"undefined"===typeof f&&(f="");"undefined"===typeof h&&(h=!0);"undefined"===typeof k&&(k=!0);var n=new a;n.contentText=c;n.title=d;n._firstButtonLabel=g;n._secondButtonLabel=
f;n.closeHandler=e;b.PopUpManager.addPopUp(n,h,k);return n};Object.defineProperty(a.prototype,"firstButtonLabel",{get:function(){return this._firstButtonLabel},set:function(c){this._firstButtonLabel!=c&&(this._firstButtonLabel=c,this.firstButton&&(this.firstButton.label=c))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"secondButtonLabel",{get:function(){return this._secondButtonLabel},set:function(c){this._secondButtonLabel!=c&&(this._secondButtonLabel=c,!this.secondButton||
null!=c&&""!=c||(this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"contentText",{get:function(){return this._contentText},set:function(c){this._contentText!=c&&(this._contentText=c,this.contentDisplay&&(this.contentDisplay.text=c))},enumerable:!0,configurable:!0});a.prototype.onClose=function(c){b.PopUpManager.removePopUp(this);if(null!=this.closeHandler){var d=
new b.CloseEvent(b.CloseEvent.CLOSE);switch(c.currentTarget){case this.firstButton:d.detail=a.FIRST_BUTTON;break;case this.secondButton:d.detail=a.SECOND_BUTTON}this.closeHandler(d)}};a.prototype.closeButton_clickHandler=function(c){d.prototype.closeButton_clickHandler.call(this,c);b.PopUpManager.removePopUp(this);c=new b.CloseEvent(b.CloseEvent.CLOSE,!1,!1,a.CLOSE_BUTTON);null!=this.closeHandler&&this.closeHandler(c)};a.prototype.partAdded=function(c,a){d.prototype.partAdded.call(this,c,a);a==this.contentDisplay?
this.contentDisplay.text=this._contentText:a==this.firstButton?(this.firstButton.label=this._firstButtonLabel,this.firstButton.addEventListener(b.TouchEvent.TOUCH_TAP,this.onClose,this)):a==this.secondButton&&(this.secondButton.label=this._secondButtonLabel,this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel,this.secondButton.addEventListener(b.TouchEvent.TOUCH_TAP,this.onClose,this))};a.prototype.partRemoved=function(c,a){d.prototype.partRemoved.call(this,
c,a);a==this.firstButton?this.firstButton.removeEventListener(b.TouchEvent.TOUCH_TAP,this.onClose,this):a==this.secondButton&&this.secondButton.removeEventListener(b.TouchEvent.TOUCH_TAP,this.onClose,this)};a.FIRST_BUTTON="firstButton";a.SECOND_BUTTON="secondButton";a.CLOSE_BUTTON="closeButton";return a}(b.TitleWindow);b.Alert=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._slideDuration=500;this._direction=b.ProgressBarDirection.LEFT_TO_RIGHT;this.trackResizedOrMoved=!1;this.hostComponentKey="egret.ProgressBar"}__extends(a,d);Object.defineProperty(a.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(c){this._labelFunction!=c&&(this._labelFunction=c,this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.valueToLabel=function(c,a){return null!=this.labelFunction?
this._labelFunction(c,a):c+" / "+a};Object.defineProperty(a.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(c){this._slideDuration!=c&&(this._slideDuration=c,this.animator&&this.animator.isPlaying&&(this.animator.stop(),this._setValue(this.slideToValue)))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"direction",{get:function(){return this._direction},set:function(c){this._direction!=c&&(this._direction=c,this.invalidateDisplayList())},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._getValue()},set:function(c){this._getValue()!=c&&(this._setValue(c),0<this._slideDuration&&this.stage&&(this.validateProperties(),this.slideToValue=this.nearestValidValue(c,this.snapInterval),this.animator||(this.animator=new b.Animation(this.animationUpdateHandler,this)),this.animator.isPlaying&&(this.setValue(this.nearestValidValue(this.animator.motionPaths[0].valueTo,this.snapInterval)),this.animator.stop()),
this.slideToValue!=this._getValue()&&(c=this._slideDuration*(Math.abs(this._getValue()-this.slideToValue)/(this.maximum-this.minimum)),this.animator.duration=Infinity===c?0:c,this.animator.motionPaths=[{prop:"value",from:this._getValue(),to:this.slideToValue}],this.animator.play())))},enumerable:!0,configurable:!0});a.prototype.animationUpdateHandler=function(c){c=this.nearestValidValue(c.currentValue.value,this.snapInterval);this.animationValue=Math.min(this.maximum,Math.max(this.minimum,c));this.invalidateDisplayList()};
a.prototype.setValue=function(c){d.prototype.setValue.call(this,c);this.invalidateDisplayList()};a.prototype.updateDisplayList=function(c,a){d.prototype.updateDisplayList.call(this,c,a);this.updateSkinDisplayList()};a.prototype.partAdded=function(c,a){a==this.track&&this.track instanceof b.UIComponent&&(this.track.addEventListener(b.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.addEventListener(b.MoveEvent.MOVE,this.onTrackResizeOrMove,this))};a.prototype.partRemoved=function(c,a){a==
this.track&&this.track instanceof b.UIComponent&&(this.track.removeEventListener(b.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.removeEventListener(b.MoveEvent.MOVE,this.onTrackResizeOrMove,this))};a.prototype.onTrackResizeOrMove=function(c){this.trackResizedOrMoved=!0;this.invalidateProperties()};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this.trackResizedOrMoved&&(this.trackResizedOrMoved=!1,this.updateSkinDisplayList())};a.prototype.updateSkinDisplayList=
function(){this.trackResizedOrMoved=!1;var c=this.value;this.animator&&this.animator.isPlaying?c=this.animationValue:(c=this.value,isNaN(c)&&(c=0));var a=isNaN(this.maximum)?0:this.maximum;if(this.thumb&&this.track){var d=isNaN(this.track.width)?0:this.track.width,d=d*this.track.scaleX,e=isNaN(this.track.height)?0:this.track.height,e=e*this.track.scaleY,f=Math.round(c/a*d);if(isNaN(f)||0>f||Infinity===f)f=0;var h=Math.round(c/a*e);if(isNaN(h)||0>h||Infinity===h)h=0;var k=this.track.localToGlobal(0,
0),n=this.globalToLocal(k.x,k.y,b.Point.identity),k=n.x,n=n.y;switch(this._direction){case b.ProgressBarDirection.LEFT_TO_RIGHT:this.thumb.width=f;this.thumb.height=e;this.thumb.x=k;break;case b.ProgressBarDirection.RIGHT_TO_LEFT:this.thumb.width=f;this.thumb.height=e;this.thumb.x=k+d-f;break;case b.ProgressBarDirection.TOP_TO_BOTTOM:this.thumb.width=d;this.thumb.height=h;this.thumb.y=n;break;case b.ProgressBarDirection.BOTTOM_TO_TOP:this.thumb.width=d,this.thumb.height=h,this.thumb.y=n+e-h}}this.labelDisplay&&
(this.labelDisplay.text=this.valueToLabel(c,a))};return a}(b.Range);b.ProgressBar=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.LEFT_TO_RIGHT="leftToRight";b.RIGHT_TO_LEFT="rightToLeft";b.TOP_TO_BOTTOM="topToBottom";b.BOTTOM_TO_TOP="bottomToTop";return b}();b.ProgressBarDirection=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.hostComponentKey="egret.HSlider"}__extends(a,d);a.prototype.pointToValue=function(c,a){if(!this.thumb||!this.track)return 0;var b=this.maximum-this.minimum,d=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=d?c/d*b:0)};a.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var c=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,a=this.maximum-this.minimum,c=0<a?(this.pendingValue-
this.minimum)/a*c:0,d=this.track.localToGlobal(c,0),a=d.x,d=d.y,e=this.thumb.parent.globalToLocal(a,d,b.Point.identity).x;this.thumb.setLayoutBoundsPosition(Math.round(e),this.thumb.layoutBoundsY);this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent&&(a=this.trackHighlight.parent.globalToLocal(a,d,b.Point.identity).x-c,this.trackHighlight.x=Math.round(a),this.trackHighlight.width=Math.round(c))}};return a}(b.SliderBase);b.HSlider=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.hostComponentKey="egret.VSlider"}__extends(a,d);a.prototype.pointToValue=function(c,a){if(!this.thumb||!this.track)return 0;var b=this.maximum-this.minimum,d=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=d?(d-a)/d*b:0)};a.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var c=this.thumb.layoutBoundsHeight,a=this.track.layoutBoundsHeight-c,d=this.maximum-this.minimum,e=this.track.localToGlobal(0,
0<d?a-(this.pendingValue-this.minimum)/d*a:0),d=e.x,e=e.y,f=this.thumb.parent.globalToLocal(d,e,b.Point.identity).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(f));this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight._parent&&(d=this.trackHighlight._parent.globalToLocal(d,e,b.Point.identity).y,this.trackHighlight.y=Math.round(d+c),this.trackHighlight.height=Math.round(a-d))}};return a}(b.SliderBase);b.VSlider=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._allowMultipleSelection=!1;this._selectedIndices=[];this._captureItemRenderer=!0;this.hostComponentKey="egret.List";this.useVirtualLayout=!0}__extends(a,d);a.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=b.DataGroup.defaultRendererFactory);d.prototype.createChildren.call(this)};Object.defineProperty(a.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(c){this._setUseVirtualLayout(c)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"allowMultipleSelection",{get:function(){return this._allowMultipleSelection},set:function(c){this._allowMultipleSelection=c},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedIndices",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},set:function(c){this._setSelectedIndices(c,!1)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedIndex",
{get:function(){return this._proposedSelectedIndices?0<this._proposedSelectedIndices.length?this._proposedSelectedIndices[0]:-1:this._getSelectedIndex()},set:function(c){this._setSelectedIndex(c)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"selectedItems",{get:function(){var c=[],a=this.selectedIndices;if(a)for(var b=a.length,d=0;d<b;d++)c[d]=this.dataProvider.getItemAt(a[d]);return c},set:function(c){var a=[];if(c)for(var b=c.length,d=0;d<b;d++){var e=this.dataProvider.getItemIndex(c[d]);
-1!=e&&a.splice(0,0,e);if(-1==e){a=[];break}}this._setSelectedIndices(a,!1)},enumerable:!0,configurable:!0});a.prototype._setSelectedIndices=function(c,a){"undefined"===typeof a&&(a=!1);a&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||a);this._proposedSelectedIndices=c?c:[];this.invalidateProperties()};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this._proposedSelectedIndices&&this.commitSelection()};a.prototype.commitSelection=function(c){"undefined"===
typeof c&&(c=!0);var a=this._selectedIndex;if(this._proposedSelectedIndices){this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex);if(!this.allowMultipleSelection&&0<this._proposedSelectedIndices.length){var e=[];e.push(this._proposedSelectedIndices[0]);this._proposedSelectedIndices=e}this._proposedSelectedIndex=0<this._proposedSelectedIndices.length?this._proposedSelectedIndices[0]:-1}e=d.prototype.commitSelection.call(this,!1);if(!e)return this._proposedSelectedIndices=
null,!1;this.selectedIndex>b.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(this.selectedIndex)&&this._proposedSelectedIndices.push(this.selectedIndex):this._proposedSelectedIndices=[this.selectedIndex]);this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(a)&&this.itemSelected(a,!0),this.commitMultipleSelection());c&&e&&(this._dispatchChangeAfterSelection&&(b.IndexChangeEvent.dispatchIndexChangeEvent(this,b.IndexChangeEvent.CHANGE,
a,this._selectedIndex),this._dispatchChangeAfterSelection=!1),b.UIEvent.dispatchUIEvent(this,b.UIEvent.VALUE_COMMIT));return e};a.prototype.isValidIndex=function(c,a,b){return this.dataProvider&&0<=c&&c<this.dataProvider.length};a.prototype.commitMultipleSelection=function(){var c=[],a=[],b,d;if(0<this._selectedIndices.length&&0<this._proposedSelectedIndices.length){d=this._proposedSelectedIndices.length;for(b=0;b<d;b++)-1==this._selectedIndices.indexOf(this._proposedSelectedIndices[b])&&a.push(this._proposedSelectedIndices[b]);
d=this._selectedIndices.length;for(b=0;b<d;b++)-1==this._proposedSelectedIndices.indexOf(this._selectedIndices[b])&&c.push(this._selectedIndices[b])}else 0<this._selectedIndices.length?c=this._selectedIndices:0<this._proposedSelectedIndices.length&&(a=this._proposedSelectedIndices);this._selectedIndices=this._proposedSelectedIndices;if(0<c.length)for(d=c.length,b=0;b<d;b++)this.itemSelected(c[b],!1);if(0<a.length)for(d=a.length,b=0;b<d;b++)this.itemSelected(a[b],!0);this._proposedSelectedIndices=
null};a.prototype._isItemIndexSelected=function(c){return this._allowMultipleSelection?-1!=this._selectedIndices.indexOf(c):d.prototype._isItemIndexSelected.call(this,c)};a.prototype.dataGroup_rendererAddHandler=function(c){d.prototype.dataGroup_rendererAddHandler.call(this,c);c=c.renderer;null!=c&&(c.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.item_mouseDownHandler,this),c.addEventListener(b.TouchEvent.TOUCH_END,this.item_mouseUpHandler,this))};a.prototype.dataGroup_rendererRemoveHandler=function(c){d.prototype.dataGroup_rendererRemoveHandler.call(this,
c);c=c.renderer;null!=c&&(c.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.item_mouseDownHandler,this),c.removeEventListener(b.TouchEvent.TOUCH_END,this.item_mouseUpHandler,this))};a.prototype.item_mouseDownHandler=function(c){if(!c.isDefaultPrevented()){var a=c.currentTarget,d;d=a?a.itemIndex:this.dataGroup.getElementIndex(c.currentTarget);this._allowMultipleSelection?this._setSelectedIndices(this.calculateSelectedIndices(d,c.shiftKey,c.ctrlKey),!0):this._setSelectedIndex(d,!0);this._captureItemRenderer&&
(this.mouseDownItemRenderer=a,b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this))}};a.prototype.calculateSelectedIndices=function(c,a,b){var d=[];if(a)if(a=0<this._selectedIndices.length?this._selectedIndices[this._selectedIndices.length-1]:0,a<c)for(;a<=c;a++)d.splice(0,0,a);else for(;a>=c;a--)d.splice(0,0,a);else if(b)if(0<this._selectedIndices.length)if(1==this._selectedIndices.length&&
this._selectedIndices[0]==c){if(!this.requireSelection)return d;d.splice(0,0,this._selectedIndices[0])}else{b=!1;for(a=0;a<this._selectedIndices.length;a++)this._selectedIndices[a]==c?b=!0:this._selectedIndices[a]!=c&&d.splice(0,0,this._selectedIndices[a]);b||d.splice(0,0,c)}else d.splice(0,0,c);else d.splice(0,0,c);return d};a.prototype.item_mouseUpHandler=function(a){var d=a.currentTarget;d==this.mouseDownItemRenderer&&this._dispatchListEvent(a,b.ListEvent.ITEM_CLICK,d)};a.prototype.stage_mouseUpHandler=
function(a){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.mouseDownItemRenderer=null};return a}(b.ListBase);b.List=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._displayPopUp=this._popUpWidthMatchesAnchorWidth=this._popUpHeightMatchesAnchorHeight=this.addedToStage=this.popUpIsDisplayed=!1;this._popUpPosition=b.PopUpPosition.TOP_LEFT;this.inAnimation=!1;this.animator=null;this._openDuration=250;this._closeDuration=150;this.valueRange=1;this.addEventListener(b.Event.ADDED_TO_STAGE,this.addedToStageHandler,this);this.addEventListener(b.Event.REMOVED_FROM_STAGE,this.removedFromStageHandler,this)}__extends(a,
d);Object.defineProperty(a.prototype,"popUpHeightMatchesAnchorHeight",{get:function(){return this._popUpHeightMatchesAnchorHeight},set:function(a){this._popUpHeightMatchesAnchorHeight!=a&&(this._popUpHeightMatchesAnchorHeight=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"popUpWidthMatchesAnchorWidth",{get:function(){return this._popUpWidthMatchesAnchorWidth},set:function(a){this._popUpWidthMatchesAnchorWidth!=a&&(this._popUpWidthMatchesAnchorWidth=
a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"displayPopUp",{get:function(){return this._displayPopUp},set:function(a){this._displayPopUp!=a&&(this._displayPopUp=a,this.addOrRemovePopUp())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"popUp",{get:function(){return this._popUp},set:function(a){this._popUp!=a&&(this._popUp=a,this.dispatchEventWith("popUpChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"popUpPosition",{get:function(){return this._popUpPosition},set:function(a){this._popUpPosition!=a&&(this._popUpPosition=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});a.prototype.updateDisplayList=function(a,b){d.prototype.updateDisplayList.call(this,a,b);this.applyPopUpTransform(a,b)};a.prototype.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)};a.prototype.calculatePopUpPosition=function(){var a=b.Point.identity;switch(this._popUpPosition){case b.PopUpPosition.BELOW:a.x=
0;a.y=this.height;break;case b.PopUpPosition.ABOVE:a.x=0;a.y=-this.popUp.layoutBoundsHeight;break;case b.PopUpPosition.LEFT:a.x=-this.popUp.layoutBoundsWidth;a.y=0;break;case b.PopUpPosition.RIGHT:a.x=this.width;a.y=0;break;case b.PopUpPosition.CENTER:a.x=0.5*(this.width-this.popUp.layoutBoundsWidth),a.y=0.5*(this.height-this.popUp.layoutBoundsHeight)}a=this.localToGlobal(a.x,a.y,a);return a=this.popUp.parent.globalToLocal(a.x,a.y,a)};Object.defineProperty(a.prototype,"openDuration",{get:function(){return this._openDuration},
set:function(a){this._openDuration=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"closeDuration",{get:function(){return this._closeDuration},set:function(a){this._closeDuration=a},enumerable:!0,configurable:!0});a.prototype.animationStartHandler=function(a){this.inAnimation=!0;this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)};a.prototype.animationUpdateHandler=function(a){var d=this.popUp._scrollRect,e=Math.round(a.currentValue.x);a=Math.round(a.currentValue.y);d?
(d.x=e,d.y=a,d.width=this.popUp.width,d.height=this.popUp.height):this.popUp._scrollRect=new b.Rectangle(e,a,this.popUp.width,this.popUp.height)};a.prototype.animationEndHandler=function(a){this.inAnimation=!1;this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0);this.popUp.scrollRect=null;this.popUpIsDisplayed||(b.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))};a.prototype.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?
(b.PopUpManager.addPopUp(this.popUp,!1,!1),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),0<this._openDuration&&this.startAnimation()):b.callLater(function(){0<this.openDuration&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())};a.prototype.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end();this.popUpIsDisplayed=!1;
0<this._closeDuration?this.startAnimation():(b.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))};a.prototype.applyPopUpTransform=function(a,b){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=a);this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=b);"validateNow"in this.popUp&&this.popUp.validateNow();var d=this.calculatePopUpPosition();this.popUp.x=d.x;this.popUp.y=d.y}};a.prototype.startAnimation=function(){this.animator||(this.animator=new b.Animation(this.animationUpdateHandler,
this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler);this.animator.motionPaths=this.createMotionPath();this.animator.duration=this.popUpIsDisplayed?this._openDuration:this._closeDuration;this.animator.play()};a.prototype.createMotionPath=function(){var a={prop:"x"},d={prop:"y"},e=[a,d];switch(this._popUpPosition){case b.PopUpPosition.TOP_LEFT:case b.PopUpPosition.CENTER:case b.PopUpPosition.BELOW:a.from=a.to=0;d.from=this.popUp.height;d.to=
0;this.valueRange=this.popUp.height;break;case b.PopUpPosition.ABOVE:a.from=a.to=0;d.from=-this.popUp.height;d.to=0;this.valueRange=this.popUp.height;break;case b.PopUpPosition.LEFT:d.from=d.to=0;a.from=-this.popUp.width;a.to=0;this.valueRange=this.popUp.width;break;case b.PopUpPosition.RIGHT:d.from=d.to=0;a.from=this.popUp.width;a.to=0;this.valueRange=this.popUp.width;break;default:this.valueRange=1}this.valueRange=Math.abs(this.valueRange);if(!this.popUpIsDisplayed){var g=a.from;a.from=a.to;a.to=
g;g=d.from;d.from=d.to;d.to=g}return e};a.prototype.addedToStageHandler=function(a){this.addedToStage=!0;b.callLater(this.checkPopUpState,this)};a.prototype.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()};a.prototype.removedFromStageHandler=function(a){this.addedToStage=!1;b.callLater(this.checkPopUpState,this)};return a}(b.UIComponent);b.PopUpAnchor=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._isOpen=!1;this._closeOnResize=!0;this._rollOverOpenDelay=NaN}__extends(a,d);Object.defineProperty(a.prototype,"openButton",{get:function(){return this._openButton},set:function(a){this._openButton!==a&&(this.removeOpenTriggers(),this._openButton=a,this.addOpenTriggers())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"dropDown",{get:function(){return this._dropDown},set:function(a){this._dropDown!==a&&(this._dropDown=
a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"closeOnResize",{get:function(){return this._closeOnResize},set:function(a){this._closeOnResize!=a&&(this.isOpen&&this.removeCloseOnResizeTrigger(),this._closeOnResize=a,this.addCloseOnResizeTrigger())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rollOverOpenDelay",{get:function(){return this._rollOverOpenDelay},
set:function(a){this._rollOverOpenDelay!=a&&(this.removeOpenTriggers(),this._rollOverOpenDelay=a,this.addOpenTriggers())},enumerable:!0,configurable:!0});a.prototype.addOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.addEventListener(b.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.addEventListener(b.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))};a.prototype.removeOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?
this.openButton.removeEventListener(b.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.removeEventListener(b.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))};a.prototype.addCloseTriggers=function(){b.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):
b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),this.addCloseOnResizeTrigger())};a.prototype.removeCloseTriggers=function(){b.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):(b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,
this),b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)),this.removeCloseOnResizeTrigger())};a.prototype.addCloseOnResizeTrigger=function(){this.closeOnResize&&b.UIGlobals.stage.addEventListener(b.Event.RESIZE,this.stage_resizeHandler,this)};a.prototype.removeCloseOnResizeTrigger=function(){this.closeOnResize&&b.UIGlobals.stage.removeEventListener(b.Event.RESIZE,this.stage_resizeHandler,
this)};a.prototype.isTargetOverDropDownOrOpenButton=function(a){if(a){if(this.openButton&&this.openButton.contains(a))return!0;if(null!=this.hitAreaAdditions)for(var d=0;d<this.hitAreaAdditions.length;d++)if(this.hitAreaAdditions[d]==a||this.hitAreaAdditions[d]instanceof b.DisplayObjectContainer&&this.hitAreaAdditions[d].contains(a))return!0;if(this.dropDown instanceof b.DisplayObjectContainer){if(this.dropDown.contains(a))return!0}else if(a==this.dropDown)return!0}return!1};a.prototype.openDropDown=
function(){this.openDropDownHelper()};a.prototype.openDropDownHelper=function(){this.isOpen||(this.addCloseTriggers(),this._isOpen=!0,this.openButton&&this.openButton._setKeepDown(!0),b.UIEvent.dispatchUIEvent(this,b.UIEvent.OPEN))};a.prototype.closeDropDown=function(a){if(this.isOpen){this._isOpen=!1;this.openButton&&this.openButton._setKeepDown(!1);var d=new b.UIEvent(b.UIEvent.CLOSE,!1,!0);a||d.preventDefault();this.dispatchEvent(d);this.removeCloseTriggers()}};a.prototype._openButton_buttonDownHandler=
function(a){this.isOpen?this.closeDropDown(!0):(this.mouseIsDown=!0,this.openDropDownHelper())};a.prototype._openButton_rollOverHandler=function(a){0==this.rollOverOpenDelay?this.openDropDownHelper():(this.openButton.addEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=new b.Timer(this.rollOverOpenDelay,1),this.rollOverOpenDelayTimer.addEventListener(b.TimerEvent.TIMER_COMPLETE,this.rollOverDelay_timerCompleteHandler,this),this.rollOverOpenDelayTimer.start())};
a.prototype.openButton_rollOutHandler=function(a){this.rollOverOpenDelayTimer&&this.rollOverOpenDelayTimer.running&&(this.rollOverOpenDelayTimer.stop(),this.rollOverOpenDelayTimer=null);this.openButton.removeEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this)};a.prototype.rollOverDelay_timerCompleteHandler=function(a){this.openButton.removeEventListener(b.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this);this.rollOverOpenDelayTimer=null;this.openDropDownHelper()};
a.prototype.stage_mouseDownHandler=function(a){if(this.mouseIsDown)this.mouseIsDown=!1;else if(!this.dropDown||this.dropDown&&(a.target==this.dropDown||this.dropDown instanceof b.DisplayObjectContainer&&!this.dropDown.contains(a.target))){var d=a.target;if(!(this.openButton&&d&&this.openButton.contains(d))){if(null!=this.hitAreaAdditions)for(d=0;d<this.hitAreaAdditions.length;d++)if(this.hitAreaAdditions[d]==a.target||this.hitAreaAdditions[d]instanceof b.DisplayObjectContainer&&this.hitAreaAdditions[d].contains(a.target))return;
this.closeDropDown(!0)}}};a.prototype.stage_mouseMoveHandler=function(a){this.isTargetOverDropDownOrOpenButton(a.target)||(a instanceof b.TouchEvent&&a.touchDown?(b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):this.closeDropDown(!0))};a.prototype.stage_mouseUpHandler_noRollOverOpenDelay=function(a){this.mouseIsDown&&(this.mouseIsDown=!1)};a.prototype.stage_mouseUpHandler=
function(a){this.isTargetOverDropDownOrOpenButton(a.target)?(b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):this.closeDropDown(!0)};a.prototype.stage_resizeHandler=function(a){this.closeDropDown(!0)};a.prototype.stage_mouseWheelHandler=function(a){!this.dropDown||this.dropDown.contains(a.target)&&a.isDefaultPrevented()||this.closeDropDown(!1)};return a}(b.EventDispatcher);
b.DropDownController=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._labelChanged=!1;this._userProposedSelectedIndex=b.ListBase.NO_SELECTION;this._captureItemRenderer=!1;this.dropDownController=new b.DropDownController}__extends(a,d);a.prototype._setDataProvider=function(a){this.dataProvider!==a&&(d.prototype._setDataProvider.call(this,a),this._labelChanged=!0,this.invalidateProperties())};a.prototype._setLabelField=function(a){this.labelField!=a&&(d.prototype._setLabelField.call(this,a),this._labelChanged=
!0,this.invalidateProperties())};a.prototype._setLabelFunction=function(a){this.labelFunction!=a&&(d.prototype._setLabelFunction.call(this,a),this._labelChanged=!0,this.invalidateProperties())};Object.defineProperty(a.prototype,"dropDownController",{get:function(){return this._dropDownController},set:function(a){this._dropDownController!=a&&(this._dropDownController=a,this._dropDownController.addEventListener(b.UIEvent.OPEN,this._dropDownController_openHandler,this),this._dropDownController.addEventListener(b.UIEvent.CLOSE,
this.dropDownController_closeHandler,this),this.openButton&&(this._dropDownController.openButton=this.openButton),this.dropDown&&(this._dropDownController.dropDown=this.dropDown))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDropDownOpen",{get:function(){return this.dropDownController?this.dropDownController.isOpen:!1},enumerable:!0,configurable:!0});a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);this._labelChanged&&(this._labelChanged=!1,
this.updateLabelDisplay())};a.prototype.partAdded=function(a,b){d.prototype.partAdded.call(this,a,b);b==this.openButton?this.dropDownController&&(this.dropDownController.openButton=this.openButton):b==this.dropDown&&this.dropDownController&&(this.dropDownController.dropDown=this.dropDown)};a.prototype.partRemoved=function(a,b){this.dropDownController&&(b==this.openButton&&(this.dropDownController.openButton=null),b==this.dropDown&&(this.dropDownController.dropDown=null));d.prototype.partRemoved.call(this,
a,b)};a.prototype.getCurrentSkinState=function(){return this.enabled?this.isDropDownOpen?"open":"normal":"disabled"};a.prototype.commitSelection=function(a){"undefined"===typeof a&&(a=!0);a=d.prototype.commitSelection.call(this,a);this.updateLabelDisplay();return a};a.prototype._isItemIndexSelected=function(a){return this._userProposedSelectedIndex==a};a.prototype.openDropDown=function(){this.dropDownController.openDropDown()};a.prototype.closeDropDown=function(a){this.dropDownController.closeDropDown(a)};
a.prototype.updateLabelDisplay=function(a){};a.prototype._changeHighlightedSelection=function(a,b){this.itemSelected(this._userProposedSelectedIndex,!1);this._userProposedSelectedIndex=a;this.itemSelected(this._userProposedSelectedIndex,!0)};a.prototype.dataProvider_collectionChangeHandler=function(a){d.prototype.dataProvider_collectionChangeHandler.call(this,a);this._labelChanged=!0;this.invalidateProperties()};a.prototype.item_mouseDownHandler=function(a){d.prototype.item_mouseDownHandler.call(this,
a);this._dispatchListEvent(a,b.ListEvent.ITEM_CLICK,a.currentTarget);this._userProposedSelectedIndex=this.selectedIndex;this.closeDropDown(!0)};a.prototype._dropDownController_openHandler=function(a){this.addEventListener(b.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this);this._userProposedSelectedIndex=this.selectedIndex;this.invalidateSkinState()};a.prototype._open_updateCompleteHandler=function(a){this.removeEventListener(b.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,
this);b.UIEvent.dispatchUIEvent(this,b.UIEvent.OPEN)};a.prototype.dropDownController_closeHandler=function(a){this.addEventListener(b.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this);this.invalidateSkinState();a.isDefaultPrevented()?this._changeHighlightedSelection(this.selectedIndex):this._setSelectedIndex(this._userProposedSelectedIndex,!0)};a.prototype.close_updateCompleteHandler=function(a){this.removeEventListener(b.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this);
b.UIEvent.dispatchUIEvent(this,b.UIEvent.CLOSE)};a.PAGE_SIZE=5;return a}(b.List);b.DropDownListBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.iconFieldOrFunctionChanged=!1;this.hostComponentKey="egret.Tree"}__extends(a,d);a.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=a.defaultTreeRendererFactory);d.prototype.createChildren.call(this)};a.prototype.updateRenderer=function(a,b,e){if("hasChildren"in a&&"hasChildren"in this.dataProvider){var g=this.dataProvider;a.hasChildren=g.hasChildren(e);a.opened=g.isItemOpen(e);a.depth=g.getDepth(e);a.iconSkinName=
this.itemToIcon(e)}return d.prototype.updateRenderer.call(this,a,b,e)};a.prototype.itemToIcon=function(a){if(!a)return null;if(null!=this._iconFunction)return this._iconFunction(a);var b;if(a instanceof Object)try{a[this.iconField]&&(b=a[this.iconField])}catch(d){}return b};a.prototype.dataGroup_rendererAddHandler=function(a){d.prototype.dataGroup_rendererAddHandler.call(this,a);a.renderer&&"hasChildren"in a.renderer&&a.renderer.addEventListener(b.TreeEvent.ITEM_OPENING,this.onItemOpening,this)};
a.prototype.onItemOpening=function(a){var d=a.itemRenderer,e=a.item,g=this._getDataProvider();d&&g&&"hasChildren"in g&&this.dispatchEvent(a)&&(a=!d.opened,g.expandItem(e,a),b.TreeEvent.dispatchTreeEvent(this,a?b.TreeEvent.ITEM_OPEN:b.TreeEvent.ITEM_CLOSE,d.itemIndex,e,d))};a.prototype.dataGroup_rendererRemoveHandler=function(a){d.prototype.dataGroup_rendererRemoveHandler.call(this,a);a.renderer&&"hasChildren"in a.renderer&&a.renderer.removeEventListener(b.TreeEvent.ITEM_OPENING,this.onItemOpening,
this)};Object.defineProperty(a.prototype,"iconField",{get:function(){return this._iconField},set:function(a){this._iconField!=a&&(this._iconField=a,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"iconFunction",{get:function(){return this._iconFunction},set:function(a){this._iconFunction!=a&&(this._iconFunction=a,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.expandItem=
function(a,b){"undefined"===typeof b&&(b=!0);var d=this._getDataProvider();d&&"hasChildren"in d&&d.expandItem(a,b)};a.prototype.isItemOpen=function(a){var b=this._getDataProvider();return b&&"hasChildren"in b?b.isItemOpen(a):!1};a.prototype.dataProvider_collectionChangeHandler=function(a){d.prototype.dataProvider_collectionChangeHandler.call(this,a);if(a.kind==b.CollectionEventKind.OPEN||a.kind==b.CollectionEventKind.CLOSE){var e=this.dataGroup?this.dataGroup.getElementAt(a.location):null;e&&(this.updateRenderer(e,
a.location,a.items[0]),a.kind==b.CollectionEventKind.CLOSE&&this.layout&&this.layout.useVirtualLayout&&(this.layout.clearVirtualLayoutCache(),this.invalidateSize()))}};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);if(this.iconFieldOrFunctionChanged){if(null!=this.dataGroup){var a;if(this.layout&&this.layout.useVirtualLayout)for(var b=this.dataGroup.getElementIndicesInView(),e=b.length,g=0;g<e;g++)a=b[g],this.updateRendererIconProperty(a);else for(b=this.dataGroup.numElements,
a=0;a<b;a++)this.updateRendererIconProperty(a)}this.iconFieldOrFunctionChanged=!1}};a.prototype.updateRendererIconProperty=function(a){if(a=this.dataGroup.getElementAt(a))a.iconSkinName=this.itemToIcon(a.data)};a.defaultTreeRendererFactory=new b.ClassFactory(b.TreeItemRenderer);return a}(b.List);b.Tree=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._prompt="";this.hostComponentKey="egret.DropDownList"}__extends(a,b);Object.defineProperty(a.prototype,"prompt",{get:function(){return this._prompt},set:function(a){this._prompt!=a&&(this._prompt=a,this._labelChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.partAdded=function(a,e){b.prototype.partAdded.call(this,a,e);e==this.labelDisplay&&(this._labelChanged=!0,this.invalidateProperties())};a.prototype.updateLabelDisplay=
function(a){"undefined"===typeof a&&(a=void 0);this.labelDisplay&&(void 0==a&&(a=this.selectedItem),this.labelDisplay.text=null!=a&&void 0!=a?this.itemToLabel(a):this._prompt)};return a}(b.DropDownListBase);b.DropDownList=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._allowDeselection=!0;this.hostComponentKey="egret.TabBarButton"}__extends(a,b);Object.defineProperty(a.prototype,"allowDeselection",{get:function(){return this._allowDeselection},set:function(a){this._allowDeselection=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a;this.dispatchEventWith("dataChange")},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"itemIndex",{get:function(){return this._itemIndex},set:function(a){this._itemIndex=a},enumerable:!0,configurable:!0});a.prototype._setLabel=function(a){a!=this._getLabel()&&(b.prototype._setLabel.call(this,a),this.labelDisplay&&(this.labelDisplay.text=this._getLabel()))};a.prototype.buttonReleased=function(){this.selected&&!this.allowDeselection||b.prototype.buttonReleased.call(this)};return a}(b.ToggleButtonBase);b.TabBarButton=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.hostComponentKey="egret.TabBar";this.requireSelection=!0}__extends(a,d);a.prototype.c=function(a){a!=this._requireSelection&&(d.prototype._setRequireSelection.call(this,a),this.requireSelectionChanged_tabBar=!0,this.invalidateProperties())};a.prototype._setDataProvider=function(a){this.dataProvider instanceof b.ViewStack&&(this.dataProvider.removeEventListener("IndexChanged",this.onViewStackIndexChange,this),this.removeEventListener(b.IndexChangeEvent.CHANGE,
this.onIndexChanged,this));a instanceof b.ViewStack&&(a.addEventListener("IndexChanged",this.onViewStackIndexChange,this),this.addEventListener(b.IndexChangeEvent.CHANGE,this.onIndexChanged,this));d.prototype._setDataProvider.call(this,a)};a.prototype.onIndexChanged=function(a){this.dataProvider._setSelectedIndex(a.newIndex,!1)};a.prototype.onViewStackIndexChange=function(a){this._setSelectedIndex(this.dataProvider.selectedIndex,!1)};a.prototype.commitProperties=function(){d.prototype.commitProperties.call(this);
if(this.requireSelectionChanged_tabBar&&this.dataGroup){this.requireSelectionChanged_tabBar=!1;for(var a=this.dataGroup.numElements,b=0;b<a;b++){var e=this.dataGroup.getElementAt(b);e&&(e.allowDeselection=!this.requireSelection)}}};a.prototype.dataGroup_rendererAddHandler=function(a){d.prototype.dataGroup_rendererAddHandler.call(this,a);if(a=a.renderer)a.addEventListener(b.TouchEvent.TOUCH_TAP,this.item_clickHandler,this),a instanceof b.TabBarButton&&(a.allowDeselection=!this.requireSelection)};a.prototype.dataGroup_rendererRemoveHandler=
function(a){d.prototype.dataGroup_rendererRemoveHandler.call(this,a);(a=a.renderer)&&a.removeEventListener(b.TouchEvent.TOUCH_TAP,this.item_clickHandler,this)};a.prototype.item_clickHandler=function(a){var d=a.currentTarget,e;e=d?d.itemIndex:this.dataGroup.getElementIndex(a.currentTarget);e==this.selectedIndex?this.requireSelection||this._setSelectedIndex(b.ListBase.NO_SELECTION,!0):this._setSelectedIndex(e,!0);this._dispatchListEvent(a,b.ListEvent.ITEM_CLICK,d)};return a}(b.ListBase);b.TabBar=e})(egret||
(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._horizontalScrollPolicy=this._verticalScrollPolicy="auto";this.ignoreTouchBegin=!1;this._velocityY=this._velocityX=0;this._previousVelocityX=[];this._previousVelocityY=[]}__extends(a,d);a.prototype.measure=function(){this._viewport&&(this.measuredWidth=this._viewport.preferredWidth,this.measuredHeight=this._viewport.preferredHeight)};a.prototype.updateDisplayList=function(a,b){this._viewport.setLayoutBoundsSize(a,b)};Object.defineProperty(a.prototype,
"verticalScrollPolicy",{get:function(){return this._verticalScrollPolicy},set:function(a){this._verticalScrollPolicy=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"horizontalScrollPolicy",{get:function(){return this._horizontalScrollPolicy},set:function(a){this._horizontalScrollPolicy=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"viewport",{get:function(){return this._viewport},set:function(a){a!=this._viewport&&(this.uninstallViewport(),this._viewport=
a,this.installViewport(),this.dispatchEventWith("viewportChanged"))},enumerable:!0,configurable:!0});a.prototype.installViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!0,this.viewport.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.viewport.addEventListener(b.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),this.viewport.addEventListener(b.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),this._addToDisplayListAt(this.viewport,0))};a.prototype.uninstallViewport=
function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.viewport.removeEventListener(b.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),this.viewport.removeEventListener(b.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),this._removeFromDisplayList(this.viewport))};a.prototype.onTouchEndCapture=function(a){this.delayTouchBeginEvent&&(a.stopPropagation(),this.delayTouchEndEvent=this.cloneTouchEvent(a),
this.onTouchBeginTimer(),this.touchEndTimer||(this.touchEndTimer=new b.Timer(100,1),this.touchEndTimer.addEventListener(b.TimerEvent.TIMER_COMPLETE,this.onTouchEndTimer,this)),this.touchEndTimer.start())};a.prototype.onTouchEndTimer=function(a){this.touchEndTimer.stop();a=this.delayTouchEndEvent;this.delayTouchEndEvent=null;this.dispatchPropagationEvent(a)};a.prototype.dispatchPropagationEvent=function(a){for(var b=[],d=a._target;d;)b.push(d),d=d.parent;for(var e=this._viewport,f=1;;f+=2){d=b[f];
if(!d||d===e)break;b.unshift(d)}d=b.indexOf(a._target);this._dispatchPropagationEvent(a,b,d)};a.prototype.onTouchBeginCapture=function(c){var d=this.checkScrollPolicy();if(d){for(var e=c.target;e!=this;){if(e instanceof a&&(d=e.checkScrollPolicy()))return;e=e.parent}this.delayTouchEndEvent&&(this.delayTouchEndEvent=null,this.touchEndTimer.stop());c.stopPropagation();this.delayTouchBeginEvent=this.cloneTouchEvent(c);this.touchBeginTimer||(this.touchBeginTimer=new b.Timer(100,1),this.touchBeginTimer.addEventListener(b.TimerEvent.TIMER_COMPLETE,
this.onTouchBeginTimer,this));this.touchBeginTimer.start();this.onTouchBegin(c)}};a.prototype.cloneTouchEvent=function(a){var d=new b.TouchEvent(a._type,a._bubbles,a.cancelable);d.touchPointID=a.touchPointID;d._stageX=a._stageX;d._stageY=a._stageY;d.ctrlKey=a.ctrlKey;d.altKey=a.altKey;d.shiftKey=a.shiftKey;d.touchDown=a.touchDown;d._isDefaultPrevented=!1;d._target=a._target;return d};a.prototype.onTouchBeginTimer=function(a){this.touchBeginTimer.stop();a=this.delayTouchBeginEvent;this.delayTouchBeginEvent=
null;this.dispatchPropagationEvent(a)};a.prototype.checkScrollPolicy=function(){var a=this._viewport,b;switch(this._horizontalScrollPolicy){case "auto":b=a.contentWidth>a.width?!0:!1;break;case "on":b=!0;break;case "off":b=!1}this._horizontalCanScroll=b;var d;switch(this._verticalScrollPolicy){case "auto":d=a.contentHeight>a.height?!0:!1;break;case "on":d=!0;break;case "off":d=!1}this._verticalCanScroll=d;return b||d};a.prototype.onTouchBegin=function(a){if(!a.isDefaultPrevented()&&this.checkScrollPolicy()){this.verticalAnimator&&
this.verticalAnimator.isPlaying&&this.verticalAnimator.stop();this.horizontalAnimator&&this.horizontalAnimator.isPlaying&&this.horizontalAnimator.stop();var d=this._viewport,e=d.horizontalScrollPosition,d=d.verticalScrollPosition;this._offsetPointX=e+a.stageX;this._offsetPointY=d+a.stageY;this._velocityY=this._velocityX=0;this._previousVelocityX.length=0;this._previousVelocityY.length=0;this._previousTouchTime=b.getTimer();this._previousTouchX=this._startTouchX=this._currentTouchX=a.stageX;this._previousTouchY=
this._startTouchY=this._currentTouchY=a.stageY;this._startHorizontalScrollPosition=e;this._startVerticalScrollPosition=d;b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);b.UIGlobals.stage.addEventListener(b.TouchEvent.TOUCH_END,this.onTouchEnd,this);b.UIGlobals.stage.addEventListener(b.Event.LEAVE_STAGE,this.onTouchEnd,this);this.addEventListener(b.Event.ENTER_FRAME,this.enterFrameHandler,this);a.preventDefault()}};a.prototype.onTouchMove=function(a){this._currentTouchX=
a.stageX;this._currentTouchY=a.stageY;this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop());var b=this._viewport;if(this._horizontalCanScroll){var d=this._offsetPointX-a.stageX;0>d&&(d*=0.5);d>b.contentWidth-b.width&&(d=0.5*(d+b.contentWidth-b.width));b.horizontalScrollPosition=d}this._verticalCanScroll&&(a=this._offsetPointY-a.stageY,0>a&&(a*=0.5),a>b.contentHeight-b.height&&(a=0.5*(a+b.contentHeight-b.height)),b.verticalScrollPosition=a)};a.prototype.onTouchEnd=
function(a){b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);b.UIGlobals.stage.removeEventListener(b.TouchEvent.TOUCH_END,this.onTouchEnd,this);b.UIGlobals.stage.removeEventListener(b.Event.LEAVE_STAGE,this.onTouchEnd,this);this.removeEventListener(b.Event.ENTER_FRAME,this.enterFrameHandler,this);this._horizontalCanScroll&&this.checkHorizontalScrollPosition();this._verticalCanScroll&&this.checkVerticalScrollPosition()};a.easeOut=function(a){a-=1;return a*a*a+1};
a.prototype.enterFrameHandler=function(a){a=b.getTimer();var d=a-this._previousTouchTime;0<d&&(this._previousVelocityX[this._previousVelocityX.length]=this._velocityX,4<this._previousVelocityX.length&&this._previousVelocityX.shift(),this._previousVelocityY[this._previousVelocityY.length]=this._velocityY,4<this._previousVelocityY.length&&this._previousVelocityY.shift(),this._velocityX=(this._currentTouchX-this._previousTouchX)/d,this._velocityY=(this._currentTouchY-this._previousTouchY)/d,this._previousTouchTime=
a,this._previousTouchX=this._currentTouchX,this._previousTouchY=this._currentTouchY);a=Math.abs(this._currentTouchX-this._startTouchX);d=Math.abs(this._currentTouchY-this._startTouchY);this._horizontalCanScroll&&0.04<=a&&(this._startTouchX=this._currentTouchX,this._startHorizontalScrollPosition=this._viewport.horizontalScrollPosition);this._verticalCanScroll&&0.04<=d&&(this._startTouchY=this._currentTouchY,this._startVerticalScrollPosition=this._viewport.verticalScrollPosition)};a.prototype.checkHorizontalScrollPosition=
function(){for(var c=this._viewport,b=c.horizontalScrollPosition,c=c.contentWidth-c.width,c=Math.max(0,c),d=2.33*this._velocityX,e=this._previousVelocityX.length,f=2.33,h=0;h<e;h++)var k=a.VELOCITY_WEIGHTS[h],d=d+this._previousVelocityX.shift()*k,f=f+k;d/=f;0.02>=Math.abs(d)?this.finishScrollingHorizontally():(b=this.getAnimationDatas(d,b,c),this.throwHorizontally(b[0],b[1]))};a.prototype.checkVerticalScrollPosition=function(){for(var c=this._viewport,b=c.verticalScrollPosition,c=c.contentHeight-
c.height,d=2.33*this._velocityY,e=this._previousVelocityY.length,f=2.33,h=0;h<e;h++)var k=a.VELOCITY_WEIGHTS[h],d=d+this._previousVelocityY.shift()*k,f=f+k;d/=f;0.02>=Math.abs(d)?this.finishScrollingVertically():(b=this.getAnimationDatas(d,b,c),this.throwVertically(b[0],b[1]))};a.prototype.getAnimationDatas=function(c,b,d){var e=Math.abs(c),f=0,h=b+(c-0.02)/Math.log(0.998);if(0>h||h>d)for(h=b;0.02<Math.abs(c);)h-=c,c=0>h||h>d?0.998*c*0.95:0.998*c,f++;else f=Math.log(0.02/e)/Math.log(0.998);a.animationData||
(a.animationData=[0,0]);c=a.animationData;c[0]=h;c[1]=f;return c};a.prototype.finishScrollingHorizontally=function(a){var b=this._viewport;a=b.horizontalScrollPosition;var b=b.contentWidth-b.width,d=a;0>a&&(d=0);a>b&&(d=b);this.throwHorizontally(d,300)};a.prototype.throwHorizontally=function(c,d){"undefined"===typeof d&&(d=500);var e=this._viewport.horizontalScrollPosition;e!=c&&(this.horizontalAnimator||(this.horizontalAnimator=new b.Animation(this.horizontalUpdateHandler,this),this.horizontalAnimator.endFunction=
this.finishScrollingHorizontally,this.horizontalAnimator.easerFunction=a.easeOut),this.horizontalAnimator.isPlaying&&this.horizontalAnimator.stop(),this.horizontalAnimator.duration=d,this.horizontalAnimator.motionPaths=[{prop:"hsp",from:e,to:c}],this.horizontalAnimator.play())};a.prototype.horizontalUpdateHandler=function(a){this._viewport.horizontalScrollPosition=a.currentValue.hsp};a.prototype.finishScrollingVertically=function(a){var b=this._viewport;a=b.verticalScrollPosition;var b=b.contentHeight-
b.height,b=Math.max(0,b),d=a;0>a&&(d=0);a>b&&(d=b);this.throwVertically(d,300)};a.prototype.throwVertically=function(c,d){"undefined"===typeof d&&(d=500);var e=this._viewport.verticalScrollPosition;e!=c&&(this.verticalAnimator||(this.verticalAnimator=new b.Animation(this.verticalUpdateHandler,this),this.verticalAnimator.endFunction=this.finishScrollingVertically,this.verticalAnimator.easerFunction=a.easeOut),this.verticalAnimator.isPlaying&&this.verticalAnimator.stop(),this.verticalAnimator.duration=
d,this.verticalAnimator.motionPaths=[{prop:"vsp",from:e,to:c}],this.verticalAnimator.play())};a.prototype.verticalUpdateHandler=function(a){this._viewport.verticalScrollPosition=a.currentValue.vsp};Object.defineProperty(a.prototype,"numElements",{get:function(){return this.viewport?1:0},enumerable:!0,configurable:!0});a.prototype.throwRangeError=function(a){throw new RangeError('\u7d22\u5f15:"'+a+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};a.prototype.getElementAt=function(a){if(this.viewport&&
0==a)return this.viewport;this.throwRangeError(a);return null};a.prototype.getElementIndex=function(a){return null!=a&&a==this.viewport?0:-1};a.prototype.containsElement=function(a){return null!=a&&a==this.viewport?!0:!1};a.prototype.throwNotSupportedError=function(){throw Error("\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!");};a.prototype.addElement=function(a){this.throwNotSupportedError();return null};a.prototype.addElementAt=function(a,b){this.throwNotSupportedError();
return null};a.prototype.removeElement=function(a){this.throwNotSupportedError();return null};a.prototype.removeElementAt=function(a){this.throwNotSupportedError();return null};a.prototype.removeAllElements=function(){this.throwNotSupportedError()};a.prototype.setElementIndex=function(a,b){this.throwNotSupportedError()};a.prototype.swapElements=function(a,b){this.throwNotSupportedError()};a.prototype.swapElementsAt=function(a,b){this.throwNotSupportedError()};a.prototype.addChild=function(a){this.throwNotSupportedError();
return null};a.prototype.addChildAt=function(a,b){this.throwNotSupportedError();return null};a.prototype.removeChild=function(a){this.throwNotSupportedError();return null};a.prototype.removeChildAt=function(a){this.throwNotSupportedError();return null};a.prototype.setChildIndex=function(a,b){this.throwNotSupportedError()};a.prototype.swapChildren=function(a,b){this.throwNotSupportedError()};a.prototype.swapChildrenAt=function(a,b){this.throwNotSupportedError()};a.VELOCITY_WEIGHTS=[1,1.33,1.66,2];
return a}(b.UIComponent);b.Scroller=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);d.call(this,a,b,e)}__extends(a,d);a.dispatchUIEvent=function(c,d){b.Event._dispatchByTarget(a,c,d)};a.INITIALIZE="initialize";a.CREATION_COMPLETE="creationComplete";a.UPDATE_COMPLETE="updateComplete";a.BUTTON_DOWN="buttonDown";a.CHANGE_END="changeEnd";a.CHANGE_START="changeStart";a.CHANGING="changing";a.VALUE_COMMIT="valueCommit";a.SKIN_CHANGED="skinChanged";a.CONTENT_CHANGED="contentChanged";
a.OPEN="open";a.CLOSE="close";a.PLAY_COMPLETE="playComplete";return a}(b.Event);b.UIEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f,h,k,n){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);"undefined"===typeof k&&(k=null);"undefined"===typeof n&&(n=null);d.call(this,a,b,e);this.kind=g;this.property=f;this.oldValue=h;this.newValue=k;this.source=n}__extends(a,d);a.dispatchPropertyChangeEvent=function(c,d,e,g,f,h){"undefined"===typeof d&&(d=null);"undefined"===typeof e&&
(e=null);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);var k=b.Event._getPropertyData(a);k.kind=d;k.property=e;k.oldValue=g;k.newValue=f;k.source=h;b.Event._dispatchByTarget(a,c,a.PROPERTY_CHANGE,k)};a.PROPERTY_CHANGE="propertyChange";return a}(b.Event);b.PropertyChangeEvent=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.UPDATE="update";b.DELETE="delete";return b}();b.PropertyChangeEventKind=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=NaN);"undefined"===typeof e&&(e=NaN);"undefined"===typeof g&&(g=!1);"undefined"===typeof f&&(f=!1);d.call(this,a,g,f);this.oldX=b;this.oldY=e}__extends(a,d);a.dispatchMoveEvent=function(c,d,e){"undefined"===typeof d&&(d=NaN);"undefined"===typeof e&&(e=NaN);var g=b.Event._getPropertyData(a);g.oldX=d;g.oldY=e;b.Event._dispatchByTarget(a,c,a.MOVE,g)};a.MOVE="move";return a}(b.Event);b.MoveEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=NaN);"undefined"===typeof e&&(e=NaN);"undefined"===typeof g&&(g=!1);"undefined"===typeof f&&(f=!1);d.call(this,a,g,f);this.oldWidth=b;this.oldHeight=e}__extends(a,d);a.dispatchResizeEvent=function(c,d,e){"undefined"===typeof d&&(d=NaN);"undefined"===typeof e&&(e=NaN);var g=b.Event._getPropertyData(a);g.oldWidth=d;g.oldHeight=e;b.Event._dispatchByTarget(a,c,a.RESIZE,g)};a.RESIZE="resize";return a}(b.Event);b.ResizeEvent=
e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=null);d.call(this,a,b,e);this.partName=g;this.instance=f}__extends(a,d);a.dispatchSkinPartEvent=function(c,d,e,g){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=null);var f=b.Event._getPropertyData(a);f.partName=e;f.instance=g;b.Event._dispatchByTarget(a,c,d,f)};a.PART_ADDED="partAdded";a.PART_REMOVED="partRemoved";
return a}(b.Event);b.SkinPartEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=-1);d.call(this,a,b,e);this.detail=g}__extends(a,d);a.dispatchCloseEvent=function(c,d,e){"undefined"===typeof e&&(e=-1);var g=b.Event._getPropertyData(a);g.detail=e;b.Event._dispatchByTarget(a,c,d,g)};a.CLOSE="close";return a}(b.Event);b.CloseEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f,h,k,n){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof h&&(h=-1);"undefined"===typeof k&&(k=null);"undefined"===typeof n&&(n=null);d.call(this,a,b,e);this.kind=g;this.location=f;this.oldLocation=h;this.items=k?k:[];this.oldItems=n?n:[]}__extends(a,d);a.dispatchCollectionEvent=function(c,d,e,g,f,h,k){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&
(g=-1);"undefined"===typeof f&&(f=-1);"undefined"===typeof h&&(h=null);"undefined"===typeof k&&(k=null);var n=b.Event._getPropertyData(a);n.kind=e;n.location=g;n.oldLocation=f;n.items=h;n.oldItems=k;b.Event._dispatchByTarget(a,c,d,n)};a.COLLECTION_CHANGE="collectionChange";return a}(b.Event);b.CollectionEvent=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.ADD="add";b.MOVE="move";b.REFRESH="refresh";b.REMOVE="remove";b.REPLACE="replace";b.RESET="reset";b.UPDATE="update";b.OPEN="open";b.CLOSE="close";return b}();b.CollectionEventKind=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=-1);d.call(this,a,b,e);this.element=g;this.index=f}__extends(a,d);a.dispatchElementExistenceEvent=function(c,d,e,g){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=-1);var f=b.Event._getPropertyData(a);f.element=e;f.index=g;b.Event._dispatchByTarget(a,c,d,f)};a.ELEMENT_ADD="elementAdd";a.ELEMENT_REMOVE="elementRemove";
return a}(b.Event);b.ElementExistenceEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=-1);"undefined"===typeof f&&(f=-1);d.call(this,a,b,e);this.oldIndex=g;this.newIndex=f}__extends(a,d);a.dispatchIndexChangeEvent=function(c,d,e,g,f){"undefined"===typeof e&&(e=-1);"undefined"===typeof g&&(g=-1);"undefined"===typeof f&&(f=!1);var h=b.Event._getPropertyData(a);h.oldIndex=e;h.newIndex=g;return b.Event._dispatchByTarget(a,c,d,h,!1,f)};a.CHANGE="change";
a.CHANGING="changing";return a}(b.Event);b.IndexChangeEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f,h,k,n,p,q,r,s,A){"undefined"===typeof b&&(b=!0);"undefined"===typeof e&&(e=!0);"undefined"===typeof g&&(g=0);"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);"undefined"===typeof k&&(k=!1);"undefined"===typeof n&&(n=!1);"undefined"===typeof p&&(p=!1);"undefined"===typeof q&&(q=!1);"undefined"===typeof r&&(r=-1);"undefined"===typeof s&&(s=null);"undefined"===typeof A&&(A=null);d.call(this,a,b,e,g,f,h,k,n,p,q);this.itemIndex=r;this.item=
s;this.itemRenderer=A}__extends(a,d);a.dispatchListEvent=function(c,d,e,g,f,h){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=-1);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);var k=b.Event._getPropertyData(a);k.touchPointID=e.touchPointID;k._stageX=e.stageX;k._stageY=e.stageY;k.ctrlKey=e.ctrlKey;k.altKey=e.altKey;k.shiftKey=e.shiftKey;k.touchDown=e.touchDown;k.itemIndex=g;k.item=f;k.itemRenderer=h;b.Event._dispatchByTarget(a,c,d,k)};a.ITEM_ROLL_OUT="itemRollOut";
a.ITEM_ROLL_OVER="itemRollOver";a.ITEM_CLICK="itemClick";return a}(b.TouchEvent);b.ListEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=!1);d.call(this,a,b,e);this.popUp=g;this.modal=f}__extends(a,d);a.dispatchPopUpEvent=function(c,d,e,g){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=!1);var f=b.Event._getPropertyData(a);f.popUp=e;f.modal=g;b.Event._dispatchByTarget(a,c,d,f)};a.ADD_POPUP="addPopUp";a.REMOVE_POPUP="removePopUp";a.BRING_TO_FRONT=
"bringToFront";return a}(b.Event);b.PopUpEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f,h){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof h&&(h=null);d.call(this,a,b,e);this.renderer=g;this.index=f;this.data=h}__extends(a,d);a.dispatchRendererExistenceEvent=function(c,d,e,g,f){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=-1);"undefined"===typeof f&&(f=null);var h=b.Event._getPropertyData(a);h.renderer=e;h.index=g;h.data=
f;b.Event._dispatchByTarget(a,c,d,h)};a.RENDERER_ADD="rendererAdd";a.RENDERER_REMOVE="rendererRemove";return a}(b.Event);b.RendererExistenceEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=null);d.call(this,a,b,e);this.oldState=g;this.newState=f}__extends(a,d);a.dispatchStateChangeEvent=function(c,d,e,g){"undefined"===typeof e&&(e=null);"undefined"===typeof g&&(g=null);var f=b.Event._getPropertyData(a);f.oldState=e;f.newState=g;b.Event._dispatchByTarget(a,c,d,f)};a.CURRENT_STATE_CHANGE="currentStateChange";a.CURRENT_STATE_CHANGING=
"currentStateChanging";return a}(b.Event);b.StateChangeEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!1);d.call(this,a,b,e)}__extends(a,d);a.dispatchTrackBaseEvent=function(c,d){b.Event._dispatchByTarget(a,c,d)};a.THUMB_DRAG="thumbDrag";a.THUMB_PRESS="thumbPress";a.THUMB_RELEASE="thumbRelease";return a}(b.Event);b.TrackBaseEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a,b,e,g,f,h){"undefined"===typeof b&&(b=!1);"undefined"===typeof e&&(e=!0);"undefined"===typeof g&&(g=-1);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);d.call(this,a,b,e);this.item=f;this.itemRenderer=h;this.itemIndex=g}__extends(a,d);a.dispatchTreeEvent=function(c,d,e,g,f,h){"undefined"===typeof e&&(e=-1);"undefined"===typeof g&&(g=null);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=!1);var k=b.Event._getPropertyData(a);
k.itemIndex=e;k.item=g;k.itemRenderer=f;k.opening=h;b.Event._dispatchByTarget(a,c,d,k)};a.ITEM_CLOSE="itemClose";a.ITEM_OPEN="itemOpen";a.ITEM_OPENING="itemOpening";return a}(b.Event);b.TreeEvent=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._useVirtualLayout=!1}__extends(a,b);Object.defineProperty(a.prototype,"target",{get:function(){return this._target},set:function(a){this._target!=a&&(this._target=a,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"useVirtualLayout",{get:function(){return this._useVirtualLayout},set:function(a){this._useVirtualLayout!=a&&(this._useVirtualLayout=a,this.dispatchEventWith("useVirtualLayoutChanged"),
this._useVirtualLayout&&!a&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"typicalLayoutRect",{get:function(){return this._typicalLayoutRect},set:function(a){this._typicalLayoutRect!=a&&(this._typicalLayoutRect=a,this.target&&this.target.invalidateSize())},enumerable:!0,configurable:!0});a.prototype.scrollPositionChanged=function(){};a.prototype.clearVirtualLayoutCache=function(){};a.prototype.elementAdded=
function(a){};a.prototype.elementRemoved=function(a){};a.prototype.measure=function(){};a.prototype.updateDisplayList=function(a,b){};return a}(b.EventDispatcher);b.LayoutBase=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._mouseWheelSpeed=20}__extends(a,d);Object.defineProperty(a.prototype,"useVirtualLayout",{set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mouseWheelSpeed",{get:function(){return this._mouseWheelSpeed},set:function(a){0==a&&(a=1);this._mouseWheelSpeed=a},enumerable:!0,configurable:!0});a.prototype.getElementBoundsLeftOfScrollRect=function(a){var d=new b.Rectangle;d.x=a.x-this._mouseWheelSpeed;d.right=
a.x;return d};a.prototype.getElementBoundsRightOfScrollRect=function(a){var d=new b.Rectangle;d.x=a.right;d.right=a.right+this._mouseWheelSpeed;return d};a.prototype.getElementBoundsAboveScrollRect=function(a){var d=new b.Rectangle;d.y=a.y-this._mouseWheelSpeed;d.bottom=a.y;return d};a.prototype.getElementBoundsBelowScrollRect=function(a){var d=new b.Rectangle;d.y=a.bottom;d.bottom=a.bottom+this._mouseWheelSpeed;return d};a.prototype.measure=function(){d.prototype.measure.call(this);if(null!=this.target){for(var a=
0,b=0,e=this.target.numElements,g=0;g<e;g++){var f=this.target.getElementAt(g);if(f&&f.includeInLayout){var h=f.horizontalCenter,k=f.verticalCenter,n=f.left,p=f.right,q=f.top,r=f.bottom;isNaN(n)||isNaN(p)?isNaN(h)?isNaN(n)&&isNaN(p)?h=f.preferredX:(h=isNaN(n)?0:n,h+=isNaN(p)?0:p):h=2*Math.abs(h):h=n+p;isNaN(q)||isNaN(r)?isNaN(k)?isNaN(q)&&isNaN(r)?k=f.preferredY:(k=isNaN(q)?0:q,k+=isNaN(r)?0:r):k=2*Math.abs(k):k=q+r;r=f.preferredHeight;a=Math.ceil(Math.max(a,h+f.preferredWidth));b=Math.ceil(Math.max(b,
k+r))}}this.target.measuredWidth=a;this.target.measuredHeight=b}};a.prototype.updateDisplayList=function(a,b){d.prototype.updateDisplayList.call(this,a,b);if(null!=this.target){for(var e=this.target.numElements,g=0,f=0,h=0;h<e;h++){var k=this.target.getElementAt(h);if(null!=k&&k.includeInLayout){var n=k.horizontalCenter,p=k.verticalCenter,q=k.left,r=k.right,s=k.top,A=k.bottom,D=k.percentWidth,v=k.percentHeight,z=NaN,B=NaN;isNaN(q)||isNaN(r)?isNaN(D)||(z=Math.round(a*Math.min(0.01*D,1))):z=a-r-q;isNaN(s)||
isNaN(A)?isNaN(v)||(B=Math.round(b*Math.min(0.01*v,1))):B=b-A-s;k.setLayoutBoundsSize(z,B);D=k.layoutBoundsWidth;v=k.layoutBoundsHeight;B=z=NaN;z=isNaN(n)?isNaN(q)?isNaN(r)?k.layoutBoundsX:a-D-r:q:Math.round((a-D)/2+n);B=isNaN(p)?isNaN(s)?isNaN(A)?k.layoutBoundsY:b-v-A:s:Math.round((b-v)/2+p);k.setLayoutBoundsPosition(z,B);g=Math.max(g,z+D);f=Math.max(f,B+v)}}this.target.setContentSize(g,f)}};return a}(b.LayoutBase);b.BasicLayout=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.LEFT="left";b.JUSTIFY_USING_GAP="justifyUsingGap";b.JUSTIFY_USING_WIDTH="justifyUsingWidth";return b}();b.ColumnAlign=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.TOP="top";b.JUSTIFY_USING_GAP="justifyUsingGap";b.JUSTIFY_USING_HEIGHT="justifyUsingHeight";return b}();b.RowAlign=e})(egret||(egret={}));(function(b){var e=function(){function b(){}b.ROWS="rows";b.COLUMNS="columns";return b}();b.TileOrientation=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(a){function c(){a.call(this);this._horizontalAlign=b.HorizontalAlign.LEFT;this._verticalAlign=b.VerticalAlign.TOP;this._gap=6;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.elementSizeTable=[];this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1;this.maxElementWidth=0}__extends(c,a);Object.defineProperty(c.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=
a&&(this._horizontalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"gap",{get:function(){return this._gap},set:function(a){this._gap!=a&&(this._gap=a,this.invalidateTargetSizeAndDisplayList(),
this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});c.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};c.prototype.measure=function(){a.prototype.measure.call(this);this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())};c.prototype.measureVirtual=
function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,c=Math.max(this.maxElementWidth,this.typicalLayoutRect?this.typicalLayoutRect.width:71),b=this.getElementTotalSize(),d=this.target.getElementIndicesInView(),e=d.length,k=0;k<e;k++){var n=d[k],p=this.target.getElementAt(n);if(null!=p&&p.includeInLayout)var q=p.preferredWidth,b=b+p.preferredHeight,b=b-(isNaN(this.elementSizeTable[n])?a:this.elementSizeTable[n]),c=Math.max(c,q)}k=isNaN(this._padding)?0:this._padding;a=isNaN(this._paddingLeft)?
k:this._paddingLeft;d=isNaN(this._paddingRight)?k:this._paddingRight;e=isNaN(this._paddingTop)?k:this._paddingTop;k=isNaN(this._paddingBottom)?k:this._paddingBottom;e+=k;this.target.measuredWidth=Math.ceil(c+(a+d));this.target.measuredHeight=Math.ceil(b+e)};c.prototype.measureReal=function(){for(var a=this.target.numElements,c=a,b=0,d=0,e=0;e<a;e++){var k=this.target.getElementAt(e);if(k&&k.includeInLayout)var n=k.preferredWidth,d=d+k.preferredHeight,b=Math.max(b,n);else c--}a=isNaN(this._gap)?0:
this._gap;d+=(c-1)*a;k=isNaN(this._padding)?0:this._padding;c=isNaN(this._paddingLeft)?k:this._paddingLeft;a=isNaN(this._paddingRight)?k:this._paddingRight;e=isNaN(this._paddingTop)?k:this._paddingTop;k=isNaN(this._paddingBottom)?k:this._paddingBottom;e+=k;this.target.measuredWidth=Math.ceil(b+(c+a));this.target.measuredHeight=Math.ceil(d+e)};c.prototype.updateDisplayList=function(c,b){a.prototype.updateDisplayList.call(this,c,b);this.target&&(this.useVirtualLayout?this.updateDisplayListVirtual(c,
b):this.updateDisplayListReal(c,b))};c.prototype.getStartPosition=function(a){var c=isNaN(this._padding)?0:this._padding,b=isNaN(this._paddingTop)?c:this._paddingTop,c=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var d;this.target&&(d=this.target.getElementAt(a));return d?d.y:b}d=this.typicalLayoutRect?this.typicalLayoutRect.height:22;for(var e=0;e<a;e++){var k=this.elementSizeTable[e];isNaN(k)&&(k=d);b+=k+c}return b};c.prototype.getElementSize=function(a){return this.useVirtualLayout?
(a=this.elementSizeTable[a],isNaN(a)&&(a=this.typicalLayoutRect?this.typicalLayoutRect.height:22),a):this.target?this.target.getElementAt(a).height:0};c.prototype.getElementTotalSize=function(){for(var a=isNaN(this._gap)?0:this._gap,c=this.typicalLayoutRect?this.typicalLayoutRect.height:22,b=0,d=this.target.numElements,e=0;e<d;e++){var k=this.elementSizeTable[e];isNaN(k)&&(k=c);b+=k+a}return b-a};c.prototype.elementAdded=function(c){a.prototype.elementAdded.call(this,c);this.elementSizeTable.splice(c,
0,this.typicalLayoutRect?this.typicalLayoutRect.height:22)};c.prototype.elementRemoved=function(c){a.prototype.elementRemoved.call(this,c);this.elementSizeTable.splice(c,1)};c.prototype.clearVirtualLayoutCache=function(){a.prototype.clearVirtualLayoutCache.call(this);this.elementSizeTable=[];this.maxElementWidth=0};c.prototype.findIndexAt=function(a,c,b){var d=Math.floor(0.5*(c+b)),e=this.getStartPosition(d),k=this.getElementSize(d),n=isNaN(this._gap)?0:this._gap;return a>=e&&a<e+k+n?d:c==b?-1:a<
e?this.findIndexAt(a,c,Math.max(c,d-1)):this.findIndexAt(a,Math.min(d+1,b),b)};c.prototype.scrollPositionChanged=function(){a.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};c.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=
-1,!1;var a=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingTop)?a:this._paddingTop,b=isNaN(this._paddingBottom)?a:this._paddingBottom,a=this.target.numElements,d=this.getStartPosition(a-1)+this.elementSizeTable[a-1]+b,e=this.target.verticalScrollPosition;if(e>d-b)return this.endIndex=this.startIndex=-1,!1;b=this.target.verticalScrollPosition+this.target.height;if(b<c)return this.endIndex=this.startIndex=-1,!1;c=this.startIndex;d=this.endIndex;this.startIndex=this.findIndexAt(e,0,a-1);-1==
this.startIndex&&(this.startIndex=0);this.endIndex=this.findIndexAt(b,0,a-1);-1==this.endIndex&&(this.endIndex=a-1);return c!=this.startIndex||d!=this.endIndex};c.prototype.updateDisplayListVirtual=function(a,c){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var d=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?d:this._paddingLeft,h=isNaN(this._paddingRight)?d:this._paddingRight,k=isNaN(this._paddingBottom)?d:this._paddingBottom,n=isNaN(this._gap)?0:
this._gap,p=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)e=this.getStartPosition(p)-n+k,this.target.setContentSize(this.target.contentWidth,Math.ceil(e));else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var q=this._horizontalAlign==b.HorizontalAlign.JUSTIFY||this._horizontalAlign==b.HorizontalAlign.CONTENT_JUSTIFY,r=this._horizontalAlign==b.HorizontalAlign.CONTENT_JUSTIFY,s=0;q||(this._horizontalAlign==b.HorizontalAlign.CENTER?s=0.5:this._horizontalAlign==
b.HorizontalAlign.RIGHT&&(s=1));var A=Math.max(0,a-e-h),D=Math.ceil(A),v,z=this.typicalLayoutRect?this.typicalLayoutRect.height:22,d=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.width:71,this.maxElementWidth);if(r){for(var B=this.startIndex;B<=this.endIndex;B++)(v=this.target.getVirtualElementAt(B))&&v.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,v.preferredWidth));D=Math.ceil(Math.max(A,this.maxElementWidth))}for(var t=0,u=0,B=0,C=!1,w=this.startIndex;w<=this.endIndex;w++)if(t=
0,v=this.target.getVirtualElementAt(w))v.includeInLayout?(q?(t=e,v.setLayoutBoundsSize(D,NaN)):(t=(A-v.layoutBoundsWidth)*s,t=0<t?t:0,t=e+t),r||(this.maxElementWidth=Math.max(this.maxElementWidth,v.preferredWidth)),B=Math.max(B,v.layoutBoundsWidth),C||(u=isNaN(this.elementSizeTable[w])?z:this.elementSizeTable[w],u!=v.layoutBoundsHeight&&(C=!0)),0==w&&0<this.elementSizeTable.length&&this.elementSizeTable[w]!=v.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[w]=v.layoutBoundsHeight,
u=this.getStartPosition(w),v.setLayoutBoundsPosition(Math.round(t),Math.round(u))):this.elementSizeTable[w]=0;B+=e+h;e=this.getStartPosition(p)-n+k;this.target.setContentSize(Math.ceil(B),Math.ceil(e));(C||d<this.maxElementWidth)&&this.target.invalidateSize()}};c.prototype.updateDisplayListReal=function(a,e){var g=isNaN(this._padding)?0:this._padding,f=isNaN(this._paddingLeft)?g:this._paddingLeft,h=isNaN(this._paddingRight)?g:this._paddingRight,k=isNaN(this._paddingTop)?g:this._paddingTop,g=isNaN(this._paddingBottom)?
g:this._paddingBottom,n=isNaN(this._gap)?0:this._gap,p=Math.max(0,a-f-h),q=Math.max(0,e-k-g),r=this._verticalAlign==b.VerticalAlign.JUSTIFY,s=this._horizontalAlign==b.HorizontalAlign.JUSTIFY||this._horizontalAlign==b.HorizontalAlign.CONTENT_JUSTIFY,A=0;s||(this._horizontalAlign==b.HorizontalAlign.CENTER?A=0.5:this._horizontalAlign==b.HorizontalAlign.RIGHT&&(A=1));var D=this.target.numElements,v=D,z=f,B=k,t,u,C=0,z=0,w=[],E,x=q;for(t=0;t<D;t++)(u=this.target.getElementAt(t))&&u.includeInLayout?(this.maxElementWidth=
Math.max(this.maxElementWidth,u.preferredWidth),r?C+=u.preferredHeight:isNaN(u.percentHeight)?x-=u.preferredHeight:(z+=u.percentHeight,E=new d,E.layoutElement=u,E.percent=u.percentHeight,E.min=u.minHeight,E.max=u.maxHeight,w.push(E))):v--;var x=x-(v-1)*n,x=0<x?x:0,y=q-C-n*(v-1),H,L=v,G=[];if(r){if(0>y){H=x/v;for(t=0;t<D;t++)(u=this.target.getElementAt(t))&&u.includeInLayout&&(u=u.preferredHeight,u<=H&&(x-=u,L--));x=0<x?x:0}}else if(0<z){c.flexChildrenProportionally(q,x,z,w);q=0;u=w.length;for(t=0;t<
u;t++)E=w[t],z=Math.round(E.size+q),q+=E.size-z,G[E.layoutElement.hashCode]=z,x-=z;x=0<x?x:0}this._verticalAlign==b.VerticalAlign.MIDDLE?B=k+0.5*x:this._verticalAlign==b.VerticalAlign.BOTTOM&&(B=k+x);w=f;u=v=0;E=Math.ceil(p);this._horizontalAlign==b.HorizontalAlign.CONTENT_JUSTIFY&&(E=Math.ceil(Math.max(p,this.maxElementWidth)));q=0;v=NaN;for(t=0;t<D;t++)z=0,(u=this.target.getElementAt(t))&&u.includeInLayout&&(v=NaN,r?(z=NaN,0<y?z=x*u.preferredHeight/C:0>y&&u.preferredHeight>H&&(z=x/L),isNaN(z)||
(v=Math.round(z+q),q+=z-v)):v=G[u.hashCode],s?(z=f,u.setLayoutBoundsSize(E,v)):(z=NaN,isNaN(u.percentWidth)||(z=Math.min(100,u.percentWidth),z=Math.round(p*z*0.01)),u.setLayoutBoundsSize(z,v),z=(p-u.layoutBoundsWidth)*A,z=0<z?z:0,z=f+z),u.setLayoutBoundsPosition(Math.round(z),Math.round(B)),v=Math.ceil(u.layoutBoundsWidth),u=Math.ceil(u.layoutBoundsHeight),w=Math.max(w,z+v),k=Math.max(k,B+u),B+=u+n);this.target.setContentSize(Math.ceil(w+h),Math.ceil(k+g))};c.flexChildrenProportionally=function(a,
c,b,d){var e=d.length,k;do{k=!0;var n=c-a*b/100;0<n?c-=n:n=0;for(var p=c/b,q=0;q<e;q++){var r=d[q],s=r.percent*p;if(s<r.min){k=r.min;r.size=k;d[q]=d[--e];d[e]=r;b-=r.percent;n>=k||(c-=k-n);k=!1;break}else if(s>r.max){k=r.max;r.size=k;d[q]=d[--e];d[e]=r;b-=r.percent;n>=k||(c-=k-n);k=!1;break}else r.size=s}}while(!k)};return c}(b.LayoutBase);b.VerticalLayout=e;var d=function(){return function(){this.size=0}}()})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(a){function c(){a.call(this);this._horizontalAlign=b.HorizontalAlign.LEFT;this._verticalAlign=b.VerticalAlign.TOP;this._gap=6;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.elementSizeTable=[];this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1;this.maxElementHeight=0}__extends(c,a);Object.defineProperty(c.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=
a&&(this._horizontalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"gap",{get:function(){return this._gap},set:function(a){this._gap!=a&&(this._gap=a,this.invalidateTargetSizeAndDisplayList(),
this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});c.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};c.prototype.measure=function(){a.prototype.measure.call(this);this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())};c.prototype.measureVirtual=
function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,c=this.typicalLayoutRect?this.typicalLayoutRect.width:71,b=this.getElementTotalSize(),a=Math.max(this.maxElementHeight,a),d=this.target.getElementIndicesInView(),e=d.length,k=0;k<e;k++){var n=d[k],p=this.target.getElementAt(n);if(null!=p&&p.includeInLayout)var q=p.preferredHeight,b=b+p.preferredWidth,b=b-(isNaN(this.elementSizeTable[n])?c:this.elementSizeTable[n]),a=Math.max(a,q)}k=isNaN(this._padding)?0:this._padding;c=
isNaN(this._paddingLeft)?k:this._paddingLeft;d=isNaN(this._paddingRight)?k:this._paddingRight;e=isNaN(this._paddingTop)?k:this._paddingTop;k=isNaN(this._paddingBottom)?k:this._paddingBottom;e+=k;this.target.measuredWidth=Math.ceil(b+(c+d));this.target.measuredHeight=Math.ceil(a+e)};c.prototype.measureReal=function(){for(var a=this.target.numElements,c=a,b=0,d=0,e=0;e<a;e++){var k=this.target.getElementAt(e);if(k&&k.includeInLayout)var n=k.preferredHeight,b=b+k.preferredWidth,d=Math.max(d,n);else c--}a=
isNaN(this._gap)?0:this._gap;b+=(c-1)*a;k=isNaN(this._padding)?0:this._padding;c=isNaN(this._paddingLeft)?k:this._paddingLeft;a=isNaN(this._paddingRight)?k:this._paddingRight;e=isNaN(this._paddingTop)?k:this._paddingTop;k=isNaN(this._paddingBottom)?k:this._paddingBottom;e+=k;this.target.measuredWidth=Math.ceil(b+(c+a));this.target.measuredHeight=Math.ceil(d+e)};c.prototype.updateDisplayList=function(c,b){a.prototype.updateDisplayList.call(this,c,b);this.target&&(this.useVirtualLayout?this.updateDisplayListVirtual(c,
b):this.updateDisplayListReal(c,b))};c.prototype.getStartPosition=function(a){var c=isNaN(this._padding)?0:this._padding,b=isNaN(this._paddingLeft)?c:this._paddingLeft,c=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var d;this.target&&(d=this.target.getElementAt(a));return d?d.x:b}d=this.typicalLayoutRect?this.typicalLayoutRect.width:71;for(var e=0;e<a;e++){var k=this.elementSizeTable[e];isNaN(k)&&(k=d);b+=k+c}return b};c.prototype.getElementSize=function(a){return this.useVirtualLayout?
(a=this.elementSizeTable[a],isNaN(a)&&(a=this.typicalLayoutRect?this.typicalLayoutRect.width:71),a):this.target?this.target.getElementAt(a).width:0};c.prototype.getElementTotalSize=function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.width:71,c=isNaN(this._gap)?0:this._gap,b=0,d=this.target.numElements,e=0;e<d;e++){var k=this.elementSizeTable[e];isNaN(k)&&(k=a);b+=k+c}return b-c};c.prototype.elementAdded=function(c){this.useVirtualLayout&&(a.prototype.elementAdded.call(this,c),this.elementSizeTable.splice(c,
0,this.typicalLayoutRect?this.typicalLayoutRect.width:71))};c.prototype.elementRemoved=function(c){this.useVirtualLayout&&(a.prototype.elementRemoved.call(this,c),this.elementSizeTable.splice(c,1))};c.prototype.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(a.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)};c.prototype.findIndexAt=function(a,c,b){var d=Math.floor(0.5*(c+b)),e=this.getStartPosition(d),k=this.getElementSize(d),n=isNaN(this._gap)?
0:this._gap;return a>=e&&a<e+k+n?d:c==b?-1:a<e?this.findIndexAt(a,c,Math.max(c,d-1)):this.findIndexAt(a,Math.min(d+1,b),b)};c.prototype.scrollPositionChanged=function(){a.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};c.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=
this.endIndex=-1,!1;var a=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingLeft)?a:this._paddingLeft,b=isNaN(this._paddingRight)?a:this._paddingRight;isNaN(this._paddingTop);isNaN(this._paddingBottom);var a=this.target.numElements,d=this.getStartPosition(a-1)+this.elementSizeTable[a-1]+b,e=this.target.horizontalScrollPosition;if(e>d-b)return this.endIndex=this.startIndex=-1,!1;b=this.target.horizontalScrollPosition+this.target.width;if(b<c)return this.endIndex=this.startIndex=-1,!1;c=this.startIndex;
d=this.endIndex;this.startIndex=this.findIndexAt(e,0,a-1);-1==this.startIndex&&(this.startIndex=0);this.endIndex=this.findIndexAt(b,0,a-1);-1==this.endIndex&&(this.endIndex=a-1);return c!=this.startIndex||d!=this.endIndex};c.prototype.updateDisplayListVirtual=function(a,c){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var d=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingRight)?d:this._paddingRight,h=isNaN(this._paddingTop)?d:this._paddingTop,k=isNaN(this._paddingBottom)?
d:this._paddingBottom,n=isNaN(this._gap)?0:this._gap,p=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)e=this.getStartPosition(p)-n+e,this.target.setContentSize(Math.ceil(e),this.target.contentHeight);else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var q=this._verticalAlign==b.VerticalAlign.JUSTIFY||this._verticalAlign==b.VerticalAlign.CONTENT_JUSTIFY,r=this._verticalAlign==b.VerticalAlign.CONTENT_JUSTIFY,s=0;q||(this._verticalAlign==b.VerticalAlign.MIDDLE?
s=0.5:this._verticalAlign==b.VerticalAlign.BOTTOM&&(s=1));var A=Math.max(0,c-h-k),D=Math.ceil(A),v,z=this.typicalLayoutRect?this.typicalLayoutRect.width:71,d=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.height:22,this.maxElementHeight);if(r){for(var B=this.startIndex;B<=this.endIndex;B++)(v=this.target.getVirtualElementAt(B))&&v.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,v.preferredHeight));D=Math.ceil(Math.max(A,this.maxElementHeight))}for(var t=0,u=0,B=0,C=
!1,w=this.startIndex;w<=this.endIndex;w++)if(u=0,v=this.target.getVirtualElementAt(w))v.includeInLayout?(q?(u=h,v.setLayoutBoundsSize(NaN,D)):(u=(A-v.layoutBoundsHeight)*s,u=0<u?u:0,u=h+u),r||(this.maxElementHeight=Math.max(this.maxElementHeight,v.preferredHeight)),B=Math.max(B,v.layoutBoundsHeight),C||(t=isNaN(this.elementSizeTable[w])?z:this.elementSizeTable[w],t!=v.layoutBoundsWidth&&(C=!0)),0==w&&0<this.elementSizeTable.length&&this.elementSizeTable[w]!=v.layoutBoundsWidth&&(this.typicalLayoutRect=
null),this.elementSizeTable[w]=v.layoutBoundsWidth,t=this.getStartPosition(w),v.setLayoutBoundsPosition(Math.round(t),Math.round(u))):this.elementSizeTable[w]=0;B+=h+k;e=this.getStartPosition(p)-n+e;this.target.setContentSize(Math.ceil(e),Math.ceil(B));(C||d<this.maxElementHeight)&&this.target.invalidateSize()}};c.prototype.updateDisplayListReal=function(a,e){var g=isNaN(this._padding)?0:this._padding,f=isNaN(this._paddingLeft)?g:this._paddingLeft,h=isNaN(this._paddingRight)?g:this._paddingRight,
k=isNaN(this._paddingTop)?g:this._paddingTop,g=isNaN(this._paddingBottom)?g:this._paddingBottom,n=isNaN(this._gap)?0:this._gap,p=Math.max(0,a-f-h),q=Math.max(0,e-k-g),r=this._horizontalAlign==b.HorizontalAlign.JUSTIFY,s=this._verticalAlign==b.VerticalAlign.JUSTIFY||this._verticalAlign==b.VerticalAlign.CONTENT_JUSTIFY,A=0;s||(this._verticalAlign==b.VerticalAlign.MIDDLE?A=0.5:this._verticalAlign==b.VerticalAlign.BOTTOM&&(A=1));var D=this.target.numElements,v=D,z=f,B=k,t,u,C=0,B=0,w=[],E,x=p;for(t=0;t<
D;t++)(u=this.target.getElementAt(t))&&u.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,u.preferredHeight),r?C+=u.preferredWidth:isNaN(u.percentWidth)?x-=u.preferredWidth:(B+=u.percentWidth,E=new d,E.layoutElement=u,E.percent=u.percentWidth,E.min=u.minWidth,E.max=u.maxWidth,w.push(E))):v--;var x=x-n*(v-1),x=0<x?x:0,y=p-C-n*(v-1),H,L=v,G=[];if(r){if(0>y){H=x/v;for(t=0;t<D;t++)(u=this.target.getElementAt(t))&&u.includeInLayout&&(u=u.preferredWidth,u<=H&&(x-=u,L--));x=0<x?x:0}}else if(0<
B){c.flexChildrenProportionally(p,x,B,w);p=0;u=w.length;for(t=0;t<u;t++)E=w[t],B=Math.round(E.size+p),p+=E.size-B,G[E.layoutElement.hashCode]=B,x-=B;x=0<x?x:0}this._horizontalAlign==b.HorizontalAlign.CENTER?z=f+0.5*x:this._horizontalAlign==b.HorizontalAlign.RIGHT&&(z=f+x);w=k;u=v=0;E=Math.ceil(q);this._verticalAlign==b.VerticalAlign.CONTENT_JUSTIFY&&(E=Math.ceil(Math.max(q,this.maxElementHeight)));for(t=p=0;t<D;t++)B=0,(u=this.target.getElementAt(t))&&u.includeInLayout&&(v=NaN,r?(B=NaN,0<y?B=x*u.preferredWidth/
C:0>y&&u.preferredWidth>H&&(B=x/L),isNaN(B)||(v=Math.round(B+p),p+=B-v)):v=G[u.hashCode],s?(B=k,u.setLayoutBoundsSize(v,E)):(B=NaN,isNaN(u.percentHeight)||(B=Math.min(100,u.percentHeight),B=Math.round(q*B*0.01)),u.setLayoutBoundsSize(v,B),B=(q-u.layoutBoundsHeight)*A,B=0<B?B:0,B=k+B),u.setLayoutBoundsPosition(Math.round(z),Math.round(B)),v=Math.ceil(u.layoutBoundsWidth),u=Math.ceil(u.layoutBoundsHeight),f=Math.max(f,z+v),w=Math.max(w,B+u),z+=v+n);this.target.setContentSize(Math.ceil(f+h),Math.ceil(w+
g))};c.flexChildrenProportionally=function(a,c,b,d){var e=d.length,k;do{k=!0;var n=c-a*b/100;0<n?c-=n:n=0;for(var p=c/b,q=0;q<e;q++){var r=d[q],s=r.percent*p;if(s<r.min){k=r.min;r.size=k;d[q]=d[--e];d[e]=r;b-=r.percent;n>=k||(c-=k-n);k=!1;break}else if(s>r.max){k=r.max;r.size=k;d[q]=d[--e];d[e]=r;b-=r.percent;n>=k||(c-=k-n);k=!1;break}else r.size=s}}while(!k)};return c}(b.LayoutBase);b.HorizontalLayout=e;var d=function(){return function(){this.size=0}}()})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.explicitHorizontalGap=NaN;this._horizontalGap=6;this.explicitVerticalGap=NaN;this._verticalGap=6;this._columnCount=-1;this._requestedColumnCount=0;this._rowCount=-1;this._requestedRowCount=0;this._rowHeight=this.explicitRowHeight=this._columnWidth=this.explicitColumnWidth=NaN;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this._horizontalAlign=b.HorizontalAlign.JUSTIFY;this._verticalAlign=
b.VerticalAlign.JUSTIFY;this._columnAlign=b.ColumnAlign.LEFT;this._rowAlign=b.RowAlign.TOP;this._orientation=b.TileOrientation.ROWS;this.maxElementHeight=this.maxElementWidth=0;this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1}__extends(a,d);Object.defineProperty(a.prototype,"horizontalGap",{get:function(){return this._horizontalGap},set:function(a){a!=this._horizontalGap&&(this._horizontalGap=this.explicitHorizontalGap=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&
this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalGap",{get:function(){return this._verticalGap},set:function(a){a!=this._verticalGap&&(this._verticalGap=this.explicitVerticalGap=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"requestedColumnCount",{get:function(){return this._requestedColumnCount},set:function(a){this._requestedColumnCount!=a&&(this._columnCount=this._requestedColumnCount=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"requestedRowCount",{get:function(){return this._requestedRowCount},set:function(a){this._requestedRowCount!=
a&&(this._rowCount=this._requestedRowCount=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(a){a!=this._columnWidth&&(this._columnWidth=this.explicitColumnWidth=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(a){a!=this._rowHeight&&(this._rowHeight=
this.explicitRowHeight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=a&&(this._horizontalAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalAlign",{get:function(){return this._verticalAlign},
set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"columnAlign",{get:function(){return this._columnAlign},set:function(a){this._columnAlign!=a&&(this._columnAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowAlign",{get:function(){return this._rowAlign},set:function(a){this._rowAlign!=a&&(this._rowAlign=a,
this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(a){this._orientation!=a&&(this._orientation=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("orientationChanged")&&this.dispatchEventWith("orientationChanged"))},enumerable:!0,configurable:!0});a.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};
a.prototype.measure=function(){if(this.target){var a=this._columnCount,b=this._rowCount,d=this._columnWidth,e=this._rowHeight,f=0,h=0;this.calculateRowAndColumn(this.target.explicitWidth,this.target.explicitHeight);var k=0<this._requestedColumnCount?this._requestedColumnCount:this._columnCount,n=0<this._requestedRowCount?this._requestedRowCount:this._rowCount,p=isNaN(this._horizontalGap)?0:this._horizontalGap,q=isNaN(this._verticalGap)?0:this._verticalGap;0<k&&(f=k*(this._columnWidth+p)-p);0<n&&(h=
n*(this._rowHeight+q)-q);q=isNaN(this._padding)?0:this._padding;k=isNaN(this._paddingLeft)?q:this._paddingLeft;n=isNaN(this._paddingRight)?q:this._paddingRight;p=isNaN(this._paddingTop)?q:this._paddingTop;q=isNaN(this._paddingBottom)?q:this._paddingBottom;p+=q;this.target.measuredWidth=Math.ceil(f+(k+n));this.target.measuredHeight=Math.ceil(h+p);this._columnCount=a;this._rowCount=b;this._columnWidth=d;this._rowHeight=e}};a.prototype.calculateRowAndColumn=function(a,d){var e=isNaN(this._horizontalGap)?
0:this._horizontalGap,g=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var f=this.target.numElements,h=f,k=0;k<h;k++){var n=this.target.getElementAt(k);n&&!n.includeInLayout&&f--}if(0==f)this._rowCount=this._columnCount=0;else{(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize();isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth;isNaN(this.explicitRowHeight)?
this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;h=this._columnWidth+e;0>=h&&(h=1);k=this._rowHeight+g;0>=k&&(k=1);var n=this.orientation==b.TileOrientation.COLUMNS,p=!isNaN(a),q=!isNaN(d),r=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?r:this._paddingLeft,A=isNaN(this._paddingRight)?r:this._paddingRight,D=isNaN(this._paddingTop)?r:this._paddingTop,r=isNaN(this._paddingBottom)?r:this._paddingBottom;0<this._requestedColumnCount||0<this._requestedRowCount?
(0<this._requestedRowCount&&(this._rowCount=Math.min(this._requestedRowCount,f)),0<this._requestedColumnCount&&(this._columnCount=Math.min(this._requestedColumnCount,f))):p||q?!p||q&&n?(e=Math.max(0,d-D-r),this._rowCount=Math.floor((e+g)/k),this._rowCount=Math.max(1,Math.min(this._rowCount,f))):(g=Math.max(0,a-s-A),this._columnCount=Math.floor((g+e)/h),this._columnCount=Math.max(1,Math.min(this._columnCount,f))):(e=Math.sqrt(f*h*k),n?this._rowCount=Math.max(1,Math.round(e/k)):this._columnCount=Math.max(1,
Math.round(e/h)));-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(f/this._columnCount)));-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(f/this._rowCount)));0<this._requestedColumnCount&&0<this._requestedRowCount&&(this.orientation==b.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(f/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(f/this._requestedRowCount)))}};a.prototype.updateMaxElementSize=function(){this.target&&(this.useVirtualLayout?this.updateMaxElementSizeVirtual():
this.updateMaxElementSizeReal())};a.prototype.updateMaxElementSizeVirtual=function(){var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22;this.maxElementWidth=Math.max(this.maxElementWidth,this.typicalLayoutRect?this.typicalLayoutRect.width:22);this.maxElementHeight=Math.max(this.maxElementHeight,a);if(-1!=this.startIndex&&-1!=this.endIndex)for(a=this.startIndex;a<=this.endIndex;a++){var b=this.target.getVirtualElementAt(a);b&&b.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,
b.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,b.preferredHeight))}};a.prototype.updateMaxElementSizeReal=function(){for(var a=this.target.numElements,b=0;b<a;b++){var d=this.target.getElementAt(b);d&&d.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,d.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,d.preferredHeight))}};a.prototype.clearVirtualLayoutCache=function(){d.prototype.clearVirtualLayoutCache.call(this);this.maxElementHeight=
this.maxElementWidth=0};a.prototype.scrollPositionChanged=function(){d.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};a.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;var a=this.target.numElements;if(!this.useVirtualLayout)return this.startIndex=0,this.endIndex=a-1,!1;if(isNaN(this.target.width)||0==this.target.width||
isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var d=this.startIndex,e=this.endIndex,g=isNaN(this._padding)?0:this._padding,f=isNaN(this._paddingLeft)?g:this._paddingLeft,g=isNaN(this._paddingTop)?g:this._paddingTop,h=isNaN(this._horizontalGap)?0:this._horizontalGap,k=isNaN(this._verticalGap)?0:this._verticalGap;if(this.orientation==b.TileOrientation.COLUMNS){h=this._columnWidth+h;if(0>=h)return this.startIndex=0,this.endIndex=a-1,!1;k=this.target.horizontalScrollPosition+
this.target.width;g=Math.floor((this.target.horizontalScrollPosition-f)/h);0>g&&(g=0);f=Math.ceil((k-f)/h);0>f&&(f=0);this.startIndex=Math.min(a-1,Math.max(0,g*this._rowCount));this.endIndex=Math.min(a-1,Math.max(0,f*this._rowCount-1))}else{h=this._rowHeight+k;if(0>=h)return this.startIndex=0,this.endIndex=a-1,!1;k=this.target.verticalScrollPosition+this.target.height;f=Math.floor((this.target.verticalScrollPosition-g)/h);0>f&&(f=0);g=Math.ceil((k-g)/h);0>g&&(g=0);this.startIndex=Math.min(a-1,Math.max(0,
f*this._columnCount));this.endIndex=Math.min(a-1,Math.max(0,g*this._columnCount-1))}return this.startIndex!=d||this.endIndex!=e};a.prototype.updateDisplayList=function(a,e){d.prototype.updateDisplayList.call(this,a,e);if(this.target){var m=isNaN(this._padding)?0:this._padding,g=isNaN(this._paddingLeft)?m:this._paddingLeft,f=isNaN(this._paddingRight)?m:this._paddingRight,h=isNaN(this._paddingTop)?m:this._paddingTop,k=isNaN(this._paddingBottom)?m:this._paddingBottom,m=isNaN(this._horizontalGap)?0:this._horizontalGap,
n=isNaN(this._verticalGap)?0:this._verticalGap;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{this.calculateRowAndColumn(a,e);if(0==this._rowCount||0==this._columnCount){this.target.setContentSize(g+f,h+k);return}this.adjustForJustify(a,e);this.getIndexInView()}this.useVirtualLayout&&(this.calculateRowAndColumn(a,e),this.adjustForJustify(a,e));if(-1==this.startIndex||-1==this.endIndex)this.target.setContentSize(0,0);else{this.target.setVirtualElementIndicesInView(this.startIndex,
this.endIndex);for(var p,q,r,s=this.orientation==b.TileOrientation.COLUMNS,A=this.startIndex,D=this.startIndex;D<=this.endIndex;D++)p=this.useVirtualLayout?this.target.getVirtualElementAt(D):this.target.getElementAt(D),null!=p&&p.includeInLayout&&(s?(q=Math.ceil((A+1)/this._rowCount)-1,r=Math.ceil((A+1)%this._rowCount)-1,-1==r&&(r=this._rowCount-1)):(q=Math.ceil((A+1)%this._columnCount)-1,-1==q&&(q=this._columnCount-1),r=Math.ceil((A+1)/this._columnCount)-1),q=q*(this._columnWidth+m)+g,r=r*(this._rowHeight+
n)+h,this.sizeAndPositionElement(p,q,r,this._columnWidth,this.rowHeight),A++);h+=k;n=(this._rowHeight+n)*this._rowCount-n;this.target.setContentSize(Math.ceil((this._columnWidth+m)*this._columnCount-m+(g+f)),Math.ceil(n+h))}}};a.prototype.sizeAndPositionElement=function(a,d,e,g,f){var h=NaN,k=NaN;this.horizontalAlign==b.HorizontalAlign.JUSTIFY?h=g:isNaN(a.percentWidth)||(h=g*a.percentWidth*0.01);this.verticalAlign==b.VerticalAlign.JUSTIFY?k=f:isNaN(a.percentHeight)||(k=f*a.percentHeight*0.01);a.setLayoutBoundsSize(Math.round(h),
Math.round(k));h=d;switch(this.horizontalAlign){case b.HorizontalAlign.RIGHT:h+=g-a.layoutBoundsWidth;break;case b.HorizontalAlign.CENTER:h=d+(g-a.layoutBoundsWidth)/2}d=e;switch(this.verticalAlign){case b.VerticalAlign.BOTTOM:d+=f-a.layoutBoundsHeight;break;case b.VerticalAlign.MIDDLE:d+=(f-a.layoutBoundsHeight)/2}a.setLayoutBoundsPosition(Math.round(h),Math.round(d))};a.prototype.adjustForJustify=function(a,d){var e=isNaN(this._padding)?0:this._padding,g=isNaN(this._paddingLeft)?e:this._paddingLeft,
f=isNaN(this._paddingRight)?e:this._paddingRight,h=isNaN(this._paddingTop)?e:this._paddingTop,e=isNaN(this._paddingBottom)?e:this._paddingBottom,g=Math.max(0,a-g-f),h=Math.max(0,d-h-e);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap);isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap);this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap;this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;h-=this._rowHeight*this._rowCount;
g-=this._columnWidth*this._columnCount;0<h&&(this.rowAlign==b.RowAlign.JUSTIFY_USING_GAP?(f=Math.max(1,this._rowCount-1),this._verticalGap=h/f):this.rowAlign==b.RowAlign.JUSTIFY_USING_HEIGHT&&0<this._rowCount&&(this._rowHeight+=(h-(this._rowCount-1)*this._verticalGap)/this._rowCount));0<g&&(this.columnAlign==b.ColumnAlign.JUSTIFY_USING_GAP?(f=Math.max(1,this._columnCount-1),this._horizontalGap=g/f):this.columnAlign==b.ColumnAlign.JUSTIFY_USING_WIDTH&&0<this._columnCount&&(this._columnWidth+=(g-(this._columnCount-
1)*this._horizontalGap)/this._columnCount))};return a}(b.LayoutBase);b.TileLayout=e})(egret||(egret={}));(function(b){var e=function(){function b(a,c,d){this.raw_getElementAt="raw_getElementAt";this.raw_addElementAt="raw_addElementAt";this.raw_getElementIndex="raw_getElementIndex";this.raw_removeElement="raw_removeElement";this.raw_removeElementAt="raw_removeElementAt";this.raw_setElementIndex="raw_setElementIndex";this.owner=a;this.lowerBoundReference=c;this.upperBoundReference=d}Object.defineProperty(b.prototype,"numElements",{get:function(){return this.owner[this.upperBoundReference]-this.owner[this.lowerBoundReference]},
enumerable:!0,configurable:!0});b.prototype.getElementAt=function(a){return this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+a)};b.prototype.addElement=function(a){var c=this.owner[this.upperBoundReference];a.parent===this.owner&&c--;this.owner[this.upperBoundReference]++;this.owner[this.raw_addElementAt](a,c);a.ownerChanged(this);return a};b.prototype.addElementAt=function(a,c){this.owner[this.upperBoundReference]++;this.owner[this.raw_addElementAt](a,this.owner[this.lowerBoundReference]+
c);a.ownerChanged(this);return a};b.prototype.removeElement=function(a){var c=this.owner[this.raw_getElementIndex](a);this.owner[this.lowerBoundReference]<=c&&c<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](a),this.owner[this.upperBoundReference]--);a.ownerChanged(null);return a};b.prototype.removeElementAt=function(a){a+=this.owner[this.lowerBoundReference];var c;this.owner[this.lowerBoundReference]<=a&&a<this.owner[this.upperBoundReference]&&(c=this.owner[this.raw_removeElementAt](a),
this.owner[this.upperBoundReference]--);c.ownerChanged(null);return c};b.prototype.getElementIndex=function(a){a=this.owner[this.raw_getElementIndex](a);return a-=this.owner[this.lowerBoundReference]};b.prototype.setElementIndex=function(a,c){this.owner[this.raw_setElementIndex](a,this.owner[this.lowerBoundReference]+c)};return b}();b.UILayer=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._cursorIndex=this._toolTipIndex=this._topMostIndex=this._noTopMostIndex=0;this.addEventListener(b.Event.ADDED_TO_STAGE,this.onAddToStage,this);this.addEventListener(b.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(a,d);a.prototype.onAddToStage=function(a){if(b.UIGlobals._uiStage)throw Error("UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01");b.UIGlobals._uiStage=
this;this.stage.addEventListener(b.Event.RESIZE,this.onResize,this);this.onResize()};a.prototype.onRemoveFromStage=function(a){b.UIGlobals._uiStage=null;this.stage.removeEventListener(b.Event.RESIZE,this.onResize,this)};a.prototype.onResize=function(a){this._setWidth(this.stage.stageWidth);this._setHeight(this.stage.stageHeight)};Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._y},
set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"width",{get:function(){return this._width},set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return this._height},set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scaleX",{get:function(){return this._scaleX},set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"scaleY",{get:function(){return this._scaleY},
set:function(a){},enumerable:!0,configurable:!0});a.prototype.setActualSize=function(a,b){};a.prototype.setLayoutBoundsPosition=function(a,b){};a.prototype.setLayoutBoundsSize=function(a,b){};Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(a){a instanceof b.BasicLayout&&this._setLayout(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"popUpContainer",{get:function(){this._popUpContainer||(this._popUpContainer=new b.UILayer(this,"noTopMostIndex",
"topMostIndex"));return this._popUpContainer},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"toolTipContainer",{get:function(){this._toolTipContainer||(this._toolTipContainer=new b.UILayer(this,"topMostIndex","toolTipIndex"));return this._toolTipContainer},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cursorContainer",{get:function(){this._cursorContainer||(this._cursorContainer=new b.UILayer(this,"toolTipIndex","cursorIndex"));return this._cursorContainer},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"noTopMostIndex",{get:function(){return this._noTopMostIndex},set:function(a){var b=a-this._noTopMostIndex;this._noTopMostIndex=a;this.topMostIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"topMostIndex",{get:function(){return this._topMostIndex},set:function(a){var b=a-this._topMostIndex;this._topMostIndex=a;this.toolTipIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"toolTipIndex",
{get:function(){return this._toolTipIndex},set:function(a){var b=a-this._toolTipIndex;this._toolTipIndex=a;this.cursorIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cursorIndex",{get:function(){return this._cursorIndex},set:function(a){this._cursorIndex=a},enumerable:!0,configurable:!0});a.prototype.addElement=function(a){var b=this._noTopMostIndex;a.parent==this&&b--;return this.addElementAt(a,b)};a.prototype.addElementAt=function(a,b){if(a.parent==this){var e=this.getElementIndex(a);
e<this._noTopMostIndex?this.noTopMostIndex--:e>=this._noTopMostIndex&&e<this._topMostIndex?this.topMostIndex--:e>=this._topMostIndex&&e<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}b<=this._noTopMostIndex?this.noTopMostIndex++:b>this._noTopMostIndex&&b<=this._topMostIndex?this.topMostIndex++:b>this._topMostIndex&&b<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++;return d.prototype.addElementAt.call(this,a,b)};a.prototype.removeElement=function(a){return this.removeElementAt(d.prototype.getElementIndex.call(this,
a))};a.prototype.removeElementAt=function(a){var b=d.prototype.removeElementAt.call(this,a);a<this._noTopMostIndex?this.noTopMostIndex--:a>=this._noTopMostIndex&&a<this._topMostIndex?this.topMostIndex--:a>=this._topMostIndex&&a<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--;return b};a.prototype.removeAllElements=function(){for(;0<this._noTopMostIndex;)d.prototype.removeElementAt.call(this,0),this.noTopMostIndex--};a.prototype._elementRemoved=function(a,e,m){"undefined"===typeof m&&(m=
!0);m&&b.Event.dispatchEvent(a,"removeFromUIStage");d.prototype._elementRemoved.call(this,a,e,m)};a.prototype.raw_getElementAt=function(a){return d.prototype.getElementAt.call(this,a)};a.prototype.raw_addElement=function(a){var b=this.numElements;a.parent==this&&b--;return this.raw_addElementAt(a,b)};a.prototype.raw_addElementAt=function(a,b){if(a.parent==this){var e=this.getElementIndex(a);e<this._noTopMostIndex?this.noTopMostIndex--:e>=this._noTopMostIndex&&e<this._topMostIndex?this.topMostIndex--:
e>=this._topMostIndex&&e<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return d.prototype.addElementAt.call(this,a,b)};a.prototype.raw_removeElement=function(a){return d.prototype.removeElementAt.call(this,d.prototype.getElementIndex.call(this,a))};a.prototype.raw_removeElementAt=function(a){return d.prototype.removeElementAt.call(this,a)};a.prototype.raw_removeAllElements=function(){for(;0<this.numElements;)d.prototype.removeElementAt.call(this,0)};a.prototype.raw_getElementIndex=function(a){return d.prototype.getElementIndex.call(this,
a)};a.prototype.raw_setElementIndex=function(a,b){d.prototype.setElementIndex.call(this,a,b)};a.prototype.raw_swapElements=function(a,b){d.prototype.swapElementsAt.call(this,d.prototype.getElementIndex.call(this,a),d.prototype.getElementIndex.call(this,b))};a.prototype.raw_swapElementsAt=function(a,b){d.prototype.swapElementsAt.call(this,a,b)};return a}(b.Group);b.UIStage=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(a){function c(){a.call(this);this._popUpList=[];this.popUpDataList=[];this._modalColor=0;this._modalAlpha=0.5;this.invalidateModalFlag=!1}__extends(c,a);Object.defineProperty(c.prototype,"popUpList",{get:function(){return this._popUpList.concat()},enumerable:!0,configurable:!0});c.prototype.findPopUpData=function(a){for(var c=this.popUpDataList,b=c.length,d=0;d<b;d++){var e=c[d];if(e.popUp==a)return e}return null};c.prototype.addPopUp=function(a,e,g){"undefined"===typeof e&&
(e=!1);"undefined"===typeof g&&(g=!0);var f=b.UIGlobals.uiStage,h=this.findPopUpData(a);h?(h.modal=e,a.removeEventListener(c.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(h=new d(a,e),this.popUpDataList.push(h),this._popUpList.push(a));f.popUpContainer.addElement(a);g&&this.centerPopUp(a);"isPopUp"in a&&(a.isPopUp=!0);e&&this.invalidateModal();a.addEventListener(c.REMOVE_FROM_UISTAGE,this.onRemoved,this)};c.prototype.onRemoved=function(a){for(var b=0,d=this.popUpDataList,e=d.length,h=0;h<e;h++){var k=
d[h];if(k.popUp==a.target){"isPopUp"in k.popUp&&(k.popUp.isPopUp=!1);k.popUp.removeEventListener(c.REMOVE_FROM_UISTAGE,this.onRemoved,this);this.popUpDataList.splice(b,1);this._popUpList.splice(b,1);this.invalidateModal();break}b++}};Object.defineProperty(c.prototype,"modalColor",{get:function(){return this._modalColor},set:function(a){this._modalColor!=a&&(this._modalColor=a,this.invalidateModal())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"modalAlpha",{get:function(){return this._modalAlpha},
set:function(a){this._modalAlpha!=a&&(this._modalAlpha=a,this.invalidateModal())},enumerable:!0,configurable:!0});c.prototype.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,b.UIGlobals.stage.addEventListener(b.Event.ENTER_FRAME,this.validateModal,this),b.UIGlobals.stage.addEventListener(b.Event.RENDER,this.validateModal,this),b.UIGlobals.stage.invalidate())};c.prototype.validateModal=function(a){this.invalidateModalFlag=!1;b.UIGlobals.stage.removeEventListener(b.Event.ENTER_FRAME,
this.validateModal,this);b.UIGlobals.stage.removeEventListener(b.Event.RENDER,this.validateModal,this);this.updateModal(b.UIGlobals.uiStage)};c.prototype.updateModal=function(a){for(var c=a.popUpContainer,d=!1,e=c.numElements-1;0<=e;e--){var h=c.getElementAt(e);if((h=this.findPopUpData(h))&&h.modal){d=!0;break}}d?(this.modalMask||(this.modalMask=new b.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,
this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==a?(c.getElementIndex(this.modalMask)<e&&e--,c.setElementIndex(this.modalMask,e)):c.addElementAt(this.modalMask,e)):this.modalMask&&this.modalMask.parent==a&&c.removeElement(this.modalMask)};c.prototype.removePopUp=function(a){a&&a.parent&&this.findPopUpData(a)&&("removeElement"in a.parent?a.parent.removeElement(a):a.parent instanceof b.UIComponent?a.parent._removeFromDisplayList(a):a instanceof b.DisplayObject&&a.parent.removeChild(a))};
c.prototype.centerPopUp=function(a){a.top=a.bottom=a.left=a.right=NaN;a.verticalCenter=a.horizontalCenter=0;var c=a.parent;c&&("validateNow"in a&&a.validateNow(),a.x=0.5*(c.width-a.layoutBoundsWidth),a.y=0.5*(c.height-a.layoutBoundsHeight))};c.prototype.bringToFront=function(a){if(this.findPopUpData(a)&&a.parent&&"popUpContainer"in a.parent){var c=a.parent;c.popUpContainer.setElementIndex(a,c.popUpContainer.numElements-1);this.invalidateModal()}};c.REMOVE_FROM_UISTAGE="removeFromUIStage";return c}(b.EventDispatcher);
b.PopUpManagerImpl=e;var d=function(){return function(a,c){this.popUp=a;this.modal=c}}()})(egret||(egret={}));(function(b){var e=function(){function d(){}d.getImpl=function(){if(!d._impl)try{d._impl=b.Injector.getInstance("egret.IPopUpManager")}catch(a){d._impl=new b.PopUpManagerImpl}return d._impl};Object.defineProperty(d.prototype,"modalColor",{get:function(){return d.getImpl().modalColor},set:function(a){d.getImpl().modalColor=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"modalAlpha",{get:function(){return d.getImpl().modalAlpha},set:function(a){d.getImpl().modalAlpha=a},enumerable:!0,
configurable:!0});d.addPopUp=function(a,c,e){"undefined"===typeof c&&(c=!1);"undefined"===typeof e&&(e=!0);d.getImpl().addPopUp(a,c,e);b.PopUpEvent.dispatchPopUpEvent(d.getImpl(),b.PopUpEvent.ADD_POPUP,a,c)};d.removePopUp=function(a){d.getImpl().removePopUp(a);b.PopUpEvent.dispatchPopUpEvent(d.getImpl(),b.PopUpEvent.REMOVE_POPUP,a)};d.centerPopUp=function(a){d.getImpl().centerPopUp(a)};d.bringToFront=function(a){d.getImpl().bringToFront(a);b.PopUpEvent.dispatchPopUpEvent(d.getImpl(),b.PopUpEvent.BRING_TO_FRONT,
a)};Object.defineProperty(d,"popUpList",{get:function(){return d.getImpl().popUpList},enumerable:!0,configurable:!0});d.addEventListener=function(a,c,b,e,g){"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=0);d.getImpl().addEventListener(a,c,this,e,g)};d.removeEventListener=function(a,c,b,e){"undefined"===typeof e&&(e=!1);d.getImpl().removeEventListener(a,c,b,e)};return d}();b.PopUpManager=e})(egret||(egret={}));var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d},dragonBones;
(function(b){(function(a){var c=function(){function a(c,b){"undefined"===typeof c&&(c=0);"undefined"===typeof b&&(b=0);this.x=c;this.y=b}a.prototype.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};return a}();a.Point=c;c=function(){return function(a,c,b,d){"undefined"===typeof a&&(a=0);"undefined"===typeof c&&(c=0);"undefined"===typeof b&&(b=0);"undefined"===typeof d&&(d=0);this.x=a;this.y=c;this.width=b;this.height=d}}();a.Rectangle=c;c=function(){function a(){this.a=1;this.c=this.b=
0;this.d=1;this.ty=this.tx=0}a.prototype.invert=function(){var a=this.a,c=this.b,b=this.c,d=this.d,e=this.tx,l=a*d-c*b;this.a=d/l;this.b=-c/l;this.c=-b/l;this.d=a/l;this.tx=(b*this.ty-d*e)/l;this.ty=-(a*this.ty-c*e)/l};return a}();a.Matrix=c;c=function(){return function(){this.redOffset=this.redMultiplier=this.greenOffset=this.greenMultiplier=this.blueOffset=this.blueMultiplier=this.alphaOffset=this.alphaMultiplier=0}}();a.ColorTransform=c})(b.geom||(b.geom={}));var e=b.geom;(function(a){var c=function(){return function(a){this.type=
a}}();a.Event=c;var b=function(a){function c(b){a.call(this,b)}__extends(c,a);c.FADE_IN="fadeIn";c.FADE_OUT="fadeOut";c.START="start";c.COMPLETE="complete";c.LOOP_COMPLETE="loopComplete";c.FADE_IN_COMPLETE="fadeInComplete";c.FADE_OUT_COMPLETE="fadeOutComplete";return c}(c);a.AnimationEvent=b;b=function(a){function c(b){a.call(this,b)}__extends(c,a);c.Z_ORDER_UPDATED="zOrderUpdated";return c}(c);a.ArmatureEvent=b;b=function(a){function c(b){a.call(this,b)}__extends(c,a);c.ANIMATION_FRAME_EVENT="animationFrameEvent";
c.BONE_FRAME_EVENT="boneFrameEvent";return c}(c);a.FrameEvent=b;c=function(a){function c(b){a.call(this,b)}__extends(c,a);c.SOUND="sound";c.BONE_FRAME_EVENT="boneFrameEvent";return c}(c);a.SoundEvent=c;c=function(){function a(){}a.prototype.hasEventListener=function(a){return this._listenersMap&&this._listenersMap[a]?!0:!1};a.prototype.addEventListener=function(a,c){if(a&&c){this._listenersMap||(this._listenersMap={});var b=this._listenersMap[a];b&&this.removeEventListener(a,c);b?b.push(c):this._listenersMap[a]=
[c]}};a.prototype.removeEventListener=function(a,c){if(this._listenersMap&&a&&c){var b=this._listenersMap[a];if(b)for(var d=b.length,e=0;e<d;e++)b[e]==c&&(1==d?(b.length=0,delete this._listenersMap[a]):b.splice(e,1))}};a.prototype.removeAllEventListeners=function(a){a?delete this._listenersMap[a]:this._listenersMap=null};a.prototype.dispatchEvent=function(a){if(a){var c=this._listenersMap[a.type];if(c){a.target=this;for(var b=c.concat(),c=c.length,d=0;d<c;d++)b[d](a)}}};return a}();a.EventDispatcher=
c;c=function(a){function c(){a.call(this);if(c._instance)throw Error("Singleton already constructed!");}__extends(c,a);c.getInstance=function(){c._instance||(c._instance=new c);return c._instance};return c}(c);a.SoundEventManager=c})(b.events||(b.events={}));var d=b.events;(function(a){var b=function(){function a(){this.timeScale=1;this.time=0.001*(new Date).getTime();this._animatableList=[]}a.prototype.contains=function(a){return 0<=this._animatableList.indexOf(a)};a.prototype.add=function(a){a&&
-1==this._animatableList.indexOf(a)&&this._animatableList.push(a)};a.prototype.remove=function(a){a=this._animatableList.indexOf(a);0<=a&&(this._animatableList[a]=null)};a.prototype.clear=function(){this._animatableList.length=0};a.prototype.advanceTime=function(a){if(0>a){var c=0.001*(new Date).getTime();a=c-this.time;this.time=c}a*=this.timeScale;c=this._animatableList.length;if(0!=c){for(var b=0,d=0;d<c;d++){var e=this._animatableList[d];e&&(b!=d&&(this._animatableList[b]=e,this._animatableList[d]=
null),e.advanceTime(a),b++)}if(b!=d){for(c=this._animatableList.length;d<c;)this._animatableList[b++]=this._animatableList[d++];this._animatableList.length=b}}};a.clock=new a;return a}();a.WorldClock=b;var f=function(){function a(){this.transform=new c.DBTransform;this.pivot=new e.Point;this._durationTransform=new c.DBTransform;this._durationPivot=new e.Point;this._durationColor=new e.ColorTransform}a._borrowObject=function(){return 0==a._pool.length?new a:a._pool.pop()};a._returnObject=function(c){0>
a._pool.indexOf(c)&&(a._pool[a._pool.length]=c);c.clear()};a._clear=function(){for(var c=a._pool.length;c--;)a._pool[c].clear();a._pool.length=0};a.getEaseValue=function(c,b){if(1<b){var d=0.5*(1-Math.cos(c*Math.PI))-c;b-=1}else 0<b?d=Math.sin(c*a.HALF_PI)-c:0>b&&(d=1-Math.cos(c*a.HALF_PI)-c,b*=-1);return d*b+c};a.prototype.fadeIn=function(a,c,b){this._bone=a;this._animationState=c;this._timeline=b;this._originTransform=this._timeline.originTransform;this._originPivot=this._timeline.originPivot;this._tweenColor=
this._tweenTransform=!1;this._totalTime=this._animationState.totalTime;this.transform.x=0;this.transform.y=0;this.transform.scaleX=0;this.transform.scaleY=0;this.transform.skewX=0;this.transform.skewY=0;this.pivot.x=0;this.pivot.y=0;this._durationTransform.x=0;this._durationTransform.y=0;this._durationTransform.scaleX=0;this._durationTransform.scaleY=0;this._durationTransform.skewX=0;this._durationTransform.skewY=0;this._durationPivot.x=0;this._durationPivot.y=0;this._currentFrame=null;switch(this._timeline.getFrameList().length){case 0:this._bone._arriveAtFrame(null,
this,this._animationState,!1);this._updateState=0;break;case 1:this._updateState=-1;break;default:this._updateState=1}};a.prototype.fadeOut=function(){this.transform.skewX=l.TransformUtil.formatRadian(this.transform.skewX);this.transform.skewY=l.TransformUtil.formatRadian(this.transform.skewY)};a.prototype.update=function(c){if(this._updateState)if(0<this._updateState){c=0==this._timeline.scale?1:c/this._timeline.scale;1==c&&(c=0.99999999);c+=this._timeline.offset;var b=Math.floor(c);c-=b;for(var d=
this._totalTime*c,e=!1,f;!this._currentFrame||d>this._currentFramePosition+this._currentFrameDuration||d<this._currentFramePosition;)e&&this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!0),e=!0,this._currentFrame?(f=this._timeline.getFrameList().indexOf(this._currentFrame)+1,f>=this._timeline.getFrameList().length&&(f=0),this._currentFrame=this._timeline.getFrameList()[f]):(f=0,this._currentFrame=this._timeline.getFrameList()[0]),this._currentFrameDuration=this._currentFrame.duration,
this._currentFramePosition=this._currentFrame.position;e&&(this.tweenActive=0<=this._currentFrame.displayIndex,f++,f>=this._timeline.getFrameList().length&&(f=0),e=this._timeline.getFrameList()[f],0==f&&this._animationState.loop&&this._animationState.loopCount>=Math.abs(this._animationState.loop)-1&&0.99999999<((this._currentFramePosition+this._currentFrameDuration)/this._totalTime+b-this._timeline.offset)*this._timeline.scale?(this._updateState=0,this._tweenEasing=NaN):0>this._currentFrame.displayIndex||
0>e.displayIndex||!this._animationState.tweenEnabled?this._tweenEasing=NaN:isNaN(this._animationState.clip.tweenEasing)?this._tweenEasing=this._currentFrame.tweenEasing:this._tweenEasing=this._animationState.clip.tweenEasing,isNaN(this._tweenEasing)?this._tweenColor=this._tweenTransform=!1:(this._durationTransform.x=e.transform.x-this._currentFrame.transform.x,this._durationTransform.y=e.transform.y-this._currentFrame.transform.y,this._durationTransform.skewX=e.transform.skewX-this._currentFrame.transform.skewX,
this._durationTransform.skewY=e.transform.skewY-this._currentFrame.transform.skewY,this._durationTransform.scaleX=e.transform.scaleX-this._currentFrame.transform.scaleX,this._durationTransform.scaleY=e.transform.scaleY-this._currentFrame.transform.scaleY,0==f&&(this._durationTransform.skewX=l.TransformUtil.formatRadian(this._durationTransform.skewX),this._durationTransform.skewY=l.TransformUtil.formatRadian(this._durationTransform.skewY)),this._durationPivot.x=e.pivot.x-this._currentFrame.pivot.x,
this._durationPivot.y=e.pivot.y-this._currentFrame.pivot.y,this._tweenTransform=0!=this._durationTransform.x||0!=this._durationTransform.y||0!=this._durationTransform.skewX||0!=this._durationTransform.skewY||0!=this._durationTransform.scaleX||0!=this._durationTransform.scaleY||0!=this._durationPivot.x||0!=this._durationPivot.y?!0:!1,this._currentFrame.color&&e.color?(this._durationColor.alphaOffset=e.color.alphaOffset-this._currentFrame.color.alphaOffset,this._durationColor.redOffset=e.color.redOffset-
this._currentFrame.color.redOffset,this._durationColor.greenOffset=e.color.greenOffset-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=e.color.blueOffset-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=e.color.alphaMultiplier-this._currentFrame.color.alphaMultiplier,this._durationColor.redMultiplier=e.color.redMultiplier-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=e.color.greenMultiplier-this._currentFrame.color.greenMultiplier,
this._durationColor.blueMultiplier=e.color.blueMultiplier-this._currentFrame.color.blueMultiplier,this._tweenColor=0!=this._durationColor.alphaOffset||0!=this._durationColor.redOffset||0!=this._durationColor.greenOffset||0!=this._durationColor.blueOffset||0!=this._durationColor.alphaMultiplier||0!=this._durationColor.redMultiplier||0!=this._durationColor.greenMultiplier||0!=this._durationColor.blueMultiplier?!0:!1):this._currentFrame.color?(this._tweenColor=!0,this._durationColor.alphaOffset=-this._currentFrame.color.alphaOffset,
this._durationColor.redOffset=-this._currentFrame.color.redOffset,this._durationColor.greenOffset=-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=1-this._currentFrame.color.alphaMultiplier,this._durationColor.redMultiplier=1-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=1-this._currentFrame.color.greenMultiplier,this._durationColor.blueMultiplier=1-this._currentFrame.color.blueMultiplier):
e.color?(this._tweenColor=!0,this._durationColor.alphaOffset=e.color.alphaOffset,this._durationColor.redOffset=e.color.redOffset,this._durationColor.greenOffset=e.color.greenOffset,this._durationColor.blueOffset=e.color.blueOffset,this._durationColor.alphaMultiplier=e.color.alphaMultiplier-1,this._durationColor.redMultiplier=e.color.redMultiplier-1,this._durationColor.greenMultiplier=e.color.greenMultiplier-1,this._durationColor.blueMultiplier=e.color.blueMultiplier-1):this._tweenColor=!1),this._tweenTransform||
(this._animationState.blend?(this.transform.x=this._originTransform.x+this._currentFrame.transform.x,this.transform.y=this._originTransform.y+this._currentFrame.transform.y,this.transform.skewX=this._originTransform.skewX+this._currentFrame.transform.skewX,this.transform.skewY=this._originTransform.skewY+this._currentFrame.transform.skewY,this.transform.scaleX=this._originTransform.scaleX+this._currentFrame.transform.scaleX,this.transform.scaleY=this._originTransform.scaleY+this._currentFrame.transform.scaleY,
this.pivot.x=this._originPivot.x+this._currentFrame.pivot.x,this.pivot.y=this._originPivot.y+this._currentFrame.pivot.y):(this.transform.x=this._currentFrame.transform.x,this.transform.y=this._currentFrame.transform.y,this.transform.skewX=this._currentFrame.transform.skewX,this.transform.skewY=this._currentFrame.transform.skewY,this.transform.scaleX=this._currentFrame.transform.scaleX,this.transform.scaleY=this._currentFrame.transform.scaleY,this.pivot.x=this._currentFrame.pivot.x,this.pivot.y=this._currentFrame.pivot.y)),
this._tweenColor||(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,this._currentFrame.color.blueMultiplier,!0):this._bone._isColorChanged&&this._bone._updateColor(0,0,0,0,1,1,1,1,!1)),this._bone._arriveAtFrame(this._currentFrame,this,
this._animationState,!1));if(this._tweenTransform||this._tweenColor)c=(d-this._currentFramePosition)/this._currentFrameDuration,this._tweenEasing&&(c=a.getEaseValue(c,this._tweenEasing));this._tweenTransform&&(b=this._currentFrame.transform,d=this._currentFrame.pivot,this._animationState.blend?(this.transform.x=this._originTransform.x+b.x+this._durationTransform.x*c,this.transform.y=this._originTransform.y+b.y+this._durationTransform.y*c,this.transform.skewX=this._originTransform.skewX+b.skewX+this._durationTransform.skewX*
c,this.transform.skewY=this._originTransform.skewY+b.skewY+this._durationTransform.skewY*c,this.transform.scaleX=this._originTransform.scaleX+b.scaleX+this._durationTransform.scaleX*c,this.transform.scaleY=this._originTransform.scaleY+b.scaleY+this._durationTransform.scaleY*c,this.pivot.x=this._originPivot.x+d.x+this._durationPivot.x*c,this.pivot.y=this._originPivot.y+d.y+this._durationPivot.y*c):(this.transform.x=b.x+this._durationTransform.x*c,this.transform.y=b.y+this._durationTransform.y*c,this.transform.skewX=
b.skewX+this._durationTransform.skewX*c,this.transform.skewY=b.skewY+this._durationTransform.skewY*c,this.transform.scaleX=b.scaleX+this._durationTransform.scaleX*c,this.transform.scaleY=b.scaleY+this._durationTransform.scaleY*c,this.pivot.x=d.x+this._durationPivot.x*c,this.pivot.y=d.y+this._durationPivot.y*c));this._tweenColor&&(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset+this._durationColor.alphaOffset*c,this._currentFrame.color.redOffset+this._durationColor.redOffset*
c,this._currentFrame.color.greenOffset+this._durationColor.greenOffset*c,this._currentFrame.color.blueOffset+this._durationColor.blueOffset*c,this._currentFrame.color.alphaMultiplier+this._durationColor.alphaMultiplier*c,this._currentFrame.color.redMultiplier+this._durationColor.redMultiplier*c,this._currentFrame.color.greenMultiplier+this._durationColor.greenMultiplier*c,this._currentFrame.color.blueMultiplier+this._durationColor.blueMultiplier*c,!0):this._bone._updateColor(this._durationColor.alphaOffset*
c,this._durationColor.redOffset*c,this._durationColor.greenOffset*c,this._durationColor.blueOffset*c,1+this._durationColor.alphaMultiplier*c,1+this._durationColor.redMultiplier*c,1+this._durationColor.greenMultiplier*c,1+this._durationColor.blueMultiplier*c,!0))}else this._updateState=0,this._animationState.blend?(this.transform.copy(this._originTransform),this.pivot.x=this._originPivot.x,this.pivot.y=this._originPivot.y):(this.transform.x=this.transform.y=this.transform.skewX=this.transform.skewY=
this.transform.scaleX=this.transform.scaleY=0,this.pivot.x=0,this.pivot.y=0),this._currentFrame=this._timeline.getFrameList()[0],this.tweenActive=0<=this._currentFrame.displayIndex,this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,this._currentFrame.color.blueMultiplier,
!0):this._bone._updateColor(0,0,0,0,1,1,1,1,!1),this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!1)};a.prototype.clear=function(){this._updateState=0;this._originPivot=this._originTransform=this._currentFrame=this._timeline=this._animationState=this._bone=null};a.HALF_PI=0.5*Math.PI;a._pool=[];return a}();a.TimelineState=f;var g=function(){function a(){this.layer=this.loop=0;this._timelineStates={}}a._borrowObject=function(){return 0==a._pool.length?new a:a._pool.pop()};a._returnObject=
function(c){0>a._pool.indexOf(c)&&(a._pool[a._pool.length]=c);c.clear()};a._clear=function(){for(var c=a._pool.length;c--;)a._pool[c].clear();a._pool.length=0};a.prototype.fadeIn=function(a,c,b,d,e,l,f,g){this.layer=l;this.clip=c;this.name=this.clip.name;this.totalTime=this.clip.duration;this._armature=a;2>Math.round(this.clip.duration*this.clip.frameRate)||Infinity==d?(this.timeScale=1,this.currentTime=this.totalTime,this.loop=0<=this.loop?1:-1):(this.timeScale=d,this.currentTime=0,this.loop=e);
this._pauseBeforeFadeInComplete=g;this._fadeInTime=b*this.timeScale;this._fadeState=1;this._fadeOutBeginTime=0;this._fadeOutWeight=-1;this._fadeWeight=0;this._fadeIn=!0;this._fadeOut=!1;this.loopCount=-1;this.displayControl=f;this.isPlaying=!0;this.isComplete=!1;this.weight=1;this.tweenEnabled=this.enabled=this.blend=!0;this.updateTimelineStates()};a.prototype.fadeOut=function(a,c){"undefined"===typeof c&&(c=!1);if(this._armature&&!(0<=this._fadeOutWeight)){this._fadeState=-1;this._fadeOutWeight=
this._fadeWeight;this._fadeOutTime=a*this.timeScale;this._fadeOutBeginTime=this.currentTime;this._fadeOut=!0;this.isPlaying=!c;this.displayControl=!1;for(var b in this._timelineStates)this._timelineStates[b].fadeOut();this.enabled=!0}};a.prototype.play=function(){this.isPlaying=!0};a.prototype.stop=function(){this.isPlaying=!1};a.prototype.getMixingTransform=function(a){return this._mixingTransforms?Number(this._mixingTransforms[a]):-1};a.prototype.addMixingTransform=function(a,c,b){"undefined"===
typeof c&&(c=2);"undefined"===typeof b&&(b=!0);if(this.clip&&this.clip.getTimeline(a)){this._mixingTransforms||(this._mixingTransforms={});if(b){b=this._armature._boneList.length;for(var d,e;b--;)d=this._armature._boneList[b],d.name==a&&(e=d),e&&(e==d||e.contains(d))&&(this._mixingTransforms[d.name]=c)}else this._mixingTransforms[a]=c;this.updateTimelineStates()}else throw Error();};a.prototype.removeMixingTransform=function(a,c){"undefined"===typeof a&&(a=null);"undefined"===typeof c&&(c=!0);if(a){if(c)for(var b=
this._armature._boneList.length,d,e;b--;)d=this._armature._boneList[b],d.name==a&&(e=d),e&&(e==d||e.contains(d))&&delete this._mixingTransforms[d.name];else delete this._mixingTransforms[a];for(var l in this._mixingTransforms){var f=!0;break}f||(this._mixingTransforms=null)}else this._mixingTransforms=null;this.updateTimelineStates()};a.prototype.advanceTime=function(a){if(!this.enabled)return!1;var c,b;this._fadeIn&&(this._fadeIn=!1,this._armature.hasEventListener(d.AnimationEvent.FADE_IN)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_IN),
c.animationState=this,this._armature._eventList.push(c)));this._fadeOut&&(this._fadeOut=!1,this._armature.hasEventListener(d.AnimationEvent.FADE_OUT)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_OUT),c.animationState=this,this._armature._eventList.push(c)));this.currentTime+=a*this.timeScale;if(this.isPlaying&&!this.isComplete){var e;if(this._pauseBeforeFadeInComplete)this.isPlaying=this._pauseBeforeFadeInComplete=!1,a=0,e=Math.floor(a);else if(a=this.currentTime/this.totalTime,e=Math.floor(a),
e!=this.loopCount&&(-1==this.loopCount&&this._armature.hasEventListener(d.AnimationEvent.START)&&(c=new d.AnimationEvent(d.AnimationEvent.START),c.animationState=this,this._armature._eventList.push(c)),this.loopCount=e))this.loop&&this.loopCount*this.loopCount>=this.loop*this.loop-1?(b=!0,a=1,e=0,this._armature.hasEventListener(d.AnimationEvent.COMPLETE)&&(c=new d.AnimationEvent(d.AnimationEvent.COMPLETE),c.animationState=this,this._armature._eventList.push(c))):this._armature.hasEventListener(d.AnimationEvent.LOOP_COMPLETE)&&
(c=new d.AnimationEvent(d.AnimationEvent.LOOP_COMPLETE),c.animationState=this,this._armature._eventList.push(c));for(var l in this._timelineStates)this._timelineStates[l].update(a);c=this.clip.getFrameList();if(0<c.length){a=this.totalTime*(a-e);for(e=!1;!this._currentFrame||a>this._currentFrame.position+this._currentFrame.duration||a<this._currentFrame.position;)e&&this._armature._arriveAtFrame(this._currentFrame,null,this,!0),e=!0,this._currentFrame?(l=c.indexOf(this._currentFrame),l++,l>=c.length&&
(l=0),this._currentFrame=c[l]):this._currentFrame=c[0];e&&this._armature._arriveAtFrame(this._currentFrame,null,this,!1)}}if(0<this._fadeState)0==this._fadeInTime?(this._fadeWeight=1,this._fadeState=0,this.isPlaying=!0,this._armature.hasEventListener(d.AnimationEvent.FADE_IN_COMPLETE)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_IN_COMPLETE),c.animationState=this,this._armature._eventList.push(c))):(this._fadeWeight=this.currentTime/this._fadeInTime,1<=this._fadeWeight&&(this._fadeWeight=1,this._fadeState=
0,this.isPlaying||(this.currentTime-=this._fadeInTime),this.isPlaying=!0,this._armature.hasEventListener(d.AnimationEvent.FADE_IN_COMPLETE)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_IN_COMPLETE),c.animationState=this,this._armature._eventList.push(c))));else if(0>this._fadeState){if(0==this._fadeOutTime)return this._fadeState=this._fadeWeight=0,this._armature.hasEventListener(d.AnimationEvent.FADE_OUT_COMPLETE)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_OUT_COMPLETE),c.animationState=this,
this._armature._eventList.push(c)),!0;this._fadeWeight=(1-(this.currentTime-this._fadeOutBeginTime)/this._fadeOutTime)*this._fadeOutWeight;if(0>=this._fadeWeight)return this._fadeState=this._fadeWeight=0,this._armature.hasEventListener(d.AnimationEvent.FADE_OUT_COMPLETE)&&(c=new d.AnimationEvent(d.AnimationEvent.FADE_OUT_COMPLETE),c.animationState=this,this._armature._eventList.push(c)),!0}b&&(this.isComplete=!0,0>this.loop&&this.fadeOut((this._fadeOutWeight||this._fadeInTime)/this.timeScale,!0));
return!1};a.prototype.updateTimelineStates=function(){if(this._mixingTransforms){for(var a in this._timelineStates)null==this._mixingTransforms[a]&&this.removeTimelineState(a);for(a in this._mixingTransforms)this._timelineStates[a]||this.addTimelineState(a)}else for(a in this.clip.getTimelines())this._timelineStates[a]||this.addTimelineState(a)};a.prototype.addTimelineState=function(a){var c=this._armature.getBone(a);if(c){var b=f._borrowObject(),d=this.clip.getTimeline(a);b.fadeIn(c,this,d);this._timelineStates[a]=
b}};a.prototype.removeTimelineState=function(a){f._returnObject(this._timelineStates[a]);delete this._timelineStates[a]};a.prototype.clear=function(){this.clip=null;this.enabled=!1;this._mixingTransforms=this._currentFrame=this._armature=null;for(var a in this._timelineStates)this.removeTimelineState(a)};a._pool=[];return a}();a.AnimationState=g;b=function(){function a(c){this._armature=c;this._animationLayer=[];this._isPlaying=!1;this.animationNameList=[];this.tweenEnabled=!0;this.timeScale=1}a.prototype.getLastAnimationName=
function(){return this._lastAnimationState?this._lastAnimationState.name:null};a.prototype.getLastAnimationState=function(){return this._lastAnimationState};a.prototype.getAnimationDataList=function(){return this._animationDataList};a.prototype.setAnimationDataList=function(a){this._animationDataList=a;this.animationNameList.length=0;for(var c in this._animationDataList)this.animationNameList[this.animationNameList.length]=this._animationDataList[c].name};a.prototype.getIsPlaying=function(){return this._isPlaying&&
!this.getIsComplete()};a.prototype.getIsComplete=function(){if(this._lastAnimationState){if(!this._lastAnimationState.isComplete)return!1;for(var a=this._animationLayer.length;a--;)for(var c=this._animationLayer[a],b=c.length;b--;)if(!c[b].isComplete)return!1;return!0}return!1};a.prototype.dispose=function(){if(this._armature){this.stop();for(var a=this._animationLayer.length;a--;){for(var c=this._animationLayer[a],b=c.length;b--;)g._returnObject(c[b]);c.length=0}this._animationLayer.length=0;this.animationNameList.length=
0;this.animationNameList=this._animationDataList=this._animationLayer=this._armature=null}};a.prototype.gotoAndPlay=function(c,b,d,e,l,f,m,k,h,p){"undefined"===typeof b&&(b=-1);"undefined"===typeof d&&(d=-1);"undefined"===typeof e&&(e=NaN);"undefined"===typeof l&&(l=0);"undefined"===typeof f&&(f=null);"undefined"===typeof m&&(m=a.SAME_LAYER_AND_GROUP);"undefined"===typeof k&&(k=!0);"undefined"===typeof h&&(h=!0);"undefined"===typeof p&&(p=!0);if(!this._animationDataList)return null;for(var n=this._animationDataList.length,
x;n--;)if(this._animationDataList[n].name==c){x=this._animationDataList[n];break}if(!x)return null;this._isPlaying=!0;b=0>b?0>x.fadeInTime?0.3:x.fadeInTime:b;d=0>d?0>x.scale?1:x.scale:d/x.duration;e=isNaN(e)?x.loop:e;l=this.addLayer(l);var y;switch(m){case a.NONE:break;case a.SAME_LAYER:y=this._animationLayer[l];for(n=y.length;n--;)m=y[n],m.fadeOut(b,h);break;case a.SAME_GROUP:for(H=this._animationLayer.length;H--;)for(y=this._animationLayer[H],n=y.length;n--;)m=y[n],m.group==f&&m.fadeOut(b,h);break;
case a.ALL:for(var H=this._animationLayer.length;H--;)for(y=this._animationLayer[H],n=y.length;n--;)m=y[n],m.fadeOut(b,h);break;default:for(y=this._animationLayer[l],n=y.length;n--;)m=y[n],m.group==f&&m.fadeOut(b,h)}this._lastAnimationState=g._borrowObject();this._lastAnimationState.group=f;this._lastAnimationState.tweenEnabled=this.tweenEnabled;this._lastAnimationState.fadeIn(this._armature,x,b,1/d,e,l,k,p);this.addState(this._lastAnimationState);e=this._armature._slotList;for(n=e.length;n--;)l=
e[n],(l=l.getChildArmature())&&l.animation.gotoAndPlay(c,b);return this._lastAnimationState};a.prototype.play=function(){this._animationDataList&&0!=this._animationDataList.length&&(this._lastAnimationState?this._isPlaying?this.gotoAndPlay(this._lastAnimationState.name):this._isPlaying=!0:this.gotoAndPlay(this._animationDataList[0].name))};a.prototype.stop=function(){this._isPlaying=!1};a.prototype.getState=function(a,c){"undefined"===typeof c&&(c=0);var b=this._animationLayer.length;if(0==b)return null;
c>=b&&(c=b-1);b=this._animationLayer[c];if(!b)return null;for(var d=b.length;d--;)if(b[d].name==a)return b[d];return null};a.prototype.hasAnimation=function(a){for(var c=this._animationDataList.length;c--;)if(this._animationDataList[c].name==a)return!0;return!1};a.prototype.advanceTime=function(a){if(this._isPlaying){a*=this.timeScale;var c=this._armature._boneList.length,b,d,e=c,l,f,g,m,k,h,p,q,n,r,G,M,J,N,F,K,I;for(c--;e--;){f=this._armature._boneList[e];g=f.name;m=1;M=G=r=n=q=p=h=k=0;for(b=this._animationLayer.length;b--;){J=
0;N=this._animationLayer[b];l=N.length;for(d=0;d<l;d++)F=N[d],e==c&&F.advanceTime(a)?(this.removeState(F),d--,l--):(K=F._timelineStates[g])&&K.tweenActive&&(F=F._fadeWeight*F.weight*m,I=K.transform,K=K.pivot,k+=I.x*F,h+=I.y*F,p+=I.skewX*F,q+=I.skewY*F,n+=I.scaleX*F,r+=I.scaleY*F,G+=K.x*F,M+=K.y*F,J+=F);if(J>=m)break;else m-=J}I=f.tween;K=f._tweenPivot;I.x=k;I.y=h;I.skewX=p;I.skewY=q;I.scaleX=n;I.scaleY=r;K.x=G;K.y=M}}};a.prototype.addLayer=function(a){a>=this._animationLayer.length&&(a=this._animationLayer.length,
this._animationLayer[a]=[]);return a};a.prototype.addState=function(a){this._animationLayer[a.layer].push(a)};a.prototype.removeState=function(a){var c=a.layer,b=this._animationLayer[c];b.splice(b.indexOf(a),1);g._returnObject(a);0==b.length&&c==this._animationLayer.length-1&&this._animationLayer.length--};a.NONE="none";a.SAME_LAYER="sameLayer";a.SAME_GROUP="sameGroup";a.SAME_LAYER_AND_GROUP="sameLayerAndGroup";a.ALL="all";return a}();a.Animation=b})(b.animation||(b.animation={}));var a=b.animation;
(function(a){var c=function(){function a(){this.skewY=this.skewX=this.y=this.x=0;this.scaleY=this.scaleX=1}a.prototype.getRotation=function(){return this.skewX};a.prototype.setRotation=function(a){this.skewX=this.skewY=a};a.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.skewX=a.skewX;this.skewY=a.skewY;this.scaleX=a.scaleX;this.scaleY=a.scaleY};a.prototype.toString=function(){return"[DBTransform (x="+this.x+" y="+this.y+" skewX="+this.skewX+" skewY="+this.skewY+" scaleX="+this.scaleX+" scaleY="+
this.scaleY+")]"};return a}();a.DBTransform=c;var b=function(){function a(){this.duration=this.position=0}a.prototype.dispose=function(){};return a}();a.Frame=b;var d=function(a){function b(){a.call(this);this.displayIndex=this.tweenRotate=this.tweenEasing=0;this.zOrder=NaN;this.visible=!0;this.global=new c;this.transform=new c;this.pivot=new e.Point}__extends(b,a);b.prototype.dispose=function(){a.prototype.dispose.call(this);this.color=this.pivot=this.transform=this.global=null};return b}(b);a.TransformFrame=
d;var f=function(){function a(){this._frameList=[];this.duration=0;this.scale=1}a.prototype.getFrameList=function(){return this._frameList};a.prototype.dispose=function(){for(var a=this._frameList.length;a--;)this._frameList[a].dispose();this._frameList.length=0;this._frameList=null};a.prototype.addFrame=function(a){if(!a)throw Error();if(0>this._frameList.indexOf(a))this._frameList[this._frameList.length]=a;else throw Error();};return a}();a.Timeline=f;var g=function(a){function b(){a.call(this);
this.originTransform=new c;this.originPivot=new e.Point;this.offset=0;this.transformed=!1}__extends(b,a);b.prototype.dispose=function(){this!=b.HIDE_TIMELINE&&(a.prototype.dispose.call(this),this.originPivot=this.originTransform=null)};b.HIDE_TIMELINE=new b;return b}(f);a.TransformTimeline=g;var m=function(a){function c(){a.call(this);this.loop=this.frameRate=0;this.tweenEasing=NaN;this.fadeInTime=0;this._timelines={}}__extends(c,a);c.prototype.getTimelines=function(){return this._timelines};c.prototype.dispose=
function(){a.prototype.dispose.call(this);for(var c in this._timelines)this._timelines[c].dispose();this._timelines=null};c.prototype.getTimeline=function(a){return this._timelines[a]};c.prototype.addTimeline=function(a,c){if(!a)throw Error();this._timelines[c]=a};return c}(f);a.AnimationData=m;var h=function(){function a(){this.transform=new c}a.prototype.dispose=function(){this.pivot=this.transform=null};a.ARMATURE="armature";a.IMAGE="image";return a}();a.DisplayData=h;var v=function(){function a(){this._displayDataList=
[];this.zOrder=0;this.blendMode="normal"}a.prototype.getDisplayDataList=function(){return this._displayDataList};a.prototype.dispose=function(){for(var a=this._displayDataList.length;a--;)this._displayDataList[a].dispose();this._displayDataList.length=0;this._displayDataList=null};a.prototype.addDisplayData=function(a){if(!a)throw Error();if(0>this._displayDataList.indexOf(a))this._displayDataList[this._displayDataList.length]=a;else throw Error();};a.prototype.getDisplayData=function(a){for(var c=
this._displayDataList.length;c--;)if(this._displayDataList[c].name==a)return this._displayDataList[c];return null};return a}();a.SlotData=v;var z=function(){function a(){this.length=0;this.global=new c;this.transform=new c;this.scaleMode=1;this.fixedRotation=!1}a.prototype.dispose=function(){this.transform=this.global=null};return a}();a.BoneData=z;var B=function(){function a(){this._slotDataList=[]}a.prototype.getSlotDataList=function(){return this._slotDataList};a.prototype.dispose=function(){for(var a=
this._slotDataList.length;a--;)this._slotDataList[a].dispose();this._slotDataList.length=0;this._slotDataList=null};a.prototype.getSlotData=function(a){for(var c=this._slotDataList.length;c--;)if(this._slotDataList[c].name==a)return this._slotDataList[c];return null};a.prototype.addSlotData=function(a){if(!a)throw Error();if(0>this._slotDataList.indexOf(a))this._slotDataList[this._slotDataList.length]=a;else throw Error();};return a}();a.SkinData=B;var t=function(){function a(){this._boneDataList=
[];this._skinDataList=[];this._animationDataList=[]}a.prototype.getBoneDataList=function(){return this._boneDataList};a.prototype.getSkinDataList=function(){return this._skinDataList};a.prototype.getAnimationDataList=function(){return this._animationDataList};a.prototype.dispose=function(){for(var a=this._boneDataList.length;a--;)this._boneDataList[a].dispose();for(a=this._skinDataList.length;a--;)this._skinDataList[a].dispose();for(a=this._animationDataList.length;a--;)this._animationDataList[a].dispose();
this._boneDataList.length=0;this._skinDataList.length=0;this._animationDataList.length=0;this._animationDataList=this._skinDataList=this._boneDataList=null};a.prototype.getBoneData=function(a){for(var c=this._boneDataList.length;c--;)if(this._boneDataList[c].name==a)return this._boneDataList[c];return null};a.prototype.getSkinData=function(a){if(!a)return this._skinDataList[0];for(var c=this._skinDataList.length;c--;)if(this._skinDataList[c].name==a)return this._skinDataList[c];return null};a.prototype.getAnimationData=
function(a){for(var c=this._animationDataList.length;c--;)if(this._animationDataList[c].name==a)return this._animationDataList[c];return null};a.prototype.addBoneData=function(a){if(!a)throw Error();if(0>this._boneDataList.indexOf(a))this._boneDataList[this._boneDataList.length]=a;else throw Error();};a.prototype.addSkinData=function(a){if(!a)throw Error();if(0>this._skinDataList.indexOf(a))this._skinDataList[this._skinDataList.length]=a;else throw Error();};a.prototype.addAnimationData=function(a){if(!a)throw Error();
0>this._animationDataList.indexOf(a)&&(this._animationDataList[this._animationDataList.length]=a)};a.prototype.sortBoneDataList=function(){var a=this._boneDataList.length;if(0!=a){for(var c=[];a--;){for(var b=this._boneDataList[a],d=0,e=b;e&&e.parent;)d++,e=this.getBoneData(e.parent);c[a]={level:d,boneData:b}}c.sort(this.sortBoneData);for(a=c.length;a--;)this._boneDataList[a]=c[a].boneData}};a.prototype.sortBoneData=function(a,c){return a.level>c.level?1:-1};return a}();a.ArmatureData=t;var u=function(){function a(){this._armatureDataList=
[];this._subTexturePivots={}}a.prototype.getArmatureNames=function(){var a=[],c;for(c in this._armatureDataList)a[a.length]=this._armatureDataList[c].name;return a};a.prototype.getArmatureDataList=function(){return this._armatureDataList};a.prototype.dispose=function(){for(var a in this._armatureDataList)this._armatureDataList[a].dispose();this._armatureDataList.length=0;this._subTexturePivots=this._armatureDataList=null};a.prototype.getArmatureData=function(a){for(var c=this._armatureDataList.length;c--;)if(this._armatureDataList[c].name==
a)return this._armatureDataList[c];return null};a.prototype.addArmatureData=function(a){if(!a)throw Error();if(0>this._armatureDataList.indexOf(a))this._armatureDataList[this._armatureDataList.length]=a;else throw Error();};a.prototype.removeArmatureData=function(a){a=this._armatureDataList.indexOf(a);0<=a&&this._armatureDataList.splice(a,1)};a.prototype.removeArmatureDataByName=function(a){for(var c=this._armatureDataList.length;c--;)this._armatureDataList[c].name==a&&this._armatureDataList.splice(c,
1)};a.prototype.getSubTexturePivot=function(a){return this._subTexturePivots[a]};a.prototype.addSubTexturePivot=function(a,c,b){var d=this._subTexturePivots[b];d?(d.x=a,d.y=c):this._subTexturePivots[b]=d=new e.Point(a,c);return d};a.prototype.removeSubTexturePivot=function(a){if(a)delete this._subTexturePivots[a];else for(a in this._subTexturePivots)delete this._subTexturePivots[a]};return a}();a.SkeletonData=u;f=function(){function a(){}a.parseTextureAtlasData=function(a,c){"undefined"===typeof c&&
(c=1);if(!a)throw Error();var b={};b.__name=a[l.ConstValues.A_NAME];var d=a[l.ConstValues.SUB_TEXTURE],f;for(f in d){var g=d[f],m=g[l.ConstValues.A_NAME],g=new e.Rectangle(Number(g[l.ConstValues.A_X])/c,Number(g[l.ConstValues.A_Y])/c,Number(g[l.ConstValues.A_WIDTH])/c,Number(g[l.ConstValues.A_HEIGHT])/c);b[m]=g}return b};a.parseSkeletonData=function(c){if(!c)throw Error();var b=Number(c[l.ConstValues.A_FRAME_RATE]),d=new u;d.name=c[l.ConstValues.A_NAME];c=c[l.ConstValues.ARMATURE];for(var e in c)d.addArmatureData(a.parseArmatureData(c[e],
d,b));return d};a.parseArmatureData=function(c,b,d){var e=new t;e.name=c[l.ConstValues.A_NAME];var f=c[l.ConstValues.BONE],g;for(g in f)e.addBoneData(a.parseBoneData(f[g]));f=c[l.ConstValues.SKIN];for(g in f)e.addSkinData(a.parseSkinData(f[g],b));l.DBDataUtil.transformArmatureData(e);e.sortBoneDataList();c=c[l.ConstValues.ANIMATION];for(g in c)e.addAnimationData(a.parseAnimationData(c[g],e,d));return e};a.parseBoneData=function(c){var b=new z;b.name=c[l.ConstValues.A_NAME];b.parent=c[l.ConstValues.A_PARENT];
b.length=Number(c[l.ConstValues.A_LENGTH])||0;var d=Number(c[l.ConstValues.A_SCALE_MODE]);!isNaN(d)&&d&&(b.scaleMode=d);if(d=c[l.ConstValues.A_FIXED_ROTATION])b.fixedRotation=d;a.parseTransform(c[l.ConstValues.TRANSFORM],b.global);b.transform.copy(b.global);return b};a.parseSkinData=function(c,b){var d=new B;d.name=c[l.ConstValues.A_NAME];var e=c[l.ConstValues.SLOT],f;for(f in e)d.addSlotData(a.parseSlotData(e[f],b));return d};a.parseSlotData=function(c,b){var d=new v;d.name=c[l.ConstValues.A_NAME];
d.parent=c[l.ConstValues.A_PARENT];d.zOrder=Number(c[l.ConstValues.A_Z_ORDER]);d.blendMode=c[l.ConstValues.A_BLENDMODE];d.blendMode||(d.blendMode="normal");var e=c[l.ConstValues.DISPLAY],f;for(f in e)d.addDisplayData(a.parseDisplayData(e[f],b));return d};a.parseDisplayData=function(c,b){var d=new h;d.name=c[l.ConstValues.A_NAME];d.type=c[l.ConstValues.A_TYPE];d.pivot=b.addSubTexturePivot(0,0,d.name);a.parseTransform(c[l.ConstValues.TRANSFORM],d.transform,d.pivot);return d};a.parseAnimationData=function(c,
b,d){var e=new m;e.name=c[l.ConstValues.A_NAME];e.frameRate=d;e.loop=Number(c[l.ConstValues.A_LOOP])||0;e.fadeInTime=Number(c[l.ConstValues.A_FADE_IN_TIME]);e.duration=Number(c[l.ConstValues.A_DURATION])/d;e.scale=Number(c[l.ConstValues.A_SCALE]);if(c.hasOwnProperty(l.ConstValues.A_TWEEN_EASING)){var f=c[l.ConstValues.A_TWEEN_EASING];e.tweenEasing=void 0==f||null==f?NaN:Number(f)}else e.tweenEasing=NaN;a.parseTimeline(c,e,a.parseMainFrame,d);var g,f=c[l.ConstValues.TIMELINE],k;for(k in f)g=f[k],c=
a.parseTransformTimeline(g,e.duration,d),g=g[l.ConstValues.A_NAME],e.addTimeline(c,g);l.DBDataUtil.addHideTimeline(e,b);l.DBDataUtil.transformAnimationData(e,b);return e};a.parseTimeline=function(a,c,b,d){var e=0,f;a=a[l.ConstValues.FRAME];for(var g in a)f=b(a[g],d),f.position=e,c.addFrame(f),e+=f.duration;f&&(f.duration=c.duration-f.position)};a.parseTransformTimeline=function(c,b,d){var e=new g;e.duration=b;a.parseTimeline(c,e,a.parseTransformFrame,d);e.scale=Number(c[l.ConstValues.A_SCALE]);e.offset=
Number(c[l.ConstValues.A_OFFSET]);return e};a.parseFrame=function(a,c,b){c.duration=Number(a[l.ConstValues.A_DURATION])/b;c.action=a[l.ConstValues.A_ACTION];c.event=a[l.ConstValues.A_EVENT];c.sound=a[l.ConstValues.A_SOUND]};a.parseMainFrame=function(c,d){var e=new b;a.parseFrame(c,e,d);return e};a.parseTransformFrame=function(c,b){var f=new d;a.parseFrame(c,f,b);f.visible=1!=Number(c[l.ConstValues.A_HIDE]);if(c.hasOwnProperty(l.ConstValues.A_TWEEN_EASING)){var g=c[l.ConstValues.A_TWEEN_EASING];f.tweenEasing=
void 0==g||null==g?NaN:Number(g)}else f.tweenEasing=0;f.tweenRotate=Number(c[l.ConstValues.A_TWEEN_ROTATE])||0;f.displayIndex=Number(c[l.ConstValues.A_DISPLAY_INDEX])||0;f.zOrder=Number(c[l.ConstValues.A_Z_ORDER])||0;a.parseTransform(c[l.ConstValues.TRANSFORM],f.global,f.pivot);f.transform.copy(f.global);if(g=c[l.ConstValues.COLOR_TRANSFORM])f.color=new e.ColorTransform,f.color.alphaOffset=Number(g[l.ConstValues.A_ALPHA_OFFSET]),f.color.redOffset=Number(g[l.ConstValues.A_RED_OFFSET]),f.color.greenOffset=
Number(g[l.ConstValues.A_GREEN_OFFSET]),f.color.blueOffset=Number(g[l.ConstValues.A_BLUE_OFFSET]),f.color.alphaMultiplier=0.01*Number(g[l.ConstValues.A_ALPHA_MULTIPLIER]),f.color.redMultiplier=0.01*Number(g[l.ConstValues.A_RED_MULTIPLIER]),f.color.greenMultiplier=0.01*Number(g[l.ConstValues.A_GREEN_MULTIPLIER]),f.color.blueMultiplier=0.01*Number(g[l.ConstValues.A_BLUE_MULTIPLIER]);return f};a.parseTransform=function(a,c,b){"undefined"===typeof b&&(b=null);a&&(c&&(c.x=Number(a[l.ConstValues.A_X]),
c.y=Number(a[l.ConstValues.A_Y]),c.skewX=Number(a[l.ConstValues.A_SKEW_X])*l.ConstValues.ANGLE_TO_RADIAN,c.skewY=Number(a[l.ConstValues.A_SKEW_Y])*l.ConstValues.ANGLE_TO_RADIAN,c.scaleX=Number(a[l.ConstValues.A_SCALE_X]),c.scaleY=Number(a[l.ConstValues.A_SCALE_Y])),b&&(b.x=Number(a[l.ConstValues.A_PIVOT_X]),b.y=Number(a[l.ConstValues.A_PIVOT_Y])))};return a}();a.DataParser=f})(b.objects||(b.objects={}));var c=b.objects;(function(a){var b=function(a){function b(){a.call(this);this._dataDic={};this._textureAtlasDic=
{};this._textureAtlasLoadingDic={}}__extends(b,a);b.prototype.getSkeletonData=function(a){return this._dataDic[a]};b.prototype.addSkeletonData=function(a,c){"undefined"===typeof c&&(c=null);if(!a)throw Error();c=c||a.name;if(!c)throw Error("Unnamed data!");this._dataDic[c]=a};b.prototype.removeSkeletonData=function(a){delete this._dataDic[a]};b.prototype.getTextureAtlas=function(a){return this._textureAtlasDic[a]};b.prototype.addTextureAtlas=function(a,c){"undefined"===typeof c&&(c=null);if(!a)throw Error();
c=c||a.name;if(!c)throw Error("Unnamed data!");this._textureAtlasDic[c]=a};b.prototype.removeTextureAtlas=function(a){delete this._textureAtlasDic[a]};b.prototype.dispose=function(a){"undefined"===typeof a&&(a=!0);if(a){for(var c in this._dataDic)this._dataDic[c].dispose();for(c in this._textureAtlasDic)this._textureAtlasDic[c].dispose()}this._currentTextureAtlasName=this._currentDataName=this._textureAtlasLoadingDic=this._textureAtlasDic=this._dataDic=null};b.prototype.buildArmature=function(a,b,
d,e,l){if(d){var g=this._dataDic[d];if(g)var m=g.getArmatureData(a)}else for(d in this._dataDic)if(g=this._dataDic[d],m=g.getArmatureData(a))break;if(!m)return null;this._currentDataName=d;this._currentTextureAtlasName=e||d;e=this._generateArmature();e.name=a;var k,h,p=m.getBoneDataList(),q;for(q in p)h=p[q],k=new f,k.name=h.name,k.fixedRotation=h.fixedRotation,k.scaleMode=h.scaleMode,k.origin.copy(h.transform),m.getBoneData(h.parent)?e.addChild(k,h.parent):e.addChild(k,null);if(b&&b!=a){var n=g.getArmatureData(b);
if(!n)for(d in this._dataDic)if(g=this._dataDic[d],n=g.getArmatureData(b))break}n?e.animation.setAnimationDataList(n.getAnimationDataList()):e.animation.setAnimationDataList(m.getAnimationDataList());k=m.getSkinData(l);if(!k)throw Error();a=[];d=k.getSlotDataList();for(q in d)if(g=d[q],k=e.getBone(g.parent)){l=g.getDisplayDataList();b=this._generateSlot();b.name=g.name;b._blendMode=g.blendMode;b._originZOrder=g.zOrder;b._dislayDataList=l;a.length=0;for(g=l.length;g--;)switch(m=l[g],m.type){case c.DisplayData.ARMATURE:(m=
this.buildArmature(m.name,null,this._currentDataName,this._currentTextureAtlasName,null))&&(a[g]=m);break;default:a[g]=this._generateDisplay(this._textureAtlasDic[this._currentTextureAtlasName],m.name,m.pivot.x,m.pivot.y)}b.setDisplayList(a);b._changeDisplay(0);k.addChild(b)}e._slotsZOrderChanged=!0;e.advanceTime(0);return e};b.prototype.getTextureDisplay=function(a,c,b,d){if(c)var e=this._textureAtlasDic[c];if(!e&&!c)for(c in this._textureAtlasDic){e=this._textureAtlasDic[c];if(e.getRegion(a))break;
e=null}if(e){if(isNaN(b)||isNaN(d))if(c=this._dataDic[c])if(c=c.getSubTexturePivot(a))b=c.x,d=c.y;return this._generateDisplay(e,a,b,d)}return null};b.prototype._generateArmature=function(){return null};b.prototype._generateSlot=function(){return null};b.prototype._generateDisplay=function(a,c,b,d){return null};return b}(d.EventDispatcher);a.BaseFactory=b})(b.factorys||(b.factorys={}));(function(b){var d=function(){function a(){}a.ANGLE_TO_RADIAN=Math.PI/180;a.DRAGON_BONES="dragonBones";a.ARMATURE=
"armature";a.SKIN="skin";a.BONE="bone";a.SLOT="slot";a.DISPLAY="display";a.ANIMATION="animation";a.TIMELINE="timeline";a.FRAME="frame";a.TRANSFORM="transform";a.COLOR_TRANSFORM="colorTransform";a.TEXTURE_ATLAS="TextureAtlas";a.SUB_TEXTURE="SubTexture";a.A_VERSION="version";a.A_IMAGE_PATH="imagePath";a.A_FRAME_RATE="frameRate";a.A_NAME="name";a.A_PARENT="parent";a.A_LENGTH="length";a.A_TYPE="type";a.A_FADE_IN_TIME="fadeInTime";a.A_DURATION="duration";a.A_SCALE="scale";a.A_OFFSET="offset";a.A_LOOP=
"loop";a.A_EVENT="event";a.A_SOUND="sound";a.A_ACTION="action";a.A_HIDE="hide";a.A_TWEEN_EASING="tweenEasing";a.A_TWEEN_ROTATE="tweenRotate";a.A_DISPLAY_INDEX="displayIndex";a.A_Z_ORDER="z";a.A_BLENDMODE="blendMode";a.A_WIDTH="width";a.A_HEIGHT="height";a.A_SCALE_MODE="scaleMode";a.A_FIXED_ROTATION="fixedRotation";a.A_X="x";a.A_Y="y";a.A_SKEW_X="skX";a.A_SKEW_Y="skY";a.A_SCALE_X="scX";a.A_SCALE_Y="scY";a.A_PIVOT_X="pX";a.A_PIVOT_Y="pY";a.A_ALPHA_OFFSET="aO";a.A_RED_OFFSET="rO";a.A_GREEN_OFFSET="gO";
a.A_BLUE_OFFSET="bO";a.A_ALPHA_MULTIPLIER="aM";a.A_RED_MULTIPLIER="rM";a.A_GREEN_MULTIPLIER="gM";a.A_BLUE_MULTIPLIER="bM";return a}();b.ConstValues=d;var l=function(){function a(){}a.transformPointWithParent=function(c,b){var d=a._helpMatrix;a.transformToMatrix(b,d);d.invert();var e=c.x,l=c.y;c.x=d.a*e+d.c*l+d.tx;c.y=d.d*l+d.b*e+d.ty;c.skewX=a.formatRadian(c.skewX-b.skewX);c.skewY=a.formatRadian(c.skewY-b.skewY)};a.transformToMatrix=function(a,c){c.a=a.scaleX*Math.cos(a.skewY);c.b=a.scaleX*Math.sin(a.skewY);
c.c=-a.scaleY*Math.sin(a.skewX);c.d=a.scaleY*Math.cos(a.skewX);c.tx=a.x;c.ty=a.y};a.formatRadian=function(c){c%=a.DOUBLE_PI;c>Math.PI&&(c-=a.DOUBLE_PI);c<-Math.PI&&(c+=a.DOUBLE_PI);return c};a.DOUBLE_PI=2*Math.PI;a._helpMatrix=new e.Matrix;return a}();b.TransformUtil=l;d=function(){function b(){}b.transformArmatureData=function(a){for(var c=a.getBoneDataList(),b=c.length,d,e;b--;)if(d=c[b],d.parent&&(e=a.getBoneData(d.parent)))d.transform.copy(d.global),l.transformPointWithParent(d.transform,e.global)};
b.transformArmatureDataAnimations=function(a){for(var c=a.getAnimationDataList(),d=c.length;d--;)b.transformAnimationData(c[d],a)};b.transformAnimationData=function(a,c){for(var d=c.getSkinData(null),e=c.getBoneDataList(),d=d.getSlotDataList(),f=e.length,g,m,k,h,n,w,E,x,y,H;f--;)if(g=e[f],m=a.getTimeline(g.name)){k=null;for(var L in d)if(k=d[L],k.parent==g.name)break;h=g.parent?a.getTimeline(g.parent):null;n=m.getFrameList();x=E=w=null;H=n.length;for(var G=0;G<H;G++){y=n[G];h?(b._helpTransform1.copy(y.global),
b.getTimelineTransform(h,y.position,b._helpTransform2),l.transformPointWithParent(b._helpTransform1,b._helpTransform2),y.transform.copy(b._helpTransform1)):y.transform.copy(y.global);y.transform.x-=g.transform.x;y.transform.y-=g.transform.y;y.transform.skewX-=g.transform.skewX;y.transform.skewY-=g.transform.skewY;y.transform.scaleX-=g.transform.scaleX;y.transform.scaleY-=g.transform.scaleY;!m.transformed&&k&&(y.zOrder-=k.zOrder);w||(w=m.originTransform,w.copy(y.transform),w.skewX=l.formatRadian(w.skewX),
w.skewY=l.formatRadian(w.skewY),E=m.originPivot,E.x=y.pivot.x,E.y=y.pivot.y);y.transform.x-=w.x;y.transform.y-=w.y;y.transform.skewX=l.formatRadian(y.transform.skewX-w.skewX);y.transform.skewY=l.formatRadian(y.transform.skewY-w.skewY);y.transform.scaleX-=w.scaleX;y.transform.scaleY-=w.scaleY;m.transformed||(y.pivot.x-=E.x,y.pivot.y-=E.y);if(x){var M=y.transform.skewX-x.transform.skewX;x.tweenRotate?0<x.tweenRotate?(0>M&&(y.transform.skewX+=2*Math.PI,y.transform.skewY+=2*Math.PI),1<x.tweenRotate&&
(y.transform.skewX+=2*Math.PI*(x.tweenRotate-1),y.transform.skewY+=2*Math.PI*(x.tweenRotate-1))):(0<M&&(y.transform.skewX-=2*Math.PI,y.transform.skewY-=2*Math.PI),1>x.tweenRotate&&(y.transform.skewX+=2*Math.PI*(x.tweenRotate+1),y.transform.skewY+=2*Math.PI*(x.tweenRotate+1))):(y.transform.skewX=x.transform.skewX+l.formatRadian(y.transform.skewX-x.transform.skewX),y.transform.skewY=x.transform.skewY+l.formatRadian(y.transform.skewY-x.transform.skewY))}x=y}m.transformed=!0}};b.getTimelineTransform=
function(c,b,d){for(var e=c.getFrameList(),f=e.length,g;f--;)if(c=e[f],c.position<=b&&c.position+c.duration>b){g=c.tweenEasing;f==e.length-1||isNaN(g)||b==c.position?d.copy(c.global):(b=(b-c.position)/c.duration,g&&(b=a.TimelineState.getEaseValue(b,g)),e=e[f+1],d.x=c.global.x+(e.global.x-c.global.x)*b,d.y=c.global.y+(e.global.y-c.global.y)*b,d.skewX=l.formatRadian(c.global.skewX+(e.global.skewX-c.global.skewX)*b),d.skewY=l.formatRadian(c.global.skewY+(e.global.skewY-c.global.skewY)*b),d.scaleX=c.global.scaleX+
(e.global.scaleX-c.global.scaleX)*b,d.scaleY=c.global.scaleY+(e.global.scaleY-c.global.scaleY)*b);break}};b.addHideTimeline=function(a,b){for(var d=b.getBoneDataList(),e=d.length,l;e--;)l=d[e],l=l.name,a.getTimeline(l)||a.addTimeline(c.TransformTimeline.HIDE_TIMELINE,l)};b._helpTransform1=new c.DBTransform;b._helpTransform2=new c.DBTransform;return b}();b.DBDataUtil=d})(b.utils||(b.utils={}));var l=b.utils,m=function(){function a(){this.global=new c.DBTransform;this.origin=new c.DBTransform;this.offset=
new c.DBTransform;this.tween=new c.DBTransform;this.tween.scaleX=this.tween.scaleY=0;this._globalTransformMatrix=new e.Matrix;this._visible=!0;this._isDisplayOnStage=this._isColorChanged=!1;this._scaleType=0;this.fixedRotation=!1}a.prototype.getVisible=function(){return this._visible};a.prototype.setVisible=function(a){this._visible=a};a.prototype._setParent=function(a){this.parent=a};a.prototype._setArmature=function(a){this.armature&&this.armature._removeDBObject(this);(this.armature=a)&&this.armature._addDBObject(this)};
a.prototype.dispose=function(){this._globalTransformMatrix=this.tween=this.offset=this.origin=this.global=this.armature=this.parent=null};a.prototype._update=function(){this.global.scaleX=(this.origin.scaleX+this.tween.scaleX)*this.offset.scaleX;this.global.scaleY=(this.origin.scaleY+this.tween.scaleY)*this.offset.scaleY;if(this.parent){var a=this.origin.x+this.offset.x+this.tween.x,c=this.origin.y+this.offset.y+this.tween.y,b=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx=this.global.x=
b.a*a+b.c*c+b.tx;this._globalTransformMatrix.ty=this.global.y=b.d*c+b.b*a+b.ty;this.fixedRotation?(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY):(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX+this.parent.global.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY+this.parent.global.skewY);this.parent.scaleMode>=this._scaleType&&(this.global.scaleX*=this.parent.global.scaleX,
this.global.scaleY*=this.parent.global.scaleY)}else this._globalTransformMatrix.tx=this.global.x=this.origin.x+this.offset.x+this.tween.x,this._globalTransformMatrix.ty=this.global.y=this.origin.y+this.offset.y+this.tween.y,this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY;this._globalTransformMatrix.a=this.global.scaleX*Math.cos(this.global.skewY);this._globalTransformMatrix.b=this.global.scaleX*Math.sin(this.global.skewY);
this._globalTransformMatrix.c=-this.global.scaleY*Math.sin(this.global.skewX);this._globalTransformMatrix.d=this.global.scaleY*Math.cos(this.global.skewX)};return a}();b.DBObject=m;var g=function(a){function c(b){a.call(this);this._displayBridge=b;this._displayList=[];this._displayIndex=-1;this._scaleType=1;this._offsetZOrder=this._tweenZorder=this._originZOrder=0;this._isHideDisplay=this._isDisplayOnStage=!1;this._blendMode="normal";this._displayBridge.updateBlendMode(this._blendMode)}__extends(c,
a);c.prototype.getZOrder=function(){return this._originZOrder+this._tweenZorder+this._offsetZOrder};c.prototype.setZOrder=function(a){this.getZOrder()!=a&&(this._offsetZOrder=a-this._originZOrder-this._tweenZorder,this.armature&&(this.armature._slotsZOrderChanged=!0))};c.prototype.getDisplay=function(){var a=this._displayList[this._displayIndex];return a instanceof h?a.getDisplay():a};c.prototype.setDisplay=function(a){this._displayList[this._displayIndex]=a;this._setDisplay(a)};c.prototype.getBlendMode=
function(){return this._blendMode};c.prototype.setBlendMode=function(a){this._blendMode!=a&&(this._blendMode=a,this._displayBridge.getDisplay()&&this._displayBridge.updateBlendMode(this._blendMode))};c.prototype.getChildArmature=function(){var a=this._displayList[this._displayIndex];return a instanceof h?a:null};c.prototype.setChildArmature=function(a){(this._displayList[this._displayIndex]=a)&&this._setDisplay(a.getDisplay())};c.prototype.getDisplayList=function(){return this._displayList};c.prototype.setDisplayList=
function(a){if(!a)throw Error();for(var c=this._displayList.length=a.length;c--;)this._displayList[c]=a[c];0<=this._displayIndex&&(a=this._displayIndex,this._displayIndex=-1,this._changeDisplay(a))};c.prototype._setDisplay=function(a){this._displayBridge.getDisplay()?this._displayBridge.setDisplay(a):(this._displayBridge.setDisplay(a),this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0));this.updateChildArmatureAnimation();a&&this._displayBridge.updateBlendMode(this._blendMode);
!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1};c.prototype._changeDisplay=function(a){if(0>a)this._isHideDisplay||(this._isHideDisplay=!0,this._displayBridge.removeDisplay(),this.updateChildArmatureAnimation());else{if(this._isHideDisplay){this._isHideDisplay=!1;var c=!0;this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0)}var b=this._displayList.length;a>=b&&0<b&&(a=b-1);this._displayIndex!=
a?(this._displayIndex=a,a=this._displayList[this._displayIndex],a instanceof h?this._setDisplay(a.getDisplay()):this._setDisplay(a),this._dislayDataList&&this._displayIndex<=this._dislayDataList.length&&this.origin.copy(this._dislayDataList[this._displayIndex].transform)):c&&this.updateChildArmatureAnimation()}!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1};c.prototype.setVisible=function(a){a!=this._visible&&(this._visible=a,this._updateVisible(this._visible))};
c.prototype._setArmature=function(c){a.prototype._setArmature.call(this,c);this.armature?(this.armature._slotsZOrderChanged=!0,this._displayBridge.addDisplay(this.armature.getDisplay(),-1)):this._displayBridge.removeDisplay()};c.prototype.dispose=function(){this._displayBridge&&(a.prototype.dispose.call(this),this._displayBridge.dispose(),this._displayList.length=0,this._dislayDataList=this._displayList=this._displayBridge=null)};c.prototype._update=function(){a.prototype._update.call(this);if(this._isDisplayOnStage){var c=
this.parent._tweenPivot.x,b=this.parent._tweenPivot.y;if(c||b){var d=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx+=d.a*c+d.c*b;this._globalTransformMatrix.ty+=d.b*c+d.d*b}this._displayBridge.updateTransform(this._globalTransformMatrix,this.global)}};c.prototype._updateVisible=function(a){this._displayBridge.setVisible(this.parent.getVisible()&&this._visible&&a)};c.prototype.updateChildArmatureAnimation=function(){var a=this.getChildArmature();if(a)if(this._isHideDisplay)a.animation.stop(),
a.animation._lastAnimationState=null;else{var c=this.armature?this.armature.animation.getLastAnimationName():null;c&&a.animation.hasAnimation(c)?a.animation.gotoAndPlay(c):a.animation.play()}};return c}(m);b.Slot=g;var f=function(a){function c(){a.call(this);this._children=[];this._scaleType=2;this._tweenPivot=new e.Point;this.scaleMode=1}__extends(c,a);c.prototype.setVisible=function(a){if(this._visible!=a)for(this._visible=a,a=this._children.length;a--;){var c=this._children[a];c instanceof g&&
c._updateVisible(this._visible)}};c.prototype._setArmature=function(c){a.prototype._setArmature.call(this,c);for(c=this._children.length;c--;)this._children[c]._setArmature(this.armature)};c.prototype.dispose=function(){if(this._children){a.prototype.dispose.call(this);for(var c=this._children.length;c--;)this._children[c].dispose();this._children.length=0;this.slot=this._tweenPivot=this._children=null}};c.prototype.contains=function(a){if(!a)throw Error();if(a==this)return!1;for(;a!=this&&null!=
a;)a=a.parent;return a==this};c.prototype.addChild=function(a){if(!a)throw Error();if(a==this||a instanceof c&&a.contains(this))throw Error("An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)");a.parent&&a.parent.removeChild(a);this._children[this._children.length]=a;a._setParent(this);a._setArmature(this.armature);!this.slot&&a instanceof g&&(this.slot=a)};c.prototype.removeChild=function(a){if(!a)throw Error();var c=this._children.indexOf(a);if(0<=
c)this._children.splice(c,1),a._setParent(null),a._setArmature(null),a==this.slot&&(this.slot=null);else throw Error();};c.prototype.getSlots=function(){for(var a=[],c=this._children.length;c--;)this._children[c]instanceof g&&a.unshift(this._children[c]);return a};c.prototype._arriveAtFrame=function(a,b,e,l){if(a){if(b=e.getMixingTransform(this.name),!e.displayControl||2!=b&&-1!=b||this.displayController&&this.displayController!=e.name||!this.slot||(b=a.displayIndex,0<=b&&!isNaN(a.zOrder)&&a.zOrder!=
this.slot._tweenZorder&&(this.slot._tweenZorder=a.zOrder,this.armature._slotsZOrderChanged=!0),this.slot._changeDisplay(b),this.slot._updateVisible(a.visible)),a.event&&this.armature.hasEventListener(d.FrameEvent.BONE_FRAME_EVENT)&&(b=new d.FrameEvent(d.FrameEvent.BONE_FRAME_EVENT),b.bone=this,b.animationState=e,b.frameLabel=a.event,this.armature._eventList.push(b)),a.sound&&c._soundManager.hasEventListener(d.SoundEvent.SOUND)&&(b=new d.SoundEvent(d.SoundEvent.SOUND),b.armature=this.armature,b.animationState=
e,b.sound=a.sound,c._soundManager.dispatchEvent(b)),a.action)for(var f in this._children)this._children[f]instanceof g&&(e=this._children[f].getChildArmature())&&e.animation.gotoAndPlay(a.action)}else this.slot&&this.slot._changeDisplay(-1)};c.prototype._updateColor=function(a,c,b,d,e,l,f,g,m){(m||this._isColorChanged)&&this.slot._displayBridge.updateColor(a,c,b,d,e,l,f,g);this._isColorChanged=m};c._soundManager=d.SoundEventManager.getInstance();return c}(m);b.Bone=f;var h=function(c){function b(d){c.call(this);
this.animation=new a.Animation(this);this._display=d;this._slotsZOrderChanged=!1;this._slotList=[];this._boneList=[];this._eventList=[]}__extends(b,c);b.prototype.getDisplay=function(){return this._display};b.prototype.dispose=function(){if(this.animation){this.animation.dispose();for(var a=this._slotList.length;a--;)this._slotList[a].dispose();for(a=this._boneList.length;a--;)this._boneList[a].dispose();this._slotList.length=0;this._boneList.length=0;this._eventList.length=0;this.animation=this._display=
this._eventList=this._boneList=this._slotList=null}};b.prototype.advanceTime=function(a){this.animation.advanceTime(a);a*=this.animation.timeScale;for(var c=this._boneList.length;c--;)this._boneList[c]._update();for(var c=this._slotList.length,b;c--;)b=this._slotList[c],b._update(),b._isDisplayOnStage&&(b=b.getChildArmature())&&b.advanceTime(a);this._slotsZOrderChanged&&(this.updateSlotsZOrder(),this.hasEventListener(d.ArmatureEvent.Z_ORDER_UPDATED)&&this.dispatchEvent(new d.ArmatureEvent(d.ArmatureEvent.Z_ORDER_UPDATED)));
if(this._eventList.length){a=this._eventList.length;for(c=0;c<a;c++)this.dispatchEvent(this._eventList[c]);this._eventList.length=0}};b.prototype.getSlots=function(a){"undefined"===typeof a&&(a=!0);return a?this._slotList.concat():this._slotList};b.prototype.getBones=function(a){"undefined"===typeof a&&(a=!0);return a?this._boneList.concat():this._boneList};b.prototype.getSlot=function(a){for(var c=this._slotList.length;c--;)if(this._slotList[c].name==a)return this._slotList[c];return null};b.prototype.getSlotByDisplay=
function(a){if(a)for(var c=this._slotList.length;c--;)if(this._slotList[c].getDisplay()==a)return this._slotList[c];return null};b.prototype.removeSlot=function(a){if(!a)throw Error();if(0<=this._slotList.indexOf(a))a.parent.removeChild(a);else throw Error();};b.prototype.removeSlotByName=function(a){a&&(a=this.getSlot(a))&&this.removeSlot(a)};b.prototype.getBone=function(a){for(var c=this._boneList.length;c--;)if(this._boneList[c].name==a)return this._boneList[c];return null};b.prototype.getBoneByDisplay=
function(a){return(a=this.getSlotByDisplay(a))?a.parent:null};b.prototype.removeBone=function(a){if(!a)throw Error();if(0<=this._boneList.indexOf(a))a.parent?a.parent.removeChild(a):a._setArmature(null);else throw Error();};b.prototype.removeBoneByName=function(a){a&&(a=this.getBone(a))&&this.removeBone(a)};b.prototype.addChild=function(a,c){if(!a)throw Error();if(c){var b=this.getBone(c);if(b)b.addChild(a);else throw Error();}else a.parent&&a.parent.removeChild(a),a._setArmature(this)};b.prototype.updateSlotsZOrder=
function(){this._slotList.sort(this.sortSlot);for(var a=this._slotList.length,c;a--;)c=this._slotList[a],c._isDisplayOnStage&&c._displayBridge.addDisplay(this._display,-1);this._slotsZOrderChanged=!1};b.prototype._addDBObject=function(a){a instanceof g?0>this._slotList.indexOf(a)&&(this._slotList[this._slotList.length]=a):a instanceof f&&0>this._boneList.indexOf(a)&&(this._boneList[this._boneList.length]=a,this._sortBoneList())};b.prototype._removeDBObject=function(a){a instanceof g?(a=this._slotList.indexOf(a),
0<=a&&this._slotList.splice(a,1)):a instanceof f&&(a=this._boneList.indexOf(a),0<=a&&this._boneList.splice(a,1))};b.prototype._sortBoneList=function(){var a=this._boneList.length;if(0!=a){for(var c=[],b,d,e;a--;){b=0;for(e=d=this._boneList[a];e;)b++,e=e.parent;c[a]={level:b,bone:d}}c.sort(this.sortBone);for(a=c.length;a--;)this._boneList[a]=c[a].bone}};b.prototype._arriveAtFrame=function(a,c,e,l){a.event&&this.hasEventListener(d.FrameEvent.ANIMATION_FRAME_EVENT)&&(c=new d.FrameEvent(d.FrameEvent.ANIMATION_FRAME_EVENT),
c.animationState=e,c.frameLabel=a.event,this._eventList.push(c));a.sound&&b._soundManager.hasEventListener(d.SoundEvent.SOUND)&&(c=new d.SoundEvent(d.SoundEvent.SOUND),c.armature=this,c.animationState=e,c.sound=a.sound,b._soundManager.dispatchEvent(c));a.action&&e.isPlaying&&this.animation.gotoAndPlay(a.action)};b.prototype.sortSlot=function(a,c){return a.getZOrder()<c.getZOrder()?1:-1};b.prototype.sortBone=function(a,c){return a.level<c.level?1:-1};b._soundManager=d.SoundEventManager.getInstance();
return b}(d.EventDispatcher);b.Armature=h})(dragonBones||(dragonBones={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){(function(b){var a=function(){function a(){}a.prototype.getVisible=function(){return this._display?this._display.visible:!1};a.prototype.setVisible=function(a){this._display&&(this._display.visible=a)};a.prototype.getDisplay=function(){return this._display};a.prototype.setDisplay=function(a){if(this._display!=a){if(this._display){var c=this._display.parent;if(c)var b=c.getChildIndex(this._display);this.removeDisplay()}this._display=a;this.addDisplay(c,b)}};a.prototype.dispose=function(){this._display=
null};a.prototype.updateTransform=function(b,d){this._display.x=b.tx;this._display.y=b.ty;this._display.skewX=d.skewX*a.RADIAN_TO_ANGLE;this._display.skewY=d.skewY*a.RADIAN_TO_ANGLE;this._display.scaleX=d.scaleX;this._display.scaleY=d.scaleY};a.prototype.updateColor=function(a,c,b,d,e,k,n,p){this._display&&(this._display.alpha=e)};a.prototype.updateBlendMode=function(a){this._display&&(this._display.blendMode=egret.BlendMode.getBlendMode(a))};a.prototype.addDisplay=function(a,c){a&&this._display&&
(this._display.parent&&this._display.parent.removeChild(this._display),0>c?a.addChild(this._display):a.addChildAt(this._display,Math.min(c,a.numChildren)))};a.prototype.removeDisplay=function(){this._display&&this._display.parent&&this._display.parent.removeChild(this._display)};a.RADIAN_TO_ANGLE=180/Math.PI;return a}();b.DragonBonesEgretBridge=a})(b.display||(b.display={}));var e=b.display;(function(d){var a=function(){function a(c,d,e){"undefined"===typeof e&&(e=1);this.texture=c;this.textureAtlasRawData=
d;this._textureData={};this.scale=e;this.name=d[b.utils.ConstValues.A_NAME];this.parseData(d);this.spriteSheet=new egret.SpriteSheet(c.bitmapData)}a.prototype.getTexture=function(a){var c=this.spriteSheet.getTexture(a);c||(c=this._textureData[a],c=this.spriteSheet.createTexture(a,c.x,c.y,c.width,c.height));return c};a.prototype.dispose=function(){this.texture=null};a.prototype.getRegion=function(a){throw Error("error");};a.prototype.parseData=function(a){for(var c=a.SubTexture.length,b=0;b<c;b++){var d=
a.SubTexture[b];this._textureData[d.name]=d}};return a}();d.EgretTextureAtlas=a})(b.textures||(b.textures={}));(function(d){var a=function(a){function d(){a.call(this)}__extends(d,a);d.prototype._generateArmature=function(){return new b.Armature(new egret.DisplayObjectContainer)};d.prototype._generateSlot=function(){return new b.Slot(new e.DragonBonesEgretBridge)};d.prototype._generateDisplay=function(a,c,b,d){var e=new egret.Bitmap;e.texture=a.getTexture(c);e.anchorOffsetX=b;e.anchorOffsetY=d;return e};
return d}(d.BaseFactory);d.EgretFactory=a})(b.factorys||(b.factorys={}))})(dragonBones||(dragonBones={}));(function(b){var e=function(){function d(){}d.checkDrawImage=function(a,c,d,e,g,f,h,k,n){null==a&&b.Logger.fatal("texture\u4e3a\u7a7a");(a._textureWidth<c+e||a._textureHeight<d+g)&&b.Logger.fatal("\u63d0\u4f9b\u7684\u5c3a\u5bf8\u8d85\u51fatexture\u5c3a\u5bf8")};d.checkAddEventListener=function(a,c,d,e,g){null!=c&&void 0!=c||b.Logger.fatal("addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a")};d.checkSetScaleGrid=function(a,c,d,e,g){a||b.Logger.fatal("Scale9Bitmap\u6ca1\u6709\u7eb9\u7406");
(0>parseInt(c)||0>parseInt(d)||0>parseInt(e)||0>parseInt(g))&&b.Logger.fatal("\u4f20\u5165\u7684\u503c\u4e0d\u80fd\u4e3a\u8d1f\u6570");a._textureWidth<e+g&&b.Logger.fatal("\u4f20\u5165\u7684\u5bbd\u5ea6\u8d85\u51fa\u8303\u56f4");a._textureHeight<c+d&&b.Logger.fatal("\u4f20\u5165\u7684\u9ad8\u5ea6\u8d85\u51fa\u8303\u56f4")};d.TRACE_RENDER_LOOP=function(a){"undefined"===typeof a&&(a=0);var c=b.Ticker.getInstance(),d=b.MainContext.instance;switch(a){case 0:c.unregister(d.renderLoop,d);break;case 1:d.renderLoop();
break;case 2:c.register(d.renderLoop,d)}};d.DRAW_IMAGE=!0;d.ADD_EVENT_LISTENER=!0;d.SCALE_BITMAP_SET_SCALE_GRID=!0;return d}();b.DEBUG=e})(egret||(egret={}));var unstable=unstable||{};unstable.modal_api={};unstable.modal_api.setModal=function(b){void 0==b&&(b=!0);this.touchEnabled=this._modal=b};var hitTest=egret.DisplayObjectContainer.prototype.hitTest;
egret.DisplayObjectContainer.prototype.hitTest=function(b,e,d){void 0==d&&(d=!1);if(!1==this.visible)return null;b=hitTest.call(this,b,e,d);return this._modal?b?b:this:b};egret.DisplayObjectContainer.prototype.setModal=unstable.modal_api.setModal;(function(b){var e=function(){function b(){}b.isNumber=function(a){return"number"===typeof a&&!isNaN(a)};return b}();b.NumberUtils=e})(egret||(egret={}));var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d},RES;
(function(b){var e=function(b){function a(a,e,m){"undefined"===typeof e&&(e=!1);"undefined"===typeof m&&(m=!1);b.call(this,a,e,m);this.itemsTotal=this.itemsLoaded=0}__extends(a,b);a.dispatchResourceEvent=function(c,b,d,e,f,h){"undefined"===typeof d&&(d="");"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);var k=egret.Event._getPropertyData(a);k.groupName=d;k.resItem=e;k.itemsLoaded=f;k.itemsTotal=h;egret.Event._dispatchByTarget(a,c,b,k)};a.ITEM_LOAD_ERROR=
"itemLoadError";a.CONFIG_COMPLETE="configComplete";a.GROUP_PROGRESS="groupProgress";a.GROUP_COMPLETE="groupComplete";return a}(egret.Event);b.ResourceEvent=e})(RES||(RES={}));(function(b){var e=function(){function b(a,c,d){this._loaded=!1;this.name=a;this.url=c;this.type=d}Object.defineProperty(b.prototype,"loaded",{get:function(){return this.data?this.data.loaded:this._loaded},set:function(a){this.data&&(this.data.loaded=a);this._loaded=a},enumerable:!0,configurable:!0});b.prototype.toString=function(){return'[ResourceItem name="'+this.name+'" url="'+this.url+'" type="'+this.type+'"]'};b.TYPE_XML="xml";b.TYPE_IMAGE="image";b.TYPE_BIN="bin";b.TYPE_TEXT="text";b.TYPE_JSON=
"json";b.TYPE_SHEET="sheet";b.TYPE_FONT="font";b.TYPE_SOUND="sound";return b}();b.ResourceItem=e})(RES||(RES={}));(function(b){var e=function(){function d(){this.keyMap={};this.groupDic={}}d.prototype.getGroupByName=function(a){var c=[];if(!this.groupDic[a])return c;a=this.groupDic[a];for(var b=a.length,d=0;d<b;d++)c.push(this.parseResourceItem(a[d]));return c};d.prototype.getRawGroupByName=function(a){return this.groupDic[a]?this.groupDic[a]:[]};d.prototype.createGroup=function(a,c,b){"undefined"===typeof b&&(b=!1);if(!b&&this.groupDic[a]||!c||0==c.length)return!1;b=this.groupDic;for(var d=[],e=c.length,f=0;f<
e;f++){var h=c[f],k=b[h];if(k)for(var h=k.length,n=0;n<h;n++){var p=k[n];-1==d.indexOf(p)&&d.push(p)}else(p=this.keyMap[h])&&-1==d.indexOf(p)&&d.push(p)}if(0==d.length)return!1;this.groupDic[a]=d;return!0};d.prototype.parseConfig=function(a,c){if(a){var b=a.resources;if(b)for(var d=b.length,e=0;e<d;e++){var f=b[e];f.url=c+f.url;this.keyMap[f.name]||(this.keyMap[f.name]=f)}if(b=a.groups)for(d=b.length,e=0;e<d;e++){for(var h=b[e],k=[],n=h.keys.split(","),p=n.length,q=0;q<p;q++)f=this.trim(n[q]),(f=
this.keyMap[f])&&-1==k.indexOf(f)&&k.push(f);this.groupDic[h.name]=k}}};d.prototype.getType=function(a){return(a=this.keyMap[a])?a.type:""};d.prototype.getRawResourceItem=function(a){return this.keyMap[a]};d.prototype.getResourceItem=function(a){return(a=this.keyMap[a])?this.parseResourceItem(a):null};d.prototype.parseResourceItem=function(a){var c=new b.ResourceItem(a.name,a.url,a.type);c.data=a;return c};d.prototype.trim=function(a){if(!a)return"";for(var c=a.charAt(0);0<a.length&&(" "==c||"\t"==
c||"\n"==c||"\r"==c||"\f"==c);)a=a.substr(1),c=a.charAt(0);for(c=a.charAt(a.length-1);0<a.length&&(" "==c||"\t"==c||"\n"==c||"\r"==c||"\f"==c);)a=a.substr(0,a.length-1),c=a.charAt(a.length-1);return a};return d}();b.ResourceConfig=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.groupTotalDic={};this.numLoadedDic={};this.itemListDic={};this.priorityQueue={};this.lazyLoadList=[];this.analyzerDic={};this.queueIndex=0}__extends(a,d);a.prototype.isGroupInLoading=function(a){return void 0!==this.itemListDic[a]};a.prototype.loadGroup=function(a,d,e){"undefined"===typeof e&&(e=0);if(!this.itemListDic[d]&&d)if(a&&0!=a.length){this.priorityQueue[e]?this.priorityQueue[e].push(d):this.priorityQueue[e]=[d];this.itemListDic[d]=
a;e=a.length;for(var g=0;g<e;g++)a[g].groupName=d;this.groupTotalDic[d]=a.length;this.numLoadedDic[d]=0;this.next()}else a=new b.ResourceEvent(b.ResourceEvent.GROUP_COMPLETE),a.groupName=d,this.dispatchEvent(a)};a.prototype.loadItem=function(a){this.lazyLoadList.push(a);a.groupName="";this.next()};a.prototype.next=function(){var a=this.getOneResourceItem();if(a)if(a.loaded)this.onItemComplete(a);else{var d=this.analyzerDic[a.type];d||(d=this.analyzerDic[a.type]=egret.Injector.getInstance(b.AnalyzerBase,
a.type));d.loadFile(a,this.onItemComplete,this)}};a.prototype.getOneResourceItem=function(){var a=Number.NEGATIVE_INFINITY,b;for(b in this.priorityQueue)a=Math.max(a,b);a=this.priorityQueue[a];if(!a||0==a.length)return 0==this.lazyLoadList.length?null:this.lazyLoadList.pop();b=a.length;for(var d,e=0;e<b;e++){this.queueIndex>=b&&(this.queueIndex=0);d=this.itemListDic[a[this.queueIndex]];if(0<d.length)break;this.queueIndex++}return 0==d.length?null:d.shift()};a.prototype.onItemComplete=function(a){var d=
a.groupName;a.loaded||b.ResourceEvent.dispatchResourceEvent(this.resInstance,b.ResourceEvent.ITEM_LOAD_ERROR,d,a);if(d){this.numLoadedDic[d]++;var e=this.numLoadedDic[d],g=this.groupTotalDic[d];b.ResourceEvent.dispatchResourceEvent(this.resInstance,b.ResourceEvent.GROUP_PROGRESS,d,a,e,g);e==g&&(this.removeGroupName(d),delete this.groupTotalDic[d],delete this.numLoadedDic[d],delete this.itemListDic[d],b.ResourceEvent.dispatchResourceEvent(this,b.ResourceEvent.GROUP_COMPLETE,d))}else this.callBack.call(this.resInstance,
a);this.next()};a.prototype.removeGroupName=function(a){for(var b in this.priorityQueue){for(var d=this.priorityQueue[b],e=d.length,f=0,h=!1,e=d.length,k=0;k<e;k++){if(d[k]==a){d.splice(f,1);h=!0;break}f++}if(h){0==d.length&&delete this.priorityQueue[b];break}}};return a}(egret.EventDispatcher);b.ResourceLoader=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype.loadFile=function(a,b,d){};a.prototype.getRes=function(a){};a.prototype.destroyRes=function(a){return!1};a.getStringPrefix=function(a){if(!a)return"";var b=a.indexOf(".");return-1!=b?a.substring(0,b):""};a.getStringTail=function(a){if(!a)return"";var b=a.indexOf(".");return-1!=b?a.substring(b+1):""};return a}(egret.HashObject);b.AnalyzerBase=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this.fileDic={};this.resItemDic=[];this._dataFormat=egret.URLLoaderDataFormat.BINARY;this.recycler=new egret.Recycler}__extends(a,b);a.prototype.loadFile=function(a,b,d){if(this.fileDic[a.name])b.call(d,a);else{var e=this.getLoader();this.resItemDic[e.hashCode]={item:a,func:b,thisObject:d};e.load(new egret.URLRequest(a.url))}};a.prototype.getLoader=function(){var a=this.recycler.pop();a||(a=new egret.URLLoader,a.addEventListener(egret.Event.COMPLETE,
this.onLoadFinish,this),a.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this));a.dataFormat=this._dataFormat;return a};a.prototype.onLoadFinish=function(a){var b=a.target,d=this.resItemDic[b.hashCode];delete this.resItemDic[b.hashCode];this.recycler.push(b);var e=d.item,f=d.func;e.loaded=a.type==egret.Event.COMPLETE;e.loaded&&this.analyzeData(e,b.data);f.call(d.thisObject,e)};a.prototype.analyzeData=function(a,b){var d=a.name;!this.fileDic[d]&&b&&(this.fileDic[d]=b)};a.prototype.getRes=
function(a){return this.fileDic[a]};a.prototype.hasRes=function(a){return null!=this.getRes(a)};a.prototype.destroyRes=function(a){return this.fileDic[a]?(delete this.fileDic[a],!0):!1};return a}(b.AnalyzerBase);b.BinAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXTURE}__extends(a,b);a.prototype.analyzeData=function(a,b){var d=a.name;!this.fileDic[d]&&b&&(this.fileDic[d]=b,(d=a.data)&&d.scale9grid&&(d=d.scale9grid.split(","),b.scale9Grid=new egret.Rectangle(parseInt(d[0]),parseInt(d[1]),parseInt(d[2]),parseInt(d[3]))))};return a}(b.BinAnalyzer);b.ImageAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(a,b);a.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b)try{this.fileDic[d]=JSON.parse(b)}catch(e){}};return a}(b.BinAnalyzer);b.JsonAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(a,b);return a}(b.BinAnalyzer);b.TextAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.sheetMap={};this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(a,d);a.prototype.getRes=function(a){var d=this.fileDic[a];!d&&(d=b.AnalyzerBase.getStringPrefix(a),d=this.fileDic[d])&&(a=b.AnalyzerBase.getStringTail(a),d=d.getTexture(a));return d};a.prototype.onLoadFinish=function(a){var b=a.target,d=this.resItemDic[b.hashCode];delete this.resItemDic[b.hashCode];this.recycler.push(b);var e=d.item,f=d.func;e.loaded=a.type==egret.Event.COMPLETE;
e.loaded&&this.analyzeData(e,b.data);"string"==typeof b.data?(this._dataFormat=egret.URLLoaderDataFormat.TEXTURE,this.loadFile(e,f,d.thisObject),this._dataFormat=egret.URLLoaderDataFormat.TEXT):f.call(d.thisObject,e)};a.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b){var e;if("string"==typeof b){try{e=JSON.parse(b)}catch(f){}e&&(this.sheetMap[d]=e,a.loaded=!1,a.url=this.getRelativePath(a.url,e.file))}else e=this.sheetMap[d],delete this.sheetMap[d],b&&(e=this.parseSpriteSheet(b,
e),this.fileDic[d]=e)}};a.prototype.getRelativePath=function(a,b){a=a.split("\\").join("/");var d=a.lastIndexOf("/");return a=-1!=d?a.substring(0,d+1)+b:b};a.prototype.parseSpriteSheet=function(a,b){var d=b.frames;if(d){var e=new egret.SpriteSheet(a._bitmapData),f;for(f in d){var h=d[f];e.createTexture(f,h.x,h.y,h.w,h.h)}return e}};return a}(b.BinAnalyzer);b.SheetAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b){var e;"string"==typeof b?(e=b,this.sheetMap[d]=e,a.loaded=!1,a.url=this.getTexturePath(a.url,e)):(e=this.sheetMap[d],delete this.sheetMap[d],b&&(e=new egret.BitmapTextSpriteSheet(b._bitmapData,e),this.fileDic[d]=e))}};a.prototype.getTexturePath=function(a,b){var d="",e=b.split("\n")[2],f=e.indexOf('file="');-1!=f&&(e=e.substring(f+6),f=e.indexOf('"'),d=
e.substring(0,f));a=a.split("\\").join("/");f=a.lastIndexOf("/");return a=-1!=f?a.substring(0,f+1)+d:d};return a}(b.SheetAnalyzer);b.FontAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this);this._dataFormat=egret.URLLoaderDataFormat.SOUND}__extends(a,b);return a}(b.BinAnalyzer);b.SoundAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(a,b);a.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b)try{var e=egret.SAXParser.getInstance().parserXML(b),f=new egret.XML;f._ansXML(e.documentElement);this.fileDic[d]=f}catch(h){}};return a}(b.BinAnalyzer);b.XMLAnalyzer=e})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){b.loadConfig=function(b,a){"undefined"===typeof a&&(a="");e.loadConfig(b,a)};b.loadGroup=function(b,a){"undefined"===typeof a&&(a=0);e.loadGroup(b,a)};b.isGroupLoaded=function(b){return e.isGroupLoaded(b)};b.getGroupByName=function(b){return e.getGroupByName(b)};b.createGroup=function(b,a,c){"undefined"===typeof c&&(c=!1);return e.createGroup(b,a,c)};b.hasRes=function(b){return e.hasRes(b)};b.getRes=function(b){return e.getRes(b)};b.getResAsync=function(b,a,c){e.getResAsync(b,a,c)};b.getResByUrl=
function(b,a,c,l){"undefined"===typeof l&&(l="");e.getResByUrl(b,a,c,l)};b.destroyRes=function(b){return e.destroyRes(b)};b.addEventListener=function(b,a,c,l,m){"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m=0);e.addEventListener(b,a,c,l,m)};b.removeEventListener=function(b,a,c,l){"undefined"===typeof l&&(l=!1);e.removeEventListener(b,a,c,l)};var e=new (function(d){function a(){d.call(this);this.analyzerDic={};this.configComplete=!1;this.loadedGroups=[];this.groupNameList=[];this.asyncDic=
{};this.init()}__extends(a,d);a.prototype.getAnalyzerByType=function(a){var d=this.analyzerDic[a];d||(d=this.analyzerDic[a]=egret.Injector.getInstance(b.AnalyzerBase,a));return d};a.prototype.init=function(){egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_BIN)||egret.Injector.mapClass(b.AnalyzerBase,b.BinAnalyzer,b.ResourceItem.TYPE_BIN);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_IMAGE)||egret.Injector.mapClass(b.AnalyzerBase,b.ImageAnalyzer,b.ResourceItem.TYPE_IMAGE);
egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_TEXT)||egret.Injector.mapClass(b.AnalyzerBase,b.TextAnalyzer,b.ResourceItem.TYPE_TEXT);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_JSON)||egret.Injector.mapClass(b.AnalyzerBase,b.JsonAnalyzer,b.ResourceItem.TYPE_JSON);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_SHEET)||egret.Injector.mapClass(b.AnalyzerBase,b.SheetAnalyzer,b.ResourceItem.TYPE_SHEET);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_FONT)||
egret.Injector.mapClass(b.AnalyzerBase,b.FontAnalyzer,b.ResourceItem.TYPE_FONT);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_SOUND)||egret.Injector.mapClass(b.AnalyzerBase,b.SoundAnalyzer,b.ResourceItem.TYPE_SOUND);egret.Injector.hasMapRule(b.AnalyzerBase,b.ResourceItem.TYPE_XML)||egret.Injector.mapClass(b.AnalyzerBase,b.XMLAnalyzer,b.ResourceItem.TYPE_XML);this.resConfig=new b.ResourceConfig;this.resLoader=new b.ResourceLoader;this.resLoader.callBack=this.onResourceItemComp;this.resLoader.resInstance=
this;this.resLoader.addEventListener(b.ResourceEvent.GROUP_COMPLETE,this.onGroupComp,this)};a.prototype.loadConfig=function(c,d){this.configURL=c;this.resourceRoot=d;var e=[new b.ResourceItem(c,c,b.ResourceItem.TYPE_JSON)];this.resLoader.loadGroup(e,a.GROUP_CONFIG,Number.MAX_VALUE)};a.prototype.isGroupLoaded=function(a){return-1!=this.loadedGroups.indexOf(a)};a.prototype.getGroupByName=function(a){return this.resConfig.getGroupByName(a)};a.prototype.loadGroup=function(a,b){"undefined"===typeof b&&
(b=0);if(-1==this.loadedGroups.indexOf(a)&&!this.resLoader.isGroupInLoading(a))if(this.configComplete){var d=this.resConfig.getGroupByName(a);this.resLoader.loadGroup(d,a,b)}else this.groupNameList.push({name:a,priority:b})};a.prototype.createGroup=function(a,b,d){"undefined"===typeof d&&(d=!1);return this.resConfig.createGroup(a,b,d)};a.prototype.onGroupComp=function(c){if(c.groupName==a.GROUP_CONFIG){c=this.getAnalyzerByType(b.ResourceItem.TYPE_JSON);var d=c.getRes(this.configURL);c.destroyRes(this.configURL);
this.resConfig.parseConfig(d,this.resourceRoot);this.configComplete=!0;b.ResourceEvent.dispatchResourceEvent(this,b.ResourceEvent.CONFIG_COMPLETE);c=this.groupNameList;for(var d=c.length,e=0;e<d;e++){var g=c[e];this.loadGroup(g.name,g.priority)}this.groupNameList=[]}else this.loadedGroups.push(c.groupName),this.dispatchEvent(c)};a.prototype.hasRes=function(a){var d=this.resConfig.getType(a);return""==d&&(a=b.AnalyzerBase.getStringPrefix(a),d=this.resConfig.getType(a),""==d)?!1:!0};a.prototype.getRes=
function(a){var d=this.resConfig.getType(a);return""==d&&(d=b.AnalyzerBase.getStringPrefix(a),d=this.resConfig.getType(d),""==d)?null:this.getAnalyzerByType(d).getRes(a)};a.prototype.getResAsync=function(a,d,e){var g=this.resConfig.getType(a);if(""==g&&(g=b.AnalyzerBase.getStringPrefix(a),g=this.resConfig.getType(g),""==g)){d.call(e,null);return}(g=this.getAnalyzerByType(g).getRes(a))?d.call(e,g):(d={name:a,compFunc:d,thisObject:e},this.asyncDic[a]?this.asyncDic[a].push(d):(this.asyncDic[a]=[d],a=
this.resConfig.getResourceItem(a),this.resLoader.loadItem(a)))};a.prototype.getResByUrl=function(a,d,e,g){"undefined"===typeof g&&(g="");if(a){g||(g=this.getTypeByUrl(a));var f=this.getAnalyzerByType(g).getRes(a);f?d.call(e,f):(d={name:a,compFunc:d,thisObject:e},this.asyncDic[a]?this.asyncDic[a].push(d):(this.asyncDic[a]=[d],a=new b.ResourceItem(a,a,g),this.resLoader.loadItem(a)))}else d.call(e,null)};a.prototype.getTypeByUrl=function(a){a=a.substr(a.lastIndexOf(".")+1);switch(a){case b.ResourceItem.TYPE_XML:case b.ResourceItem.TYPE_JSON:case b.ResourceItem.TYPE_SHEET:break;
case "png":case "jpg":case "gif":a=b.ResourceItem.TYPE_IMAGE;break;case "fnt":a=b.ResourceItem.TYPE_FONT;break;case "txt":a=b.ResourceItem.TYPE_TEXT;break;default:a=b.ResourceItem.TYPE_BIN}return a};a.prototype.onResourceItemComp=function(a){var b=this.asyncDic[a.name];delete this.asyncDic[a.name];a=this.getAnalyzerByType(a.type);for(var d=b.length,e=0;e<d;e++){var f=b[e],h=a.getRes(f.name);f.compFunc.call(f.thisObject,h)}};a.prototype.destroyRes=function(a){var b=this.resConfig.getRawGroupByName(a);
if(b){for(var d=b.length,e=0;e<d;e++){var f=b[e];f.loaded=!1;f=this.getAnalyzerByType(f.type);f.destroyRes(a)}return!0}b=this.resConfig.getType(a);if(""==b)return!1;f=this.resConfig.getRawResourceItem(a);f.loaded=!1;f=this.getAnalyzerByType(b);return f.destroyRes(a)};a.GROUP_CONFIG="RES__CONFIG";return a}(egret.EventDispatcher))})(RES||(RES={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._time=0;this.frameRate=60}__extends(a,d);a.prototype.executeMainLoop=function(c,d){var e=this,g=function(){var f=b.getTimer();c.call(d,f-e._time);e._time=f;a.requestAnimationFrame.call(window,g)};a.requestAnimationFrame.call(window,g)};a.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,
1E3/60)};return a}(b.DeviceContext);b.HTML5DeviceContext=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a){this.canvas=a;this.canvasContext=a.getContext("2d");var b=this.canvasContext.setTransform,e=this;this.canvasContext.setTransform=function(a,c,d,k,n,p){e._matrixA=a;e._matrixB=c;e._matrixC=d;e._matrixD=k;e._matrixTx=n;e._matrixTy=p;b.call(e.canvasContext,a,c,d,k,n,p)};this._matrixA=1;this._matrixC=this._matrixB=0;this._matrixD=1;this._transformTy=this._transformTx=this._matrixTy=this._matrixTx=0;d.call(this)}__extends(a,d);a.prototype.clearScreen=function(){this.setTransform(b.Matrix.identity.identity());
for(var a=b.RenderFilter.getInstance().getDrawAreaList(),d=0,e=a.length;d<e;d++){var g=a[d];this.clearRect(g.x+this._transformTx,g.y+this._transformTy,g.width,g.height)}this.renderCost=0};a.prototype.clearRect=function(a,b,d,e){this.canvasContext.clearRect(a,b,d,e)};a.prototype.drawImage=function(a,e,m,g,f,h,k,n,p){e/=b.MainContext.instance.rendererContext.texture_scale_factor;m/=b.MainContext.instance.rendererContext.texture_scale_factor;g/=b.MainContext.instance.rendererContext.texture_scale_factor;
f/=b.MainContext.instance.rendererContext.texture_scale_factor;a=a._bitmapData;h+=this._transformTx;k+=this._transformTy;var q=b.getTimer();this.canvasContext.drawImage(a,e,m,g,f,h,k,n,p);d.prototype.drawImage.call(this,a,e,m,g,f,h,k,n,p);this.renderCost+=b.getTimer()-q};a.prototype.setTransform=function(a){1==a.a&&0==a.b&&0==a.c&&1==a.d&&1==this._matrixA&&0==this._matrixB&&0==this._matrixC&&1==this._matrixD?(this._transformTx=a.tx-this._matrixTx,this._transformTy=a.ty-this._matrixTy):(this._transformTx=
this._transformTy=0,this._matrixA==a.a&&this._matrixB==a.b&&this._matrixC==a.c&&this._matrixD==a.d&&this._matrixTx==a.tx&&this._matrixTy==a.ty||this.canvasContext.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty))};a.prototype.save=function(){this.canvasContext.save()};a.prototype.restore=function(){this.canvasContext.restore();this.canvasContext.setTransform(1,0,0,1,0,0)};a.prototype.setAlpha=function(a,d){a!=this.canvasContext.globalAlpha&&(this.canvasContext.globalAlpha=a);d?(this.blendValue=d.value,this.canvasContext.globalCompositeOperation=
d.value):this.blendValue!=b.BlendMode.NORMAL.value&&(this.blendValue=b.BlendMode.NORMAL.value,this.canvasContext.globalCompositeOperation=b.BlendMode.NORMAL.value)};a.prototype.setupFont=function(a){var b=this.canvasContext,d=a.italic?"italic ":"normal ",d=d+(a.bold?"bold ":"normal "),d=d+(a.size+"px "+a.fontFamily);b.font=d;b.textAlign="left";b.textBaseline="middle"};a.prototype.measureText=function(a){return this.canvasContext.measureText(a).width};a.prototype.drawText=function(a,b,e,g,f){var h=
a._strokeColorString,k=a.stroke,n=this.canvasContext;n.fillStyle=a._textColorString;n.strokeStyle=h;k&&(n.lineWidth=2*k,n.strokeText(b,e+this._transformTx,g+this._transformTy,f||65535));n.fillText(b,e+this._transformTx,g+this._transformTy,f||65535);d.prototype.drawText.call(this,a,b,e,g,f)};a.prototype.clip=function(a,b,d,e){this.canvasContext.beginPath();this.canvasContext.rect(a+this._transformTx,b+this._transformTy,d,e);this.canvasContext.clip();this.canvasContext.closePath()};a.prototype.strokeRect=
function(a,b,d,e,f){this.canvasContext.strokeStyle=f;this.canvasContext.strokeRect(a,b,d,e)};return a}(b.RendererContext);b.HTML5CanvasRenderer=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype.proceed=function(a){function d(e){b.IOErrorEvent.dispatchIOErrorEvent(a)}function e(d){switch(this.dataFormat){case b.URLLoaderDataFormat.TEXT:a.data=f.responseText;break;case b.URLLoaderDataFormat.VARIABLES:a.data=new b.URLVariables(f.responseText);break;case b.URLLoaderDataFormat.BINARY:a.data=f.response;break;default:a.data=f.responseText}b.callLater(b.Event.dispatchEvent,b.Event,a,b.Event.COMPLETE)}if(a.dataFormat==
b.URLLoaderDataFormat.TEXTURE)this.loadTexture(a);else if(a.dataFormat==b.URLLoaderDataFormat.SOUND)this.loadSound(a);else{var g=a._request,f=this.getXHR();f.onerror=d;f.onload=e;f.open(g.method,g.url,!0);this.setResponseType(f,a.dataFormat);g.method!=b.URLRequestMethod.GET&&g.data?g.data instanceof b.URLVariables?(f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(g.data.toString())):(f.setRequestHeader("Content-Type","multipart/form-data"),f.send(g.data)):f.send()}};a.prototype.loadSound=
function(a){function d(f){g.removeEventListener("canplaythrough",d,!1);g.removeEventListener("error",e,!1);f=new b.Sound;f.audio=g;a.data=f;b.callLater(b.Event.dispatchEvent,b.Event,a,b.Event.COMPLETE)}function e(f){g.removeEventListener("canplaythrough",d,!1);g.removeEventListener("error",e,!1);b.IOErrorEvent.dispatchIOErrorEvent(a)}var g=new Audio(a._request.url);g.addEventListener("canplaythrough",d,!1);g.addEventListener("error",e,!1);g.load()};a.prototype.getXHR=function(){return window.XMLHttpRequest?
new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")};a.prototype.setResponseType=function(a,d){switch(d){case b.URLLoaderDataFormat.TEXT:case b.URLLoaderDataFormat.VARIABLES:a.responseType=b.URLLoaderDataFormat.TEXT;break;case b.URLLoaderDataFormat.BINARY:a.responseType="arraybuffer";break;default:a.responseType=d}};a.prototype.loadTexture=function(a){var d=a._request,e=new Image;e.crossOrigin="Anonymous";e.onload=function(d){e.onerror=null;e.onload=null;d=new b.Texture;d.bitmapData=e;a.data=
d;b.callLater(b.Event.dispatchEvent,b.Event,a,b.Event.COMPLETE)};e.onerror=function(d){e.onerror=null;e.onload=null;b.IOErrorEvent.dispatchIOErrorEvent(a)};e.src=d.url};return a}(b.NetContext);b.HTML5NetContext=e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(a){d.call(this);this.canvas=a;this._isTouchDown=!1}__extends(a,d);a.prototype.run=function(){var a=this;"ontouchstart"in window?(this.canvas.addEventListener("touchstart",function(b){for(var d=b.changedTouches.length,e=0;e<d&&e<a.maxTouches;e++)a._onTouchBegin(b.changedTouches[e]);b.stopPropagation();b.preventDefault()},!1),this.canvas.addEventListener("touchmove",function(b){for(var d=b.changedTouches.length,e=0;e<d&&e<a.maxTouches;e++)a._onTouchMove(b.changedTouches[e]);
b.stopPropagation();b.preventDefault()},!1),this.canvas.addEventListener("touchend",function(b){for(var d=b.changedTouches.length,e=0;e<d&&e<a.maxTouches;e++)a._onTouchEnd(b.changedTouches[e]);b.stopPropagation();b.preventDefault()},!1),this.canvas.addEventListener("touchcancel",function(b){for(var d=b.changedTouches.length,e=0;e<d&&e<a.maxTouches;e++)a._onTouchEnd(b.changedTouches[e]);b.stopPropagation();b.preventDefault()},!1)):window.navigator.msPointerEnabled?(this.canvas.addEventListener("MSPointerDown",
function(b){a._onTouchBegin(b);b.stopPropagation();b.preventDefault()},!1),this.canvas.addEventListener("MSPointerMove",function(b){a._onTouchMove(b);b.stopPropagation();b.preventDefault()},!1),this.canvas.addEventListener("MSPointerUp",function(b){a._onTouchEnd(b);b.stopPropagation();b.preventDefault()},!1)):(this.canvas.addEventListener("mousedown",function(b){a._onTouchBegin(b)}),this.canvas.addEventListener("mousemove",function(b){a._onTouchMove(b)}),this.canvas.addEventListener("mouseup",function(b){a._onTouchEnd(b)}));
window.addEventListener("mousedown",function(b){a.inOutOfCanvas(b)?a.dispatchLeaveStageEvent():a._isTouchDown=!0});window.addEventListener("mouseup",function(b){a._isTouchDown&&a.inOutOfCanvas(b)&&a.dispatchLeaveStageEvent();a._isTouchDown=!1})};a.prototype.inOutOfCanvas=function(a){a=this.getLocation(this.canvas,a);return 0>a.x||0>a.y||a.x>this.canvas.width||a.y>this.canvas.height?!0:!1};a.prototype.dispatchLeaveStageEvent=function(){b.MainContext.instance.stage.dispatchEventWith(b.Event.LEAVE_STAGE)};
a.prototype._onTouchBegin=function(a){var b=this.getLocation(this.canvas,a),d=-1;a.hasOwnProperty("identifier")&&(d=a.identifier);this.onTouchBegan(b.x,b.y,d)};a.prototype._onTouchMove=function(a){var b=this.getLocation(this.canvas,a),d=-1;a.hasOwnProperty("identifier")&&(d=a.identifier);this.onTouchMove(b.x,b.y,d)};a.prototype._onTouchEnd=function(a){var b=this.getLocation(this.canvas,a),d=-1;a.hasOwnProperty("identifier")&&(d=a.identifier);this.onTouchEnd(b.x,b.y,d)};a.prototype.getLocation=function(a,
d){var e=document.documentElement,g=window,f,h;"function"===typeof a.getBoundingClientRect?(h=a.getBoundingClientRect(),f=h.left,h=h.top):h=f=0;f+=g.pageXOffset-e.clientLeft;h+=g.pageYOffset-e.clientTop;null!=d.pageX?(e=d.pageX,g=d.pageY):(f-=document.body.scrollLeft,h-=document.body.scrollTop,e=d.clientX,g=d.clientY);var k=b.Point.identity;k.x=(e-f)/b.StageDelegate.getInstance().getScaleX();k.y=(g-h)/b.StageDelegate.getInstance().getScaleY();return k};return a}(b.TouchContext);b.HTML5TouchContext=
e})(egret||(egret={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._isSupportDOMParser=this._xmlDict=this._parser=null;this._xmlDict={};window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1}__extends(a,d);a.getInstance=function(){a._instance||(a._instance=new a);return a._instance};a.prototype.parserXML=function(a){for(var d=0;"\n"==a.charAt(d)||"\t"==a.charAt(d)||"\r"==a.charAt(d)||" "==a.charAt(d);)d++;0!=d&&(a=a.substring(d,a.length));this._isSupportDOMParser?
d=this._parser.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&b.Logger.info("xml not found!");return d};a._instance=null;return a}(b.HashObject);b.SAXParser=e})(egret||(egret={}));var AssetAdapter=function(){function b(){}b.prototype.getAsset=function(b,d,a,c){function l(c){d.call(a,c,b)}c=b;b.prototype&&(c=new b);c instanceof egret.DisplayObject||c instanceof egret.Texture?d.call(a,c,b):"string"==typeof b?RES.hasRes(b)?RES.getResAsync(b,l,this):RES.getResByUrl(b,l,this):d.call(a,c,b)};return b}();var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d},LoadingUI=function(b){function e(){b.call(this);this.createView()}__extends(e,b);e.prototype.createView=function(){this.textField=new egret.TextField;this.addChild(this.textField);this.textField.x=120;this.textField.y=300;this.textField.witdh=480;this.textField.height=100;this.textField.align="middle"};e.prototype.setProgress=function(b,
a){this.textField.text="\u6e38\u620f\u52a0\u8f7d\u4e2d..."+b+"/"+a};return e}(egret.Sprite);var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d},Main=function(b){function e(){b.call(this);this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,b);e.prototype.onAddToStage=function(b){egret.Injector.mapClass("egret.IAssetAdapter",AssetAdapter);egret.Injector.mapClass("egret.ISkinAdapter",SkinAdapter);egret.Profiler.getInstance().run();this.loadingView=
new LoadingUI;this.stage.addChild(this.loadingView);RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);RES.loadConfig("resources/resource.json","resources/")};e.prototype.onConfigComplete=function(b){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this);RES.loadGroup("preload")};
e.prototype.onResourceLoadComplete=function(b){"preload"==b.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())};e.prototype.onResourceProgress=function(b){"preload"==b.groupName&&this.loadingView.setProgress(b.itemsLoaded,b.itemsTotal)};e.prototype.createGameScene=function(){var b=new game.AppContainer;
this.addChild(b);game.ApplicationFacade.getInstance().startUp(b)};return e}(egret.DisplayObjectContainer);var SkinAdapter=function(){function b(){}b.prototype.getSkin=function(b,d){if(b){if(b.prototype)return new b;if("string"==typeof b){var a=egret.getDefinitionByName(b);return a?new a:null}return b}return this.getDefaultSkin(d)};b.prototype.getDefaultSkin=function(b){};return b}();var __extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d},game;
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.getInstance=function(){null==this.instance&&(this.instance=new a);return this.instance};a.prototype.initializeController=function(){d.prototype.initializeController.call(this);this.registerCommand(a.STARTUP,b.StartupCommand)};a.prototype.startUp=function(c){this.sendNotification(a.STARTUP,c);this.removeCommand(a.STARTUP)};a.STARTUP="startup";return a}(puremvc.Facade);b.ApplicationFacade=e})(game||(game={}));(function(b){var e=function(){return function(){}}();b.AppConfig=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.addEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(a,d);a.prototype.createCompleteEvent=function(a){this.removeEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this);b.ApplicationFacade.getInstance().registerMediator(new b.ApplicationMediator(this));b.ApplicationFacade.getInstance().sendNotification(b.GameCommand.GAME_RESET)};a.prototype.createChildren=function(){d.prototype.createChildren.call(this);
this.mainMenuUI=new b.MainMenuUI;this.mainMenuUI.top=10;this.mainMenuUI.horizontalCenter=0;this.addElement(this.mainMenuUI);this.mainGameUI=new b.MainGameUI;this.mainGameUI.top=140;this.mainGameUI.horizontalCenter=0;this.addElement(this.mainGameUI)};return a}(egret.UIStage);b.AppContainer=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype.execute=function(a){(new b.GameCommand).register()};return a}(puremvc.SimpleCommand);b.ControllerPrepCommand=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype.execute=function(a){this.facade.registerProxy(new b.GameProxy);this.facade.registerProxy(new b.GridProxy)};return a}(puremvc.SimpleCommand);b.ModelPrepCommand=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype.initializeMacroCommand=function(){this.addSubCommand(b.ControllerPrepCommand);this.addSubCommand(b.ModelPrepCommand);this.addSubCommand(b.ViewPrepCommand)};return a}(puremvc.MacroCommand);b.StartupCommand=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};(function(b){var e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype.execute=function(a){};return a}(puremvc.SimpleCommand);b.ViewPrepCommand=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);a.prototype.register=function(){this.facade.registerCommand(a.GAME_RESET,a);this.facade.registerCommand(a.USER_MOVED,a);this.facade.registerCommand(a.USER_MOVE,a)};a.prototype.execute=function(c){var d=this.facade.retrieveProxy(b.GameProxy.NAME),e=this.facade.retrieveProxy(b.GridProxy.NAME),g=c.getBody();switch(c.getName()){case a.GAME_RESET:d.reset();e.reset();e.addStartTiles();break;case a.USER_MOVED:d.updateScore(g.score);
g.won?d.setResult(!0):g.moved&&e.computerMove();e.movesAvailable()||d.setResult(!1);break;case a.USER_MOVE:e.move(g)}};a.NAME="GameCommand";a.GAME_RESET="game_reset";a.USER_MOVED="user_moved";a.USER_MOVE="user_move";return a}(puremvc.SimpleCommand);b.GameCommand=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this,a.NAME);this.over=this.won=!1;this._highScore=this._score=0}__extends(a,d);Object.defineProperty(a.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"highScore",{get:function(){return this._highScore},enumerable:!0,configurable:!0});a.prototype.reset=function(){this._score=0;this.over=this.won=!1;b.CommonData.isRunning=!0;this.sendNotification(a.RESET_SCORE)};a.prototype.updateScore=
function(c){0!=c&&(this._score+=c,this._score>this._highScore&&(this._highScore=this._score),this.sendNotification(a.UPDATE_SCORE,{totalScore:this.score,highScore:this.highScore,addScore:c}))};a.prototype.setResult=function(c){c?this.won=!0:this.over=!0;b.CommonData.isRunning=!1;this.sendNotification(a.GAME_RESULT,c)};a.NAME="GameProxy";a.UPDATE_SCORE="update_score";a.GAME_RESULT="game_result";a.RESET_SCORE="reset_score";return a}(puremvc.Proxy);b.GameProxy=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this,a.NAME);this.cells=[];this.startTiles=2;this.playerTurn=!0;this.size=b.CommonData.size}__extends(a,d);a.prototype.reset=function(){this.cells=[];for(var c=0;c<this.size;c++){var b=[];this.cells.push(b);for(var d=0;d<this.size;d++)b.push(null)}this.playerTurn=!0;this.sendNotification(a.RESET_TILE)};a.prototype.move=function(a){var d=!1,e=!1,g=0;this.prepareTiles();for(var f=this.buildMoveOrder(a),h=0;h<f.length;h++){var k=f[h];if(k){var n=this.findFarthestPosition({x:k.x,
y:k.y},a),p=this.getNextPosition(n,a);(p=this.cellContent(p.x,p.y))&&p.value==k.value&&!p.merged?(n=k.value+p.value,this.mergedTile(k,p),k.x=p.x,k.y=p.y,g+=n,n==b.CommonData.winValue&&(d=!0)):this.moveTile(k,n.x,n.y);if(k.x!=k.previousPosition.x||k.y!=k.previousPosition.y)this.playerTurn=!1,e=!0}}this.sendNotification(b.GameCommand.USER_MOVED,{won:d,moved:e,score:g})};a.prototype.computerMove=function(){this.addRandomTile();this.playerTurn=!0};a.prototype.buildMoveOrder=function(a){var b=[],d=this.getVector(a);
a=1==d.x?!0:!1;for(var d=1==d.y?!0:!1,e=a?this.size-1:0;0<=e&&e<this.size;){for(var f=d?this.size-1:0;0<=f&&f<this.size;)b.push(this.cellContent(e,f)),f+=d?-1:1;e+=a?-1:1}return b};a.prototype.findFarthestPosition=function(a,b){this.getVector(b);var d;do d=a,a=this.getNextPosition(a,b);while(this.withinBounds(a.x,a.y)&&this.isAvailable(a.x,a.y));return d};a.prototype.getNextPosition=function(a,b){var d=this.getVector(b);return{x:a.x+d.x,y:a.y+d.y}};a.prototype.prepareTiles=function(){for(var a=0;a<
this.size;a++)for(var b=0;b<this.size;b++){var d=this.cells[a][b];d&&(d.merged=!1,d.previousPosition={x:d.x,y:d.y})}};a.prototype.addStartTiles=function(){for(var a=0;a<this.startTiles;a++)this.addRandomTile()};a.prototype.addRandomTile=function(){if(this.cellsAvailable()){var a=this.randomAvailableCell,d=new b.TileVO;d.x=a.x;d.y=a.y;d.value=0.9>Math.random()?2:4;this.insertTile(d)}};a.prototype.movesAvailable=function(){for(var a=0;a<this.size;a++)for(var b=0;b<this.size;b++){var d=this.cells[a][b];
if(d)for(var e=0;4>e;e++){var f=this.getNextPosition({x:d.x,y:d.y},e),h=this.cellContent(f.x,f.y);if(!h&&this.withinBounds(f.x,f.y)||h&&h.value==d.value)return!0}}return!1};a.prototype.cellsAvailable=function(){return 0<this.availableCells.length?!0:!1};a.prototype.isAvailable=function(a,b){return!this.isOccupied(a,b)};a.prototype.isOccupied=function(a,b){return this.cellContent(a,b)?!0:!1};a.prototype.cellContent=function(a,b){return this.withinBounds(a,b)?this.cells[a][b]:null};a.prototype.withinBounds=
function(a,b){return 0<=a&&a<this.size&&0<=b&&b<this.size};a.prototype.mergedTile=function(c,d){var e=new b.TileVO;e.x=d.x;e.y=d.y;e.previousPosition={x:c.x,y:c.y};e.value=c.value+d.value;e.merged=!0;this.cells[c.x][c.y]=null;this.cells[d.x][d.y]=e;this.sendNotification(a.MERGED_TILE,e.clone())};a.prototype.moveTile=function(c,b,d){if(c.x!=b||c.y!=d)this.cells[c.x][c.y]=null,c.x=b,c.y=d,this.cells[c.x][c.y]=c,this.sendNotification(a.MOVE_TILE,c.clone())};a.prototype.insertTile=function(c){this.cells[c.x][c.y]=
c;this.sendNotification(a.INSERT_TILE,c.clone())};a.prototype.removeTile=function(c){this.cells[c.x][c.y]=null;this.sendNotification(a.REMOVE_TILE,c.clone())};a.prototype.getVector=function(a){return 0==a?{x:0,y:-1}:1==a?{x:1,y:0}:2==a?{x:0,y:1}:3==a?{x:-1,y:0}:null};Object.defineProperty(a.prototype,"randomAvailableCell",{get:function(){var a=this.availableCells;return a.length?a[Math.floor(Math.random()*a.length)]:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"availableCells",
{get:function(){for(var a=[],b=0;b<this.size;b++)for(var d=0;d<this.size;d++)this.cells[b][d]||a.push({x:b,y:d});return a},enumerable:!0,configurable:!0});a.NAME="GridProxy";a.RESET_TILE="reset_tile";a.MOVE_TILE="move_tile";a.INSERT_TILE="insert_tile";a.REMOVE_TILE="remove_tile";a.MERGED_TILE="merged_tile";return a}(puremvc.Proxy);b.GridProxy=e})(game||(game={}));(function(b){var e=function(){function b(){}b.winValue=2048;b.size=4;b.isRunning=!1;return b}();b.CommonData=e})(game||(game={}));(function(b){var e=function(){function b(){}b.prototype.clone=function(){var a=new b;a.x=this.x;a.y=this.y;a.value=this.value;this.previousPosition&&(a.previousPosition={x:this.previousPosition.x,y:this.previousPosition.y});a.merged=this.merged;return a};return b}();b.TileVO=e})(game||(game={}));(function(b){var e=function(){function b(a){this.className=a;this.list=[]}b.prototype.borrowObject=function(){return 0<this.list.length?this.list.shift():new (egret.getDefinitionByName(this.className))};b.prototype.returnObject=function(a){this.list.push(a)};b.getPool=function(a){b.pool[a]||(b.pool[a]=new b(a));return b.pool[a]};b.pool={};return b}();b.ObjectPool=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this,a.NAME,c);this.lastMoveTime=0;if(egret.Browser.getInstance().isMobile)this.main.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDownHandle,this);else{var b=this;document.addEventListener("keydown",function(a){switch(a.keyCode){case 38:b.doMove(0);break;case 39:b.doMove(1);break;case 40:b.doMove(2);break;case 37:b.doMove(3)}})}}__extends(a,d);a.prototype.mouseDownHandle=function(a){egret.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,
this.stage_mouseMoveHandler,this);egret.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);egret.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.downPoint=this.main.globalToLocal(a.stageX,a.stageY)};a.prototype.stage_mouseMoveHandler=function(a){this.movePoint||(this.movePoint=new egret.Point);this.movePoint.x=a.stageX;this.movePoint.y=a.stageY;this.needMove||(this.needMove=!0)};a.prototype.stage_mouseUpHandler=
function(a){egret.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this);egret.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);egret.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.needMove&&(this.updateWhenMouseUp(),this.needMove=!1)};a.prototype.updateWhenMouseUp=function(){var a=this.main.globalToLocal(this.movePoint.x,this.movePoint.y,egret.Point.identity),b=
a.x-this.downPoint.x,a=a.y-this.downPoint.y;0>a&&Math.abs(a)>Math.abs(b)?this.doMove(0):0<b&&b>Math.abs(a)?this.doMove(1):0<a&&a>Math.abs(b)?this.doMove(2):0>b&&Math.abs(b)>Math.abs(a)&&this.doMove(3)};a.prototype.doMove=function(a){if(b.CommonData.isRunning&&150<=egret.getTimer()-this.lastMoveTime){switch(a){case 0:this.sendNotification(b.GameCommand.USER_MOVE,0);break;case 1:this.sendNotification(b.GameCommand.USER_MOVE,1);break;case 2:this.sendNotification(b.GameCommand.USER_MOVE,2);break;case 3:this.sendNotification(b.GameCommand.USER_MOVE,
3)}this.lastMoveTime=egret.getTimer()}};a.prototype.listNotificationInterests=function(){return[]};a.prototype.handleNotification=function(a){a.getName()};Object.defineProperty(a.prototype,"main",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0});a.NAME="ApplicationMediator";return a}(puremvc.Mediator);b.ApplicationMediator=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this,a.NAME,c)}__extends(a,d);a.prototype.listNotificationInterests=function(){return[b.GridProxy.INSERT_TILE,b.GridProxy.MERGED_TILE,b.GridProxy.MOVE_TILE,b.GridProxy.REMOVE_TILE,b.GridProxy.RESET_TILE,b.GameProxy.GAME_RESULT]};a.prototype.handleNotification=function(a){var d=a.getBody();switch(a.getName()){case b.GridProxy.INSERT_TILE:this.mainGameUI.createTile(d);break;case b.GridProxy.MERGED_TILE:this.mainGameUI.mergedTile(d);break;case b.GridProxy.MOVE_TILE:this.mainGameUI.moveTile(d);
break;case b.GridProxy.REMOVE_TILE:this.mainGameUI.removeTile(d);break;case b.GridProxy.RESET_TILE:this.mainGameUI.clearTiles();break;case b.GameProxy.GAME_RESULT:this.showResultWindow(d)}};a.prototype.showResultWindow=function(a){var d=new b.ResultWindow;d.win=a;d.percentWidth=100;d.percentHeight=100;this.mainGameUI.addElement(d)};Object.defineProperty(a.prototype,"mainGameUI",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0});a.NAME="MainGameMediator";return a}(puremvc.Mediator);
b.MainGameMediator=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this,a.NAME,c);this.mainGameUI.resetButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startButtonClick,this)}__extends(a,d);a.prototype.startButtonClick=function(a){this.sendNotification(b.GameCommand.GAME_RESET)};a.prototype.listNotificationInterests=function(){return[b.GameProxy.UPDATE_SCORE,b.GameProxy.RESET_SCORE]};a.prototype.handleNotification=function(a){var d=a.getBody();switch(a.getName()){case b.GameProxy.UPDATE_SCORE:this.mainGameUI.scoreLabel.text=
d.totalScore.toString();this.mainGameUI.highScoreLabel.text=d.highScore.toString();this.mainGameUI.playScoreEffect(d.addScore);break;case b.GameProxy.RESET_SCORE:this.mainGameUI.scoreLabel.text="0"}};Object.defineProperty(a.prototype,"mainGameUI",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0});a.NAME="MainMenuMediator";return a}(puremvc.Mediator);b.MainMenuMediator=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(c){d.call(this,a.NAME,c);this.resultWindow.button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tryAgainButtonClick,this)}__extends(a,d);a.prototype.tryAgainButtonClick=function(a){this.sendNotification(b.GameCommand.GAME_RESET)};a.prototype.listNotificationInterests=function(){return[b.GameCommand.GAME_RESET]};a.prototype.handleNotification=function(c){switch(c.getName()){case b.GameCommand.GAME_RESET:this.resultWindow.parent.removeElement(this.resultWindow),
this.facade.removeMediator(a.NAME)}};Object.defineProperty(a.prototype,"resultWindow",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0});a.NAME="ResultWindowMediator";return a}(puremvc.Mediator);b.ResultWindowMediator=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.gap=16;this.skinName=b.MainGameUISkin;this.addEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(a,d);a.prototype.createCompleteEvent=function(a){this.removeEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this);b.ApplicationFacade.getInstance().registerMediator(new b.MainGameMediator(this))};a.prototype.createTile=function(a){var d=b.ObjectPool.getPool("game.TileUI").borrowObject();
d.value=a.value;d.location.x=a.x;d.location.y=a.y;d.x=a.x*(d.width+this.gap)+d.width/2;d.y=a.y*(d.height+this.gap)+d.height/2;d.includeInLayout=!1;d.visible=!1;this.tileGroup.addElement(d);egret.Ticker.getInstance().setTimeout(function(){d.visible=!0;a.merged?d.playScale(!0):d.playScale(!1)},this,100)};a.prototype.getTileUI=function(a,b){for(var d=0;d<this.tileGroup.numElements;d++){var e=this.tileGroup.getElementAt(d);if(e.location.x==a&&e.location.y==b)return e}return null};a.prototype.mergedTile=
function(a){var d=this.getTileUI(a.previousPosition.x,a.previousPosition.y),e=this.getTileUI(a.x,a.y);if(d&&e){this.tileGroup.setElementIndex(d,0);var g=this;d.location.x=-1;d.location.y=-1;d.playmove(a.x*(d.width+this.gap)+d.width/2,a.y*(d.height+this.gap)+d.height/2);var f=function(h){d.removeEventListener("moveComplete",f,g);d.parent&&g.tileGroup.removeElement(d);b.ObjectPool.getPool("game.TileUI").returnObject(d);e.value=a.value;e.playScale(!0)};d.addEventListener("moveComplete",f,this)}};a.prototype.removeTile=
function(a){if(a=this.getTileUI(a.x,a.y))this.tileGroup.removeElement(a),b.ObjectPool.getPool("game.TileUI").returnObject(a)};a.prototype.moveTile=function(a){var b=this.getTileUI(a.previousPosition.x,a.previousPosition.y);b&&(b.location.x=a.x,b.location.y=a.y,b.playmove(a.x*(b.width+this.gap)+b.width/2,a.y*(b.height+this.gap)+b.height/2))};a.prototype.clearTiles=function(){for(var a,d=this.tileGroup.numElements-1;0<=d;d--)a=this.tileGroup.removeElementAt(d),b.ObjectPool.getPool("game.TileUI").returnObject(a)};
return a}(egret.SkinnableContainer);b.MainGameUI=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.skinName=b.MainMenuUISkin;this.addEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(a,d);a.prototype.createCompleteEvent=function(a){this.removeEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this);b.ApplicationFacade.getInstance().registerMediator(new b.MainMenuMediator(this))};a.prototype.partAdded=function(a,b){d.prototype.partAdded.call(this,a,b);this.addLabel==b&&(this.addLabel.visible=
!1)};a.prototype.moveEffect_effectEndHandler=function(){this.addLabel.visible=!1};a.prototype.playScoreEffect=function(a){this.addLabel.visible=!0;this.addLabel.text="+".concat(a.toString());egret.Tween.removeTweens(this.addLabel);this.addLabel.y=25;egret.Tween.get(this.addLabel).to({y:0},300).call(this.moveEffect_effectEndHandler,this)};return a}(egret.SkinnableComponent);b.MainMenuUI=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this._win=!1;this.skinName=b.ResultWindowSkin;this.addEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(a,d);a.prototype.createCompleteEvent=function(a){this.removeEventListener(egret.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this);b.ApplicationFacade.getInstance().registerMediator(new b.ResultWindowMediator(this))};Object.defineProperty(a.prototype,"win",{get:function(){return this._win},set:function(a){a!=
this._win&&(this._win=a,this.invalidateSkinState())},enumerable:!0,configurable:!0});a.prototype.getCurrentSkinState=function(){return this.win?"win":"failed"};return a}(egret.SkinnableComponent);b.ResultWindow=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this.width=this.height=a.size;this.anchorX=this.anchorY=0.5;this.location={x:0,y:0}}__extends(a,b);Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){a!=this._value&&(this.valueChanged=!0,this._value=a,this.invalidateProperties())},enumerable:!0,configurable:!0});a.prototype.commitProperties=function(){this.valueChanged&&(this.valueChanged=!1,this.updateValue())};a.prototype.updateValue=function(){this.source=
"number.number_"+Math.log(this._value)/Math.log(2)};a.prototype.playScale=function(a){"undefined"===typeof a&&(a=!1);if(a){var b=this;this.scaleX=this.scaleY=1;egret.Tween.get(this).to({scaleX:1.3,scaleY:1.3},80).call(function(){egret.Tween.get(b).to({scaleX:1,scaleY:1},80)},this)}else this.scaleX=this.scaleY=0.1,egret.Tween.get(this).to({scaleX:1,scaleY:1},100)};a.prototype.playmove=function(a,b){var d=this;egret.Tween.get(this).to({x:a,y:b},100).call(function(){d.dispatchEvent(new egret.Event("moveComplete"))},
this)};a.size=106;return a}(egret.UIAsset);b.TileUI=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this.states=["up","down","disabled"]}__extends(a,b);a.prototype.createChildren=function(){b.prototype.createChildren.call(this);this.upSkin=new egret.UIAsset;this.upSkin.percentHeight=this.upSkin.percentWidth=100;this.upSkin.source="source.continueButton_up";this.addElement(this.upSkin);this.downSkin=new egret.UIAsset;this.downSkin.percentHeight=this.downSkin.percentWidth=100;this.downSkin.source="source.continueButton_over";this.addElement(this.downSkin);
this.disabledSkin=new egret.UIAsset;this.disabledSkin.percentHeight=this.disabledSkin.percentWidth=100;this.disabledSkin.source="source.continueButton_over";this.addElement(this.disabledSkin)};a.prototype.commitCurrentState=function(){b.prototype.commitCurrentState.call(this);switch(this.currentState){case "up":this.upSkin.visible=!0;this.disabledSkin.visible=!1;this.downSkin.visible=!1;break;case "down":this.downSkin.visible=!0;this.disabledSkin.visible=!1;this.upSkin.visible=!1;break;case "disabled":this.disabledSkin.visible=
!0,this.downSkin.visible=!1,this.upSkin.visible=!1}};return a}(egret.Skin);b.ContinueButtonSkin=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.gap=16}__extends(a,d);Object.defineProperty(a.prototype,"skinParts",{get:function(){return a._skinParts},enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren;this.backUIAsset=new egret.UIAsset;this.backUIAsset.source="source.background";this.backUIAsset.scale9Grid=new egret.Rectangle(20,20,65,65);this.backUIAsset.width=b.CommonData.size*(b.TileUI.size+this.gap)+this.gap;this.backUIAsset.height=
this.backUIAsset.width;this.addElement(this.backUIAsset);var a=new egret.TileLayout;a.columnCount=a.rowCount=b.CommonData.size;a.horizontalGap=a.verticalGap=this.gap;this.backGroundGroup=new egret.Group;this.backGroundGroup.x=this.backGroundGroup.y=this.gap;this.backGroundGroup.layout=a;this.addElement(this.backGroundGroup);this.initBackGround(b.CommonData.size);this.tileGroup=new egret.Group;this.tileGroup.x=this.tileGroup.y=this.gap;this.addElement(this.tileGroup);this.contentGroup=new egret.Group;
this.contentGroup.percentHeight=this.contentGroup.percentWidth=100;this.contentGroup.touchEnabled=!1;this.addElement(this.contentGroup)};a.prototype.initBackGround=function(a){for(var d=a*a,e=0;e<d;e++)a=new egret.UIAsset,a.width=a.height=b.TileUI.size,a.source="source.backtile",this.backGroundGroup.addElement(a)};a._skinParts=["tileGroup","contentGroup"];return a}(egret.Skin);b.MainGameUISkin=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this)}__extends(a,d);Object.defineProperty(a.prototype,"skinParts",{get:function(){return a._skinParts},enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren;var a=new egret.UIAsset;a.source="source.menu";this.addElement(a);this.resetButton=new egret.Button;this.resetButton.skinName=b.ResetButtonSkin;this.resetButton.right=10;this.resetButton.top=80;this.resetButton.label="\u91cd\u7f6e\u6e38\u620f";this.addElement(this.resetButton);
this.highScoreLabel=new egret.Label;this.highScoreLabel.text="0";this.highScoreLabel.horizontalCenter=203;this.highScoreLabel.size=23;this.highScoreLabel.textAlign="center";this.highScoreLabel.textColor=16777215;this.highScoreLabel.verticalAlign="middle";this.highScoreLabel.top=40;this.addElement(this.highScoreLabel);a=new egret.Group;a.width=96;a.height=56;a.right=103;a.top=15;this.addElement(a);this.scoreLabel=new egret.Label;this.scoreLabel.text="0";this.scoreLabel.horizontalCenter=0;this.scoreLabel.size=
23;this.scoreLabel.textAlign="center";this.scoreLabel.textColor=16777215;this.scoreLabel.verticalAlign="middle";this.scoreLabel.percentWidth=100;this.scoreLabel.y=25;a.addElement(this.scoreLabel);this.addLabel=new egret.Label;this.addLabel.horizontalCenter=0;this.addLabel.size=20;this.addLabel.textColor=9142647;a.addElement(this.addLabel)};a._skinParts=["addLabel","scoreLabel","highScoreLabel","resetButton"];return a}(egret.Skin);b.MainMenuUISkin=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(b){function a(){b.call(this);this.states=["up","down","disabled"]}__extends(a,b);a.prototype.createChildren=function(){b.prototype.createChildren.call(this);this.upSkin=new egret.UIAsset;this.upSkin.percentHeight=this.upSkin.percentWidth=100;this.upSkin.source="source.resetButton_up";this.addElement(this.upSkin);this.downSkin=new egret.UIAsset;this.downSkin.percentHeight=this.downSkin.percentWidth=100;this.downSkin.source="source.resetButton_over";this.addElement(this.downSkin);
this.disabledSkin=new egret.UIAsset;this.disabledSkin.percentHeight=this.disabledSkin.percentWidth=100;this.disabledSkin.source="source.continueButton_over";this.addElement(this.disabledSkin)};a.prototype.commitCurrentState=function(){b.prototype.commitCurrentState.call(this);switch(this.currentState){case "up":this.upSkin.visible=!0;this.disabledSkin.visible=!1;this.downSkin.visible=!1;break;case "down":this.downSkin.visible=!0;this.disabledSkin.visible=!1;this.upSkin.visible=!1;break;case "disabled":this.disabledSkin.visible=
!0,this.downSkin.visible=!1,this.upSkin.visible=!1}};return a}(egret.Skin);b.ResetButtonSkin=e})(game||(game={}));__extends=this.__extends||function(b,e){function d(){this.constructor=b}for(var a in e)e.hasOwnProperty(a)&&(b[a]=e[a]);d.prototype=e.prototype;b.prototype=new d};
(function(b){var e=function(d){function a(){d.call(this);this.states=["win","failed"]}__extends(a,d);Object.defineProperty(a.prototype,"skinParts",{get:function(){return a._skinParts},enumerable:!0,configurable:!0});a.prototype.createChildren=function(){d.prototype.createChildren;var a=new egret.UIAsset;a.alpha=0.3;a.percentHeight=a.percentWidth=100;a.source="source.background";a.scale9Grid=new egret.Rectangle(20,20,65,65);this.addElement(a);this.button=new egret.Button;this.button.horizontalCenter=
0;this.button.verticalCenter=90;this.addElement(this.button);this.resultUI=new egret.UIAsset;this.resultUI.horizontalCenter=0;this.resultUI.verticalCenter=-90;this.addElement(this.resultUI)};a.prototype.commitCurrentState=function(){d.prototype.commitCurrentState.call(this);"win"==this.currentState?(this.resultUI.source="source.result_sucess",this.button.skinName=b.ContinueButtonSkin):(this.resultUI.source="source.result_failed",this.button.skinName=b.ResetButtonSkin)};a._skinParts=["button","resultUI"];
return a}(egret.Skin);b.ResultWindowSkin=e})(game||(game={}));egret_h5={prefix:"",loadScript:function(b,e){var d=0,a=function(){egret_h5.loadSingleScript(egret_h5.prefix+b[d],function(){d++;d>=b.length?e():a()})};a()},loadSingleScript:function(b,e){var d=document.createElement("script");d.hasOwnProperty("async")&&(d.async=!1);d.src=b;d.addEventListener("load",function(){this.removeEventListener("load",arguments.callee,!1);e()},!1);document.body.appendChild(d)},startGame:function(){var b=document.getElementById(egret.StageDelegate.canvas_name);context=egret.MainContext.instance;
context.rendererContext=new egret.HTML5CanvasRenderer(b);context.touchContext=new egret.HTML5TouchContext(b);context.deviceContext=new egret.HTML5DeviceContext;context.netContext=new egret.HTML5NetContext;context.stage=new egret.Stage(b.width,b.height);var b=new egret.EqualToFrame,e=egret.Browser.getInstance().isMobile?new egret.FixedWidth:new egret.FixedSize(520,650),b=new egret.ResolutionPolicy(b,e);egret.StageDelegate.getInstance().setDesignSize(520,650,b);egret.RendererContext.CONTENT_SCALE_FACTOR=
1;context.run();if(b=egret.getDefinitionByName("Main"))if(b=new b,b instanceof egret.DisplayObject)context.stage.addChild(b);else throw Error("\u6587\u6863\u7c7b\u5fc5\u987b\u662fegret.DisplayObjectContainer\u7684\u5b50\u7c7b!");else throw Error("\u627e\u4e0d\u5230\u6587\u6863\u7c7b\uff01");},preloadScript:function(b,e){egret_h5.preloadList||(egret_h5.preloadList=[]);egret_h5.preloadList=egret_h5.preloadList.concat(b.map(function(b){return e+b}))},startLoading:function(){egret_h5.loadScript(egret_h5.preloadList,
egret_h5.startGame)}};
